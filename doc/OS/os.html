<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>

<link href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color: #ffffff; --text-color: #333333; --select-text-bg-color: #B5D6FC; --select-text-font-color: auto; --monospace: "Lucida Console",Consolas,"Courier",monospace; --title-bar-height: 20px; }
.mac-os-11 { --title-bar-height: 28px; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
h1, h2, h3, h4, h5 { white-space: pre-wrap; }
body { margin: 0px; padding: 0px; height: auto; inset: 0px; font-size: 1rem; line-height: 1.428571; overflow-x: hidden; background: inherit; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 36px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font-style: inherit; font-variant-caps: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; font-size-adjust: inherit; font-kerning: inherit; font-variant-alternates: inherit; font-variant-ligatures: inherit; font-variant-numeric: inherit; font-variant-east-asian: inherit; font-variant-position: inherit; font-variant-emoji: inherit; font-feature-settings: inherit; font-optical-sizing: inherit; font-variation-settings: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
thead, tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right-width: 0px; border-right-style: none; border-right-color: currentcolor; background-color: inherit; }
.CodeMirror-linenumber { -webkit-user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-fences-adv-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
svg { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li blockquote { margin: 1rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; border-color: transparent !important; padding-top: 0px !important; padding-bottom: 0px !important; }
  .typora-export * { print-color-adjust: exact; }
  .typora-export #write { break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
  #write > p:nth-child(1) { margin-top: 0px; }
  .typora-export-show-outline .typora-export-sidebar { display: none; }
  figure { overflow-x: visible; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
.MathJax_ref { fill: currentcolor; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: medium; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.reversefootnote { font-family: ui-monospace, sans-serif; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.6; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: medium !important; border-style: none !important; border-color: currentcolor !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom-width: 0px; border-bottom-style: none; border-bottom-color: currentcolor; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: medium; }
.highlight td, .highlight tr { border: 0px; }
mark { background: rgb(255, 255, 0); color: rgb(0, 0, 0); }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
.md-expand mark .md-meta { opacity: 0.3 !important; }
mark .md-meta { color: rgb(0, 0, 0); }
@media print {
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
}
.md-diagram-panel .messageText { stroke: none !important; }
.md-diagram-panel .start-state { fill: var(--node-fill); }
.md-diagram-panel .edgeLabel rect { opacity: 1 !important; }
.md-fences.md-fences-math { font-size: 1em; }
.md-fences-advanced:not(.md-focus) { padding: 0px; white-space: nowrap; border: 0px; }
.md-fences-advanced:not(.md-focus) { background: inherit; }
.typora-export-show-outline .typora-export-content { max-width: 1440px; margin: auto; display: flex; flex-direction: row; }
.typora-export-sidebar { width: 300px; font-size: 0.8rem; margin-top: 80px; margin-right: 18px; }
.typora-export-show-outline #write { --webkit-flex: 2; flex: 2 1 0%; }
.typora-export-sidebar .outline-content { position: fixed; top: 0px; max-height: 100%; overflow: hidden auto; padding-bottom: 30px; padding-top: 60px; width: 300px; }
@media screen and (max-width: 1024px) {
  .typora-export-sidebar, .typora-export-sidebar .outline-content { width: 240px; }
}
@media screen and (max-width: 800px) {
  .typora-export-sidebar { display: none; }
}
.outline-content li, .outline-content ul { margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; list-style: none; overflow-wrap: anywhere; }
.outline-content ul { margin-top: 0px; margin-bottom: 0px; }
.outline-content strong { font-weight: 400; }
.outline-expander { width: 1rem; height: 1.428571rem; position: relative; display: table-cell; vertical-align: middle; cursor: pointer; padding-left: 4px; }
.outline-expander::before { content: "ï„¥"; position: relative; font-family: Ionicons; display: inline-block; font-size: 8px; vertical-align: middle; }
.outline-item { padding-top: 3px; padding-bottom: 3px; cursor: pointer; }
.outline-expander:hover::before { content: "ï„£"; }
.outline-h1 > .outline-item { padding-left: 0px; }
.outline-h2 > .outline-item { padding-left: 1em; }
.outline-h3 > .outline-item { padding-left: 2em; }
.outline-h4 > .outline-item { padding-left: 3em; }
.outline-h5 > .outline-item { padding-left: 4em; }
.outline-h6 > .outline-item { padding-left: 5em; }
.outline-label { cursor: pointer; display: table-cell; vertical-align: middle; text-decoration: none; color: inherit; }
.outline-label:hover { text-decoration: underline; }
.outline-item:hover { border-color: rgb(245, 245, 245); background-color: var(--item-hover-bg-color); }
.outline-item:hover { margin-left: -28px; margin-right: -28px; border-left-width: 28px; border-left-style: solid; border-left-color: transparent; border-right-width: 28px; border-right-style: solid; border-right-color: transparent; }
.outline-item-single .outline-expander::before, .outline-item-single .outline-expander:hover::before { display: none; }
.outline-item-open > .outline-item > .outline-expander::before { content: "ï„£"; }
.outline-children { display: none; }
.info-panel-tab-wrapper { display: none; }
.outline-item-open > .outline-children { display: block; }
.typora-export .outline-item { padding-top: 1px; padding-bottom: 1px; }
.typora-export .outline-item:hover { margin-right: -8px; border-right-width: 8px; border-right-style: solid; border-right-color: transparent; }
.typora-export .outline-expander::before { content: "+"; font-family: inherit; top: -1px; }
.typora-export .outline-expander:hover::before, .typora-export .outline-item-open > .outline-item > .outline-expander::before { content: "âˆ’"; }
.typora-export-collapse-outline .outline-children { display: none; }
.typora-export-collapse-outline .outline-item-open > .outline-children, .typora-export-no-collapse-outline .outline-children { display: block; }
.typora-export-no-collapse-outline .outline-expander::before { content: "" !important; }
.typora-export-show-outline .outline-item-active > .outline-item .outline-label { font-weight: 700; }
.md-inline-math-container mjx-container { zoom: 0.95; }
mjx-container { break-inside: avoid; }
.md-alert.md-alert-note { border-left-color: rgb(9, 105, 218); }
.md-alert.md-alert-important { border-left-color: rgb(130, 80, 223); }
.md-alert.md-alert-warning { border-left-color: rgb(154, 103, 0); }
.md-alert.md-alert-tip { border-left-color: rgb(31, 136, 61); }
.md-alert.md-alert-caution { border-left-color: rgb(207, 34, 46); }
.md-alert { padding: 0px 1em; margin-bottom: 16px; color: inherit; border-left-width: 0.25em; border-left-style: solid; border-left-color: rgb(0, 0, 0); }
.md-alert-text-note { color: rgb(9, 105, 218); }
.md-alert-text-important { color: rgb(130, 80, 223); }
.md-alert-text-warning { color: rgb(154, 103, 0); }
.md-alert-text-tip { color: rgb(31, 136, 61); }
.md-alert-text-caution { color: rgb(207, 34, 46); }
.md-alert-text { font-size: 0.9rem; font-weight: 700; }
.md-alert-text svg { fill: currentcolor; position: relative; top: 0.125em; margin-right: 1ch; overflow: visible; }
.md-alert-text-container::after { content: attr(data-text); text-transform: capitalize; pointer-events: none; margin-right: 1ch; }


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background: inherit; }
.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right-width: 1px; border-right-style: solid; border-right-color: rgb(221, 221, 221); background: inherit; white-space: nowrap; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background: inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; outline: 0px; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: auto hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 10px; z-index: 3; overflow-y: hidden; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: 0px 0px !important; border: medium !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; background: 0px 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; overflow-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }
.CodeMirror-wrap pre { overflow-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right-width: 30px; border-right-style: solid; border-right-color: transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right-width: medium; border-right-style: none; border-right-color: currentcolor; width: auto; }
.CodeMirror-linebackground { position: absolute; inset: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right-width: medium; border-right-style: none; border-right-color: currentcolor; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background: rgba(255, 255, 0, 0.4); }
span.cm-underlined { text-decoration: underline; }
span.cm-strikethrough { text-decoration: line-through; }
.cm-tw-syntaxerror { color: rgb(255, 255, 255); background-color: rgb(153, 0, 0); }
.cm-tw-deleted { text-decoration: line-through; }
.cm-tw-header5 { font-weight: 700; }
.cm-tw-listitem:first-child { padding-left: 10px; }
.cm-tw-box { border-style: solid; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-color: inherit; border-top-width: 0px !important; }
.cm-tw-underline { text-decoration: underline; }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


:root {
    --side-bar-bg-color: #fafafa;
    --control-text-color: #777;
}

@include-when-export url(https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

/* open-sans-regular - latin-ext_latin */
  /* open-sans-italic - latin-ext_latin */
    /* open-sans-700 - latin-ext_latin */
    /* open-sans-700italic - latin-ext_latin */
  html {
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
}

body {
    font-family: "Open Sans","Clear Sans", "Helvetica Neue", Helvetica, Arial, 'Segoe UI Emoji', sans-serif;
    color: rgb(51, 51, 51);
    line-height: 1.6;
}

#write {
    max-width: 860px;
  	margin: 0 auto;
  	padding: 30px;
    padding-bottom: 100px;
}

@media only screen and (min-width: 1400px) {
	#write {
		max-width: 1024px;
	}
}

@media only screen and (min-width: 1800px) {
	#write {
		max-width: 1200px;
	}
}

#write > ul:first-child,
#write > ol:first-child{
    margin-top: 30px;
}

a {
    color: #4183C4;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}
h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    text-decoration: none;
}
h1 tt,
h1 code {
    font-size: inherit;
}
h2 tt,
h2 code {
    font-size: inherit;
}
h3 tt,
h3 code {
    font-size: inherit;
}
h4 tt,
h4 code {
    font-size: inherit;
}
h5 tt,
h5 code {
    font-size: inherit;
}
h6 tt,
h6 code {
    font-size: inherit;
}
h1 {
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
}
h2 {
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
}

/*@media print {
    .typora-export h1,
    .typora-export h2 {
        border-bottom: none;
        padding-bottom: initial;
    }

    .typora-export h1::after,
    .typora-export h2::after {
        content: "";
        display: block;
        height: 100px;
        margin-top: -96px;
        border-top: 1px solid #eee;
    }
}*/

h3 {
    font-size: 1.5em;
    line-height: 1.43;
}
h4 {
    font-size: 1.25em;
}
h5 {
    font-size: 1em;
}
h6 {
   font-size: 1em;
    color: #777;
}
p,
blockquote,
ul,
ol,
dl,
table{
    margin: 0.8em 0;
}
li>ol,
li>ul {
    margin: 0 0;
}
hr {
    height: 2px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
}

li p.first {
    display: inline-block;
}
ul,
ol {
    padding-left: 30px;
}
ul:first-child,
ol:first-child {
    margin-top: 0;
}
ul:last-child,
ol:last-child {
    margin-bottom: 0;
}
blockquote {
    border-left: 4px solid #dfe2e5;
    padding: 0 15px;
    color: #777777;
}
blockquote blockquote {
    padding-right: 0;
}
table {
    padding: 0;
    word-break: initial;
}
table tr {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 0;
}
table tr:nth-child(2n),
thead {
    background-color: #f8f8f8;
}
table th {
    font-weight: bold;
    border: 1px solid #dfe2e5;
    border-bottom: 0;
    margin: 0;
    padding: 6px 13px;
}
table td {
    border: 1px solid #dfe2e5;
    margin: 0;
    padding: 6px 13px;
}
table th:first-child,
table td:first-child {
    margin-top: 0;
}
table th:last-child,
table td:last-child {
    margin-bottom: 0;
}

.CodeMirror-lines {
    padding-left: 4px;
}

.code-tooltip {
    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);
    border-top: 1px solid #eef2f2;
}

.md-fences,
code,
tt {
    border: 1px solid #e7eaed;
    background-color: #f8f8f8;
    border-radius: 3px;
    padding: 0;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
}

code {
    background-color: #f3f4f4;
    padding: 0 2px 0 2px;
}

.md-fences {
    margin-bottom: 15px;
    margin-top: 15px;
    padding-top: 8px;
    padding-bottom: 6px;
}


.md-task-list-item > input {
  margin-left: -1.3em;
}

@media print {
    html {
        font-size: 13px;
    }
    pre {
        page-break-inside: avoid;
        word-wrap: break-word;
    }
}

.md-fences {
	background-color: #f8f8f8;
}
#write pre.md-meta-block {
	padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block>.code-tooltip {
	bottom: .375rem;
}

.md-mathjax-midline {
    background: #fafafa;
}

#write>h3.md-focus:before{
	left: -1.5625rem;
	top: .375rem;
}
#write>h4.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h5.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write>h6.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
.md-image>.md-meta {
    /*border: 1px solid #ddd;*/
    border-radius: 3px;
    padding: 2px 0px 0px 4px;
    font-size: 0.9em;
    color: inherit;
}

.md-tag {
    color: #a7a7a7;
    opacity: 1;
}

.md-toc { 
    margin-top:20px;
    padding-bottom:20px;
}

.sidebar-tabs {
    border-bottom: none;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header, .context-menu, .megamenu-content, footer{
    font-family: "Segoe UI", "Arial", sans-serif;
}

.file-node-content:hover .file-node-icon,
.file-node-content:hover .file-node-open-state{
    visibility: visible;
}

.mac-seamless-mode #typora-sidebar {
    background-color: #fafafa;
    background-color: var(--side-bar-bg-color);
}

.mac-os #write{
    caret-color: AccentColor;
}

.md-lang {
    color: #b4654d;
}

/*.html-for-mac {
    --item-hover-bg-color: #E6F0FE;
}*/

#md-notification .btn {
    border: 0;
}

.dropdown-menu .divider {
    border-color: #e5e5e5;
    opacity: 0.4;
}

.ty-preferences .window-content {
    background-color: #fafafa;
}

.ty-preferences .nav-group-item.active {
    color: white;
    background: #999;
}

.menu-item-container a.menu-style-btn {
    background-color: #f5f8fa;
    background-image: linear-gradient( 180deg , hsla(0, 0%, 100%, 0.8), hsla(0, 0%, 100%, 0)); 
}


 @media print { @page {margin: 0 0 0 0;} body.typora-export {padding-left: 0; padding-right: 0;} #write {padding:0;}}
</style><title>os</title>
</head>
<body class='typora-export typora-export-show-outline typora-export-no-collapse-outline'><div class='typora-export-content'>
<div class="typora-export-sidebar"><div class="outline-content"><li class="outline-item-wrapper outline-h1"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#"><strong>ğŸ </strong></a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h1"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#æ“ä½œç³»ç»ŸåŸºç¡€">æ“ä½œç³»ç»ŸåŸºç¡€</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä»€ä¹ˆæ˜¯æ“ä½œç³»ç»Ÿ">ä»€ä¹ˆæ˜¯æ“ä½œç³»ç»Ÿï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä»€ä¹ˆæ˜¯ç³»ç»Ÿè°ƒç”¨">ä»€ä¹ˆæ˜¯ç³»ç»Ÿè°ƒç”¨ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#linuxå†…æ ¸">Linuxå†…æ ¸</a></div><ul class="outline-children"></ul></li></ul></li><li class="outline-item-wrapper outline-h1"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ç¡¬ä»¶ç»“æ„">ç¡¬ä»¶ç»“æ„</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å†¯è¯ºä¾æ›¼æ¨¡å‹">å†¯è¯ºä¾æ›¼æ¨¡å‹</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#çº¿è·¯ä½å®½ä¸-cpu-ä½å®½">çº¿è·¯ä½å®½ä¸ CPU ä½å®½</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ç¨‹åºæ‰§è¡Œçš„åŸºæœ¬è¿‡ç¨‹">ç¨‹åºæ‰§è¡Œçš„åŸºæœ¬è¿‡ç¨‹</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å­˜å‚¨å™¨">å­˜å‚¨å™¨</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å¯„å­˜å™¨">å¯„å­˜å™¨</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#cpu-cache">CPU Cache</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å†…å­˜">å†…å­˜</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ssdhdd-ç¡¬ç›˜">SSD/HDD ç¡¬ç›˜</a></div><ul class="outline-children"></ul></li></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#cpuç¼“å­˜ä¸€è‡´æ€§">CPUç¼“å­˜ä¸€è‡´æ€§</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#cpuå¦‚ä½•æ‰§è¡Œä»»åŠ¡">CPUå¦‚ä½•æ‰§è¡Œä»»åŠ¡</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä¼ªå…±äº«é—®é¢˜">ä¼ªå…±äº«é—®é¢˜</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#cpu-å¦‚ä½•é€‰æ‹©çº¿ç¨‹çš„">CPU å¦‚ä½•é€‰æ‹©çº¿ç¨‹çš„ï¼Ÿ</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h4"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è°ƒåº¦ç±»">è°ƒåº¦ç±»</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h4"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å®Œå…¨å…¬å¹³è°ƒåº¦">å®Œå…¨å…¬å¹³è°ƒåº¦</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h4"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è°ƒæ•´ä¼˜å…ˆçº§">è°ƒæ•´ä¼˜å…ˆçº§</a></div><ul class="outline-children"></ul></li></ul></li></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è½¯ä¸­æ–­">è½¯ä¸­æ–­</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä¸ºä»€ä¹ˆ-01--02-ä¸ç­‰äº-03-">ä¸ºä»€ä¹ˆ 0.1 + 0.2 ä¸ç­‰äº 0.3 ï¼Ÿ</a></div><ul class="outline-children"></ul></li></ul></li><li class="outline-item-wrapper outline-h1"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è¿›ç¨‹ç®¡ç†">è¿›ç¨‹ç®¡ç†</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«">è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è¿›ç¨‹">è¿›ç¨‹</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è¿›ç¨‹çš„çŠ¶æ€">è¿›ç¨‹çš„çŠ¶æ€</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è¿›ç¨‹çš„æ§åˆ¶ç»“æ„">è¿›ç¨‹çš„æ§åˆ¶ç»“æ„</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è¿›ç¨‹çš„æ§åˆ¶">è¿›ç¨‹çš„æ§åˆ¶</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢">è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è¿›ç¨‹é—´é€šä¿¡çš„æ–¹å¼">è¿›ç¨‹é—´é€šä¿¡çš„æ–¹å¼</a></div><ul class="outline-children"></ul></li></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#çº¿ç¨‹">çº¿ç¨‹</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä¸ºä»€ä¹ˆéœ€è¦çº¿ç¨‹">ä¸ºä»€ä¹ˆéœ€è¦çº¿ç¨‹ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#çº¿ç¨‹çš„ä¼˜ç¼ºç‚¹">çº¿ç¨‹çš„ä¼˜ç¼ºç‚¹</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢">çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#çº¿ç¨‹çš„å®ç°">çº¿ç¨‹çš„å®ç°</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å¤šçº¿ç¨‹åŒæ­¥">å¤šçº¿ç¨‹åŒæ­¥</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h4"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#äº’æ–¥ä¸åŒæ­¥">äº’æ–¥ä¸åŒæ­¥</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h4"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#äº’æ–¥å’ŒåŒæ­¥çš„å®ç°">äº’æ–¥å’ŒåŒæ­¥çš„å®ç°</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h4"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#æ­»é”">æ­»é”</a></div><ul class="outline-children"></ul></li></ul></li></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#äº’æ–¥é”è‡ªæ—‹é”è¯»å†™é”æ‚²è§‚é”ä¹è§‚é”">äº’æ–¥é”ã€è‡ªæ—‹é”ã€è¯»å†™é”ã€æ‚²è§‚é”ã€ä¹è§‚é”</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#äº’æ–¥é”å’Œè‡ªæ—‹é”">äº’æ–¥é”å’Œè‡ªæ—‹é”</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è¯»å†™é”">è¯»å†™é”</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä¹è§‚é”ä¸æ‚²è§‚é”">ä¹è§‚é”ä¸æ‚²è§‚é”</a></div><ul class="outline-children"></ul></li></ul></li></ul></li><li class="outline-item-wrapper outline-h1"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å†…å­˜ç®¡ç†">å†…å­˜ç®¡ç†</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿåœ°å€">ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿåœ°å€ï¼Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è™šæ‹Ÿå†…å­˜åœ°å€å’Œç‰©ç†å†…å­˜åœ°å€">è™šæ‹Ÿå†…å­˜åœ°å€å’Œç‰©ç†å†…å­˜åœ°å€</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å¸¸è§çš„å‡ ç§å†…å­˜ç®¡ç†æœºåˆ¶">å¸¸è§çš„å‡ ç§å†…å­˜ç®¡ç†æœºåˆ¶ </a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å†…å­˜åˆ†æ®µ">å†…å­˜åˆ†æ®µ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å†…å­˜åˆ†é¡µ">å†…å­˜åˆ†é¡µ</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h4"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å¤šçº§é¡µè¡¨">å¤šçº§é¡µè¡¨</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h4"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å¿«è¡¨tlb">å¿«è¡¨(TLB)</a></div><ul class="outline-children"></ul></li></ul></li><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#æ®µé¡µå¼å†…å­˜ç®¡ç†">æ®µé¡µå¼å†…å­˜ç®¡ç†</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#åˆ†é¡µæœºåˆ¶å’Œåˆ†æ®µæœºåˆ¶çš„å…±åŒç‚¹å’ŒåŒºåˆ«">åˆ†é¡µæœºåˆ¶å’Œåˆ†æ®µæœºåˆ¶çš„å…±åŒç‚¹å’ŒåŒºåˆ«</a></div><ul class="outline-children"></ul></li></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#linuxå†…å­˜å¸ƒå±€">Linuxå†…å­˜å¸ƒå±€</a></div><ul class="outline-children"></ul></li></ul></li><li class="outline-item-wrapper outline-h1"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è°ƒåº¦ç®—æ³•">è°ƒåº¦ç®—æ³•</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è°ƒåº¦æ—¶æœº">è°ƒåº¦æ—¶æœº</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è°ƒåº¦åŸåˆ™">è°ƒåº¦åŸåˆ™</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è¿›ç¨‹è°ƒåº¦ç®—æ³•">è¿›ç¨‹è°ƒåº¦ç®—æ³•</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å†…å­˜é¡µé¢ç½®æ¢ç®—æ³•">å†…å­˜é¡µé¢ç½®æ¢ç®—æ³•</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ç£ç›˜è°ƒåº¦ç®—æ³•">ç£ç›˜è°ƒåº¦ç®—æ³•</a></div><ul class="outline-children"></ul></li></ul></li><li class="outline-item-wrapper outline-h1"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#æ–‡ä»¶ç³»ç»Ÿ">æ–‡ä»¶ç³»ç»Ÿ</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#æ–‡ä»¶ç³»ç»Ÿçš„åŸºæœ¬ç»„æˆ">æ–‡ä»¶ç³»ç»Ÿçš„åŸºæœ¬ç»„æˆ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ">è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#æ–‡ä»¶çš„ä½¿ç”¨">æ–‡ä»¶çš„ä½¿ç”¨</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#æ–‡ä»¶çš„å­˜å‚¨">æ–‡ä»¶çš„å­˜å‚¨</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ç©ºé—²ç©ºé—´ç®¡ç†">ç©ºé—²ç©ºé—´ç®¡ç†</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#æ–‡ä»¶ç³»ç»Ÿçš„ç»“æ„">æ–‡ä»¶ç³»ç»Ÿçš„ç»“æ„</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ç›®å½•çš„å­˜å‚¨">ç›®å½•çš„å­˜å‚¨</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è½¯é“¾æ¥å’Œç¡¬é“¾æ¥">è½¯é“¾æ¥å’Œç¡¬é“¾æ¥</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#æ–‡ä»¶-io">æ–‡ä»¶ I/O</a></div><ul class="outline-children"></ul></li></ul></li><li class="outline-item-wrapper outline-h1"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#è®¾å¤‡ç®¡ç†">è®¾å¤‡ç®¡ç†</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h1"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ç½‘ç»œç³»ç»Ÿ">ç½‘ç»œç³»ç»Ÿ</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#é›¶æ‹·è´">é›¶æ‹·è´</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä¸ºä»€ä¹ˆè¦æœ‰-dma-æŠ€æœ¯">ä¸ºä»€ä¹ˆè¦æœ‰ DMA æŠ€æœ¯?</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ä¼ ç»Ÿçš„æ–‡ä»¶ä¼ è¾“æœ‰å¤šç³Ÿç³•">ä¼ ç»Ÿçš„æ–‡ä»¶ä¼ è¾“æœ‰å¤šç³Ÿç³•ï¼Ÿ</a></div><ul class="outline-children"></ul></li></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å¦‚ä½•ä¼˜åŒ–æ–‡ä»¶ä¼ è¾“çš„æ€§èƒ½">å¦‚ä½•ä¼˜åŒ–æ–‡ä»¶ä¼ è¾“çš„æ€§èƒ½ï¼Ÿ</a></div><ul class="outline-children"></ul></li></ul></li><li class="outline-item-wrapper outline-h1"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#linuxå¸¸ç”¨æŒ‡ä»¤">Linuxå¸¸ç”¨æŒ‡ä»¤</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ç›®å½•åˆ‡æ¢å‘½ä»¤">ç›®å½•åˆ‡æ¢å‘½ä»¤</a></div><ul class="outline-children"></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#ç›®å½•çš„æ“ä½œå‘½ä»¤å¢åˆ æ”¹æŸ¥">ç›®å½•çš„æ“ä½œå‘½ä»¤(å¢åˆ æ”¹æŸ¥)</a></div><ul class="outline-children"><li class="outline-item-wrapper outline-h3"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#æ–‡ä»¶çš„æ“ä½œå‘½ä»¤å¢åˆ æ”¹æŸ¥">æ–‡ä»¶çš„æ“ä½œå‘½ä»¤(å¢åˆ æ”¹æŸ¥)</a></div><ul class="outline-children"></ul></li></ul></li><li class="outline-item-wrapper outline-h2"><div class="outline-item"><span class="outline-expander"></span><a class="outline-label" href="#å…¶ä»–å¸¸ç”¨å‘½ä»¤">å…¶ä»–å¸¸ç”¨å‘½ä»¤</a></div><ul class="outline-children"></ul></li></ul></li></div></div><div id='write'  class=''><div class='md-toc' mdtype='toc'><p class="md-toc-content" role="list"><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n3558"><a class="md-toc-inner" href="#"><strong>ğŸ </strong></a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n3559"><a class="md-toc-inner" href="#æ“ä½œç³»ç»ŸåŸºç¡€">æ“ä½œç³»ç»ŸåŸºç¡€</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n3560"><a class="md-toc-inner" href="#ä»€ä¹ˆæ˜¯æ“ä½œç³»ç»Ÿ">ä»€ä¹ˆæ˜¯æ“ä½œç³»ç»Ÿï¼Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n3570"><a class="md-toc-inner" href="#ä»€ä¹ˆæ˜¯ç³»ç»Ÿè°ƒç”¨">ä»€ä¹ˆæ˜¯ç³»ç»Ÿè°ƒç”¨ï¼Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n3586"><a class="md-toc-inner" href="#linuxå†…æ ¸">Linuxå†…æ ¸</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n3611"><a class="md-toc-inner" href="#ç¡¬ä»¶ç»“æ„">ç¡¬ä»¶ç»“æ„</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n3612"><a class="md-toc-inner" href="#å†¯è¯ºä¾æ›¼æ¨¡å‹">å†¯è¯ºä¾æ›¼æ¨¡å‹</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n3657"><a class="md-toc-inner" href="#çº¿è·¯ä½å®½ä¸-cpu-ä½å®½">çº¿è·¯ä½å®½ä¸ CPU ä½å®½</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n3686"><a class="md-toc-inner" href="#ç¨‹åºæ‰§è¡Œçš„åŸºæœ¬è¿‡ç¨‹">ç¨‹åºæ‰§è¡Œçš„åŸºæœ¬è¿‡ç¨‹</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n3698"><a class="md-toc-inner" href="#å­˜å‚¨å™¨">å­˜å‚¨å™¨</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n3702"><a class="md-toc-inner" href="#å¯„å­˜å™¨">å¯„å­˜å™¨</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n3712"><a class="md-toc-inner" href="#cpu-cache">CPU Cache</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n3767"><a class="md-toc-inner" href="#å†…å­˜">å†…å­˜</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n3772"><a class="md-toc-inner" href="#ssdhdd-ç¡¬ç›˜">SSD/HDD ç¡¬ç›˜</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n3776"><a class="md-toc-inner" href="#cpuç¼“å­˜ä¸€è‡´æ€§">CPUç¼“å­˜ä¸€è‡´æ€§</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n3842"><a class="md-toc-inner" href="#cpuå¦‚ä½•æ‰§è¡Œä»»åŠ¡">CPUå¦‚ä½•æ‰§è¡Œä»»åŠ¡</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n3843"><a class="md-toc-inner" href="#ä¼ªå…±äº«é—®é¢˜">ä¼ªå…±äº«é—®é¢˜</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n3851"><a class="md-toc-inner" href="#cpu-å¦‚ä½•é€‰æ‹©çº¿ç¨‹çš„">CPU å¦‚ä½•é€‰æ‹©çº¿ç¨‹çš„ï¼Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n3859"><a class="md-toc-inner" href="#è°ƒåº¦ç±»">è°ƒåº¦ç±»</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n3876"><a class="md-toc-inner" href="#å®Œå…¨å…¬å¹³è°ƒåº¦">å®Œå…¨å…¬å¹³è°ƒåº¦</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n3879"><a class="md-toc-inner" href="#è°ƒæ•´ä¼˜å…ˆçº§">è°ƒæ•´ä¼˜å…ˆçº§</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n3882"><a class="md-toc-inner" href="#è½¯ä¸­æ–­">è½¯ä¸­æ–­</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n3902"><a class="md-toc-inner" href="#ä¸ºä»€ä¹ˆ-01--02-ä¸ç­‰äº-03-">ä¸ºä»€ä¹ˆ 0.1 + 0.2 ä¸ç­‰äº 0.3 ï¼Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n3934"><a class="md-toc-inner" href="#è¿›ç¨‹ç®¡ç†">è¿›ç¨‹ç®¡ç†</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n3936"><a class="md-toc-inner" href="#è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«">è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n3959"><a class="md-toc-inner" href="#è¿›ç¨‹">è¿›ç¨‹</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n3969"><a class="md-toc-inner" href="#è¿›ç¨‹çš„çŠ¶æ€">è¿›ç¨‹çš„çŠ¶æ€</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n4015"><a class="md-toc-inner" href="#è¿›ç¨‹çš„æ§åˆ¶ç»“æ„">è¿›ç¨‹çš„æ§åˆ¶ç»“æ„</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n4056"><a class="md-toc-inner" href="#è¿›ç¨‹çš„æ§åˆ¶">è¿›ç¨‹çš„æ§åˆ¶</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n4108"><a class="md-toc-inner" href="#è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢">è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n4144"><a class="md-toc-inner" href="#è¿›ç¨‹é—´é€šä¿¡çš„æ–¹å¼">è¿›ç¨‹é—´é€šä¿¡çš„æ–¹å¼</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n4305"><a class="md-toc-inner" href="#çº¿ç¨‹">çº¿ç¨‹</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n4306"><a class="md-toc-inner" href="#ä¸ºä»€ä¹ˆéœ€è¦çº¿ç¨‹">ä¸ºä»€ä¹ˆéœ€è¦çº¿ç¨‹ï¼Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n4315"><a class="md-toc-inner" href="#çº¿ç¨‹çš„ä¼˜ç¼ºç‚¹">çº¿ç¨‹çš„ä¼˜ç¼ºç‚¹</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n4323"><a class="md-toc-inner" href="#çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢">çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n4331"><a class="md-toc-inner" href="#çº¿ç¨‹çš„å®ç°">çº¿ç¨‹çš„å®ç°</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n4384"><a class="md-toc-inner" href="#å¤šçº¿ç¨‹åŒæ­¥">å¤šçº¿ç¨‹åŒæ­¥</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n4385"><a class="md-toc-inner" href="#äº’æ–¥ä¸åŒæ­¥">äº’æ–¥ä¸åŒæ­¥</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n4390"><a class="md-toc-inner" href="#äº’æ–¥å’ŒåŒæ­¥çš„å®ç°">äº’æ–¥å’ŒåŒæ­¥çš„å®ç°</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n4410"><a class="md-toc-inner" href="#æ­»é”">æ­»é”</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n4431"><a class="md-toc-inner" href="#äº’æ–¥é”è‡ªæ—‹é”è¯»å†™é”æ‚²è§‚é”ä¹è§‚é”">äº’æ–¥é”ã€è‡ªæ—‹é”ã€è¯»å†™é”ã€æ‚²è§‚é”ã€ä¹è§‚é”</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n4434"><a class="md-toc-inner" href="#äº’æ–¥é”å’Œè‡ªæ—‹é”">äº’æ–¥é”å’Œè‡ªæ—‹é”</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n4459"><a class="md-toc-inner" href="#è¯»å†™é”">è¯»å†™é”</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n4474"><a class="md-toc-inner" href="#ä¹è§‚é”ä¸æ‚²è§‚é”">ä¹è§‚é”ä¸æ‚²è§‚é”</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n4480"><a class="md-toc-inner" href="#å†…å­˜ç®¡ç†">å†…å­˜ç®¡ç†</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n4483"><a class="md-toc-inner" href="#ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿåœ°å€">ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿåœ°å€ï¼Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n4493"><a class="md-toc-inner" href="#è™šæ‹Ÿå†…å­˜åœ°å€å’Œç‰©ç†å†…å­˜åœ°å€">è™šæ‹Ÿå†…å­˜åœ°å€å’Œç‰©ç†å†…å­˜åœ°å€</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n4502"><a class="md-toc-inner" href="#å¸¸è§çš„å‡ ç§å†…å­˜ç®¡ç†æœºåˆ¶">å¸¸è§çš„å‡ ç§å†…å­˜ç®¡ç†æœºåˆ¶ </a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n4504"><a class="md-toc-inner" href="#å†…å­˜åˆ†æ®µ">å†…å­˜åˆ†æ®µ</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n4535"><a class="md-toc-inner" href="#å†…å­˜åˆ†é¡µ">å†…å­˜åˆ†é¡µ</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n4577"><a class="md-toc-inner" href="#å¤šçº§é¡µè¡¨">å¤šçº§é¡µè¡¨</a></span><span role="listitem" class="md-toc-item md-toc-h4" data-ref="n4591"><a class="md-toc-inner" href="#å¿«è¡¨tlb">å¿«è¡¨(TLB)</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n4601"><a class="md-toc-inner" href="#æ®µé¡µå¼å†…å­˜ç®¡ç†">æ®µé¡µå¼å†…å­˜ç®¡ç†</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n4617"><a class="md-toc-inner" href="#åˆ†é¡µæœºåˆ¶å’Œåˆ†æ®µæœºåˆ¶çš„å…±åŒç‚¹å’ŒåŒºåˆ«">åˆ†é¡µæœºåˆ¶å’Œåˆ†æ®µæœºåˆ¶çš„å…±åŒç‚¹å’ŒåŒºåˆ«</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n4632"><a class="md-toc-inner" href="#linuxå†…å­˜å¸ƒå±€">Linuxå†…å­˜å¸ƒå±€</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n4658"><a class="md-toc-inner" href="#è°ƒåº¦ç®—æ³•">è°ƒåº¦ç®—æ³•</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n4662"><a class="md-toc-inner" href="#è°ƒåº¦æ—¶æœº">è°ƒåº¦æ—¶æœº</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n4679"><a class="md-toc-inner" href="#è°ƒåº¦åŸåˆ™">è°ƒåº¦åŸåˆ™</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n4697"><a class="md-toc-inner" href="#è¿›ç¨‹è°ƒåº¦ç®—æ³•">è¿›ç¨‹è°ƒåº¦ç®—æ³•</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n4745"><a class="md-toc-inner" href="#å†…å­˜é¡µé¢ç½®æ¢ç®—æ³•">å†…å­˜é¡µé¢ç½®æ¢ç®—æ³•</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n4817"><a class="md-toc-inner" href="#ç£ç›˜è°ƒåº¦ç®—æ³•">ç£ç›˜è°ƒåº¦ç®—æ³•</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n4846"><a class="md-toc-inner" href="#æ–‡ä»¶ç³»ç»Ÿ">æ–‡ä»¶ç³»ç»Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n4854"><a class="md-toc-inner" href="#æ–‡ä»¶ç³»ç»Ÿçš„åŸºæœ¬ç»„æˆ">æ–‡ä»¶ç³»ç»Ÿçš„åŸºæœ¬ç»„æˆ</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n4903"><a class="md-toc-inner" href="#è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ">è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n4917"><a class="md-toc-inner" href="#æ–‡ä»¶çš„ä½¿ç”¨">æ–‡ä»¶çš„ä½¿ç”¨</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n4946"><a class="md-toc-inner" href="#æ–‡ä»¶çš„å­˜å‚¨">æ–‡ä»¶çš„å­˜å‚¨</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n5035"><a class="md-toc-inner" href="#ç©ºé—²ç©ºé—´ç®¡ç†">ç©ºé—²ç©ºé—´ç®¡ç†</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n5069"><a class="md-toc-inner" href="#æ–‡ä»¶ç³»ç»Ÿçš„ç»“æ„">æ–‡ä»¶ç³»ç»Ÿçš„ç»“æ„</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n5101"><a class="md-toc-inner" href="#ç›®å½•çš„å­˜å‚¨">ç›®å½•çš„å­˜å‚¨</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n5115"><a class="md-toc-inner" href="#è½¯é“¾æ¥å’Œç¡¬é“¾æ¥">è½¯é“¾æ¥å’Œç¡¬é“¾æ¥</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n5124"><a class="md-toc-inner" href="#æ–‡ä»¶-io">æ–‡ä»¶ I/O</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n5166"><a class="md-toc-inner" href="#è®¾å¤‡ç®¡ç†">è®¾å¤‡ç®¡ç†</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n5167"><a class="md-toc-inner" href="#ç½‘ç»œç³»ç»Ÿ">ç½‘ç»œç³»ç»Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n5168"><a class="md-toc-inner" href="#é›¶æ‹·è´">é›¶æ‹·è´</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n5169"><a class="md-toc-inner" href="#ä¸ºä»€ä¹ˆè¦æœ‰-dma-æŠ€æœ¯">ä¸ºä»€ä¹ˆè¦æœ‰ DMA æŠ€æœ¯?</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n5200"><a class="md-toc-inner" href="#ä¼ ç»Ÿçš„æ–‡ä»¶ä¼ è¾“æœ‰å¤šç³Ÿç³•">ä¼ ç»Ÿçš„æ–‡ä»¶ä¼ è¾“æœ‰å¤šç³Ÿç³•ï¼Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n5220"><a class="md-toc-inner" href="#å¦‚ä½•ä¼˜åŒ–æ–‡ä»¶ä¼ è¾“çš„æ€§èƒ½">å¦‚ä½•ä¼˜åŒ–æ–‡ä»¶ä¼ è¾“çš„æ€§èƒ½ï¼Ÿ</a></span><span role="listitem" class="md-toc-item md-toc-h1" data-ref="n5236"><a class="md-toc-inner" href="#linuxå¸¸ç”¨æŒ‡ä»¤">Linuxå¸¸ç”¨æŒ‡ä»¤</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n5237"><a class="md-toc-inner" href="#ç›®å½•åˆ‡æ¢å‘½ä»¤">ç›®å½•åˆ‡æ¢å‘½ä»¤</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n5249"><a class="md-toc-inner" href="#ç›®å½•çš„æ“ä½œå‘½ä»¤å¢åˆ æ”¹æŸ¥">ç›®å½•çš„æ“ä½œå‘½ä»¤(å¢åˆ æ”¹æŸ¥)</a></span><span role="listitem" class="md-toc-item md-toc-h3" data-ref="n5265"><a class="md-toc-inner" href="#æ–‡ä»¶çš„æ“ä½œå‘½ä»¤å¢åˆ æ”¹æŸ¥">æ–‡ä»¶çš„æ“ä½œå‘½ä»¤(å¢åˆ æ”¹æŸ¥)</a></span><span role="listitem" class="md-toc-item md-toc-h2" data-ref="n5275"><a class="md-toc-inner" href="#å…¶ä»–å¸¸ç”¨å‘½ä»¤">å…¶ä»–å¸¸ç”¨å‘½ä»¤</a></span></p></div><p>&nbsp;</p><h1><a href='../../README.html'><strong>ğŸ </strong></a></h1><h1 id='æ“ä½œç³»ç»ŸåŸºç¡€'><span>æ“ä½œç³»ç»ŸåŸºç¡€</span></h1><h2 id='ä»€ä¹ˆæ˜¯æ“ä½œç³»ç»Ÿ'><span>ä»€ä¹ˆæ˜¯æ“ä½œç³»ç»Ÿï¼Ÿ</span></h2><ol start='' ><li><p><strong><span>æ“ä½œç³»ç»Ÿæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªè¿è¡Œåœ¨è®¡ç®—æœºä¸Šçš„è½¯ä»¶ç¨‹åºï¼Œç”¨äºç®¡ç†è®¡ç®—æœºç¡¬ä»¶å’Œè½¯ä»¶èµ„æºã€‚æ˜¯è®¡ç®—æœºçš„åŸºçŸ³ã€‚</span></strong><span> ä¸¾ä¾‹ï¼šè¿è¡Œåœ¨ç”µè„‘ä¸Šçš„æ‰€æœ‰åº”ç”¨ç¨‹åºéƒ½æ˜¯é€šè¿‡æ“ä½œç³»ç»Ÿæ¥è°ƒç”¨ç³»ç»Ÿå†…å­˜ä»¥åŠç£ç›˜ç­‰ç¡¬ä»¶ã€‚</span></p></li><li><p><strong><span>æ“ä½œç³»ç»Ÿçš„å­˜åœ¨å±è”½äº†ç¡¬ä»¶å±‚çš„å¤æ‚æ€§ã€‚</span></strong><span> æ“ä½œç³»ç»Ÿå°±åƒç¡¬ä»¶ä½¿ç”¨çš„è´Ÿè´£äººï¼Œç»Ÿç­¹ç€å„ç§ç›¸å…³äº‹é¡¹ã€‚</span></p></li><li><p><strong><span>æ“ä½œç³»ç»Ÿçš„å†…æ ¸ï¼ˆKernelï¼‰æ˜¯æ“ä½œç³»ç»Ÿçš„æ ¸å¿ƒéƒ¨åˆ†ï¼Œå®ƒè´Ÿè´£ç³»ç»Ÿçš„å†…å­˜ç®¡ç†ï¼Œç¡¬ä»¶è®¾å¤‡çš„ç®¡ç†ï¼Œæ–‡ä»¶ç³»ç»Ÿçš„ç®¡ç†ä»¥åŠåº”ç”¨ç¨‹åºçš„ç®¡ç†ã€‚</span></strong><span> å†…æ ¸æ˜¯è¿æ¥åº”ç”¨ç¨‹åºå’Œç¡¬ä»¶çš„æ¡¥æ¢ï¼Œå†³å®šç€ç³»ç»Ÿçš„æ€§èƒ½å’Œç¨³å®šæ€§ã€‚</span></p></li></ol><p><img src="assets/image-20240619182114144.png" alt="image-20240619182114144" style="zoom:50%;" /></p><p>&nbsp;</p><h2 id='ä»€ä¹ˆæ˜¯ç³»ç»Ÿè°ƒç”¨'><span>ä»€ä¹ˆæ˜¯ç³»ç»Ÿè°ƒç”¨ï¼Ÿ</span></h2><p><span>æ ¹æ®è¿›ç¨‹è®¿é—®èµ„æºçš„ç‰¹ç‚¹ï¼Œå¯ä»¥æŠŠè¿›ç¨‹åœ¨ç³»ç»Ÿä¸Šçš„è¿è¡Œåˆ†ä¸ºä¸¤ä¸ªçº§åˆ«ï¼š</span></p><p><span>1.</span><strong><span>ç”¨æˆ·æ€</span></strong><span> ï¼šå½“è¿›ç¨‹åœ¨æ‰§è¡Œç”¨æˆ·è‡ªå·±çš„ä»£ç æ—¶ï¼Œåˆ™ç§°ä¸ºå…¶å¤„äºç”¨æˆ·æ€ï¼Œè¿™æ—¶å€™CPUè®¿é—®èµ„æºæœ‰é™ï¼Œè¿è¡Œåœ¨ç”¨æˆ·æ€çš„ç¨‹åºä¸èƒ½ç›´æ¥è®¿é—®æ“ä½œç³»ç»Ÿçš„å†…æ ¸æ•°æ®ç»“æ„å’Œç¨‹åºã€‚</span>
<span>2.</span><strong><span>ç³»ç»Ÿæ€ï¼ˆå†…æ ¸æ€ï¼‰:</span></strong><span>  ç³»ç»Ÿæ€è¿è¡Œçš„è¿›ç¨‹æˆ–è€…ç¨‹åºå‡ ä¹å¯ä»¥è®¿é—®è®¡ç®—æœºçš„ä»»ä½•èµ„æºï¼Œä¸å—é™åˆ¶ã€‚</span></p><p><strong><span>ä¸€èˆ¬è¿è¡Œçš„ç¨‹åºåŸºæœ¬éƒ½æ˜¯åœ¨ç”¨æˆ·æ€ï¼Œå½“éœ€è¦è°ƒç”¨æ“ä½œç³»ç»Ÿç³»ç»Ÿæ€çº§åˆ«çš„å­åŠŸèƒ½æ—¶ï¼Œå°±éœ€è¦ç³»ç»Ÿè°ƒç”¨ã€‚</span></strong><span> ä¹Ÿå°±æ˜¯è¯´åœ¨æˆ‘ä»¬è¿è¡Œçš„ç”¨æˆ·ç¨‹åºä¸­ï¼Œå‡¡æ˜¯ç³»ç»Ÿæ€çº§åˆ«çš„èµ„æºæœ‰å…³çš„æ“ä½œï¼ˆå¦‚æ–‡ä»¶ç®¡ç†ï¼Œè¿›ç¨‹ç®¡ç†ï¼Œå†…å­˜ç®¡ç†ç­‰ï¼‰ï¼Œéƒ½å¿…é¡»é€šè¿‡ç³»ç»Ÿè°ƒç”¨æ–¹å¼å‘æ“ä½œç³»ç»Ÿæå‡ºæœåŠ¡è¯·æ±‚ï¼Œå¹¶ç”±æ“ä½œç³»ç»Ÿä»£ä¸ºå®Œæˆã€‚</span></p><p><span>ç³»ç»Ÿè°ƒç”¨æŒ‰åŠŸèƒ½å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š</span></p><ul><li><p><strong><span>è®¾å¤‡ç®¡ç†ã€‚</span></strong><span> å®Œæˆè®¾å¤‡çš„è¯·æ±‚æˆ–è€…é‡Šæ”¾ï¼Œä»¥åŠè®¾å¤‡å¯åŠ¨ç­‰åŠŸèƒ½ã€‚</span></p></li><li><p><strong><span>æ–‡ä»¶ç®¡ç†ã€‚</span></strong><span> å®Œæˆæ–‡ä»¶çš„è¯»ï¼Œå†™ï¼Œåˆ›å»ºåŠåˆ é™¤ç­‰åŠŸèƒ½ã€‚</span></p></li><li><p><strong><span>è¿›ç¨‹ç®¡ç†ã€‚</span></strong><span> å®Œæˆè¿›ç¨‹çš„åˆ›å»ºï¼Œæ’¤é”€ï¼Œé˜»å¡åŠå”¤é†’ç­‰åŠŸèƒ½ã€‚</span></p></li><li><p><strong><span>è¿›ç¨‹é€šä¿¡ã€‚</span></strong><span> å®Œæˆè¿›ç¨‹ä¹‹é—´çš„æ¶ˆæ¯ä¼ é€’æˆ–è€…ä¿¡å·ä¼ é€’ç­‰åŠŸèƒ½ã€‚</span></p></li><li><p><strong><span>å†…å­˜ç®¡ç†ã€‚</span></strong><span> å®Œæˆå†…å­˜çš„åˆ†é…ï¼Œå›æ”¶ï¼Œä»¥åŠè·å–ä½œä¸šå ç”¨å†…å­˜åŒºå¤§å°åŠåœ°å€ç­‰åŠŸèƒ½ã€‚</span></p></li></ul><h2 id='linuxå†…æ ¸'><span>Linuxå†…æ ¸</span></h2><p><strong><span>ä»€ä¹ˆæ˜¯å†…æ ¸å‘¢ï¼Ÿ</span></strong></p><p><span>è®¡ç®—æœºæ˜¯ç”±å„ç§å¤–éƒ¨ç¡¬ä»¶è®¾å¤‡ç»„æˆçš„ï¼Œæ¯”å¦‚å†…å­˜ã€cpuã€ç¡¬ç›˜ç­‰ï¼Œå¦‚æœæ¯ä¸ªåº”ç”¨éƒ½è¦å’Œè¿™äº›ç¡¬ä»¶è®¾å¤‡å¯¹æ¥é€šä¿¡åè®®ï¼Œé‚£è¿™æ ·å¤ªç´¯äº†ï¼Œæ‰€ä»¥è¿™ä¸ªä¸­é—´äººå°±ç”±å†…æ ¸æ¥è´Ÿè´£ï¼Œ</span><strong><span>è®©å†…æ ¸ä½œä¸ºåº”ç”¨è¿æ¥ç¡¬ä»¶è®¾å¤‡çš„æ¡¥æ¢</span></strong><span>ï¼Œåº”ç”¨ç¨‹åºåªéœ€å…³å¿ƒä¸å†…æ ¸äº¤äº’ï¼Œä¸ç”¨å…³å¿ƒç¡¬ä»¶çš„ç»†èŠ‚ã€‚</span></p><p><strong><span>å†…æ ¸æœ‰å“ªäº›èƒ½åŠ›å‘¢ï¼Ÿ</span></strong></p><p><span>ç°ä»£æ“ä½œç³»ç»Ÿï¼Œå†…æ ¸ä¸€èˆ¬ä¼šæä¾› 4 ä¸ªåŸºæœ¬èƒ½åŠ›ï¼š</span></p><ul><li><p><span>ç®¡ç†è¿›ç¨‹ã€çº¿ç¨‹ï¼Œå†³å®šå“ªä¸ªè¿›ç¨‹ã€çº¿ç¨‹ä½¿ç”¨ CPUï¼Œä¹Ÿå°±æ˜¯è¿›ç¨‹è°ƒåº¦çš„èƒ½åŠ›ï¼›</span></p></li><li><p><span>ç®¡ç†å†…å­˜ï¼Œå†³å®šå†…å­˜çš„åˆ†é…å’Œå›æ”¶ï¼Œä¹Ÿå°±æ˜¯å†…å­˜ç®¡ç†çš„èƒ½åŠ›ï¼›</span></p></li><li><p><span>ç®¡ç†ç¡¬ä»¶è®¾å¤‡ï¼Œä¸ºè¿›ç¨‹ä¸ç¡¬ä»¶è®¾å¤‡ä¹‹é—´æä¾›é€šä¿¡èƒ½åŠ›ï¼Œä¹Ÿå°±æ˜¯ç¡¬ä»¶é€šä¿¡èƒ½åŠ›ï¼›</span></p></li><li><p><span>æä¾›ç³»ç»Ÿè°ƒç”¨ï¼Œå¦‚æœåº”ç”¨ç¨‹åºè¦è¿è¡Œæ›´é«˜æƒé™è¿è¡Œçš„æœåŠ¡ï¼Œé‚£ä¹ˆå°±éœ€è¦æœ‰ç³»ç»Ÿè°ƒç”¨ï¼Œå®ƒæ˜¯ç”¨æˆ·ç¨‹åºä¸æ“ä½œç³»ç»Ÿä¹‹é—´çš„æ¥å£ã€‚</span></p></li></ul><p><strong><span>å†…æ ¸æ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Ÿ</span></strong></p><p><span>å†…æ ¸å…·æœ‰å¾ˆé«˜çš„æƒé™ï¼Œå¯ä»¥æ§åˆ¶ cpuã€å†…å­˜ã€ç¡¬ç›˜ç­‰ç¡¬ä»¶ï¼Œè€Œåº”ç”¨ç¨‹åºå…·æœ‰çš„æƒé™å¾ˆå°ï¼Œå› æ­¤å¤§å¤šæ•°æ“ä½œç³»ç»Ÿï¼ŒæŠŠå†…å­˜åˆ†æˆäº†ä¸¤ä¸ªåŒºåŸŸï¼š</span></p><ul><li><p><span>å†…æ ¸ç©ºé—´ï¼Œè¿™ä¸ªå†…å­˜ç©ºé—´åªæœ‰å†…æ ¸ç¨‹åºå¯ä»¥è®¿é—®ï¼›</span></p></li><li><p><span>ç”¨æˆ·ç©ºé—´ï¼Œè¿™ä¸ªå†…å­˜ç©ºé—´ä¸“é—¨ç»™åº”ç”¨ç¨‹åºä½¿ç”¨ï¼›</span></p></li></ul><p><span>ç”¨æˆ·ç©ºé—´çš„ä»£ç åªèƒ½è®¿é—®ä¸€ä¸ªå±€éƒ¨çš„å†…å­˜ç©ºé—´ï¼Œè€Œå†…æ ¸ç©ºé—´çš„ä»£ç å¯ä»¥è®¿é—®æ‰€æœ‰å†…å­˜ç©ºé—´ã€‚å› æ­¤ï¼Œå½“ç¨‹åºä½¿ç”¨ç”¨æˆ·ç©ºé—´æ—¶ï¼Œæˆ‘ä»¬å¸¸è¯´è¯¥ç¨‹åºåœ¨</span><strong><span>ç”¨æˆ·æ€</span></strong><span>æ‰§è¡Œï¼Œè€Œå½“ç¨‹åºä½¿å†…æ ¸ç©ºé—´æ—¶ï¼Œç¨‹åºåˆ™åœ¨</span><strong><span>å†…æ ¸æ€</span></strong><span>æ‰§è¡Œã€‚</span></p><p><span>åº”ç”¨ç¨‹åºå¦‚æœéœ€è¦è¿›å…¥å†…æ ¸ç©ºé—´ï¼Œå°±éœ€è¦é€šè¿‡ç³»ç»Ÿè°ƒç”¨ï¼Œä¸‹é¢æ¥çœ‹çœ‹ç³»ç»Ÿè°ƒç”¨çš„è¿‡ç¨‹ï¼š</span></p><p><img src="assets/image-20240613211343768.png" alt="image-20240613211343768" style="zoom:33%;" /></p><p><span>å†…æ ¸ç¨‹åºæ‰§è¡Œåœ¨å†…æ ¸æ€ï¼Œç”¨æˆ·ç¨‹åºæ‰§è¡Œåœ¨ç”¨æˆ·æ€ã€‚å½“åº”ç”¨ç¨‹åºä½¿ç”¨ç³»ç»Ÿè°ƒç”¨æ—¶ï¼Œä¼šäº§ç”Ÿä¸€ä¸ªä¸­æ–­ã€‚å‘ç”Ÿä¸­æ–­åï¼Œ CPU ä¼šä¸­æ–­å½“å‰åœ¨æ‰§è¡Œçš„ç”¨æˆ·ç¨‹åºï¼Œè½¬è€Œè·³è½¬åˆ°ä¸­æ–­å¤„ç†ç¨‹åºï¼Œä¹Ÿå°±æ˜¯å¼€å§‹æ‰§è¡Œå†…æ ¸ç¨‹åºã€‚å†…æ ¸å¤„ç†å®Œåï¼Œä¸»åŠ¨è§¦å‘ä¸­æ–­ï¼ŒæŠŠ CPU æ‰§è¡Œæƒé™äº¤å›ç»™ç”¨æˆ·ç¨‹åºï¼Œå›åˆ°ç”¨æˆ·æ€ç»§ç»­å·¥ä½œã€‚</span></p><h1 id='ç¡¬ä»¶ç»“æ„'><span>ç¡¬ä»¶ç»“æ„</span></h1><h2 id='å†¯è¯ºä¾æ›¼æ¨¡å‹'><span>å†¯è¯ºä¾æ›¼æ¨¡å‹</span></h2><p><span>åœ¨ 1945 å¹´å†¯è¯ºä¾æ›¼å’Œå…¶ä»–è®¡ç®—æœºç§‘å­¦å®¶ä»¬æå‡ºäº†è®¡ç®—æœºå…·ä½“å®ç°çš„æŠ¥å‘Šï¼Œå…¶éµå¾ªäº†å›¾çµæœºçš„è®¾è®¡ï¼Œè€Œä¸”è¿˜æå‡ºç”¨ç”µå­å…ƒä»¶æ„é€ è®¡ç®—æœºï¼Œå¹¶çº¦å®šäº†ç”¨äºŒè¿›åˆ¶è¿›è¡Œè®¡ç®—å’Œå­˜å‚¨ã€‚</span></p><p><span>æœ€é‡è¦çš„æ˜¯å®šä¹‰è®¡ç®—æœºåŸºæœ¬ç»“æ„ä¸º 5 ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«æ˜¯</span><strong><span>è¿ç®—å™¨ã€æ§åˆ¶å™¨ã€å­˜å‚¨å™¨ã€è¾“å…¥è®¾å¤‡ã€è¾“å‡ºè®¾å¤‡</span></strong><span>ï¼Œè¿™ 5 ä¸ªéƒ¨åˆ†ä¹Ÿè¢«ç§°ä¸º</span><strong><span>å†¯è¯ºä¾æ›¼æ¨¡å‹</span></strong><span>ã€‚è¿ç®—å™¨ã€æ§åˆ¶å™¨æ˜¯åœ¨ä¸­å¤®å¤„ç†å™¨é‡Œçš„ï¼Œå­˜å‚¨å™¨å°±æˆ‘ä»¬å¸¸è§çš„å†…å­˜ï¼Œè¾“å…¥è¾“å‡ºè®¾å¤‡åˆ™æ˜¯è®¡ç®—æœºå¤–æ¥çš„è®¾å¤‡ï¼Œæ¯”å¦‚é”®ç›˜å°±æ˜¯è¾“å…¥è®¾å¤‡ï¼Œæ˜¾ç¤ºå™¨å°±æ˜¯è¾“å‡ºè®¾å¤‡ã€‚</span></p><p><img src="assets/image-20240613170217164.png" alt="image-20240613170217164" style="zoom: 50%;" /></p><p><strong><span>å†…å­˜</span></strong></p><p><span>æˆ‘ä»¬çš„ç¨‹åºå’Œæ•°æ®éƒ½æ˜¯å­˜å‚¨åœ¨å†…å­˜ï¼Œå­˜å‚¨çš„åŒºåŸŸæ˜¯çº¿æ€§çš„ã€‚</span></p><p><span>åœ¨è®¡ç®—æœºæ•°æ®å­˜å‚¨ä¸­ï¼Œå­˜å‚¨æ•°æ®çš„åŸºæœ¬å•ä½æ˜¯</span><strong><span>å­—èŠ‚ï¼ˆbyteï¼‰</span></strong><span>ï¼Œ1 å­—èŠ‚ç­‰äº 8 ä½ï¼ˆ8 bitï¼‰ã€‚æ¯ä¸€ä¸ªå­—èŠ‚éƒ½å¯¹åº”ä¸€ä¸ªå†…å­˜åœ°å€ã€‚</span></p><p><span>å†…å­˜çš„åœ°å€æ˜¯ä» 0 å¼€å§‹ç¼–å·çš„ï¼Œç„¶åè‡ªå¢æ’åˆ—ï¼Œæœ€åä¸€ä¸ªåœ°å€ä¸ºå†…å­˜æ€»å­—èŠ‚æ•° - 1ï¼Œè¿™ç§ç»“æ„å¥½ä¼¼æˆ‘ä»¬ç¨‹åºé‡Œçš„æ•°ç»„ï¼Œæ‰€ä»¥å†…å­˜çš„è¯»å†™ä»»ä½•ä¸€ä¸ªæ•°æ®çš„é€Ÿåº¦éƒ½æ˜¯ä¸€æ ·çš„ã€‚</span></p><p><span> </span><strong><span>ä¸­å¤®å¤„ç†å™¨</span></strong></p><p><span>ä¸­å¤®å¤„ç†å™¨ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„ CPUï¼Œ32 ä½å’Œ 64 ä½ CPU æœ€ä¸»è¦åŒºåˆ«åœ¨äºä¸€æ¬¡èƒ½è®¡ç®—å¤šå°‘å­—èŠ‚æ•°æ®ï¼š</span></p><ul><li><p><span>32 ä½ CPU ä¸€æ¬¡å¯ä»¥è®¡ç®— 4 ä¸ªå­—èŠ‚ï¼›</span></p></li><li><p><span>64 ä½ CPU ä¸€æ¬¡å¯ä»¥è®¡ç®— 8 ä¸ªå­—èŠ‚ï¼›</span></p></li></ul><p><span>è¿™é‡Œçš„ 32 ä½å’Œ 64 ä½ï¼Œé€šå¸¸ç§°ä¸º CPU çš„ä½å®½ï¼Œä»£è¡¨çš„æ˜¯ CPU ä¸€æ¬¡å¯ä»¥è®¡ç®—ï¼ˆè¿ç®—ï¼‰çš„æ•°æ®é‡ã€‚ä¹‹æ‰€ä»¥ CPU è¦è¿™æ ·è®¾è®¡ï¼Œæ˜¯ä¸ºäº†èƒ½è®¡ç®—æ›´å¤§çš„æ•°å€¼ã€‚</span></p><p><span>CPU å†…éƒ¨è¿˜æœ‰ä¸€äº›ç»„ä»¶ï¼Œå¸¸è§çš„æœ‰</span><strong><span>å¯„å­˜å™¨ã€æ§åˆ¶å•å…ƒå’Œé€»è¾‘è¿ç®—å•å…ƒ</span></strong><span>ç­‰ã€‚å…¶ä¸­ï¼Œæ§åˆ¶å•å…ƒè´Ÿè´£æ§åˆ¶ CPU å·¥ä½œï¼Œé€»è¾‘è¿ç®—å•å…ƒè´Ÿè´£è®¡ç®—ï¼Œè€Œå¯„å­˜å™¨å¯ä»¥åˆ†ä¸ºå¤šç§ç±»ï¼Œæ¯ç§å¯„å­˜å™¨çš„åŠŸèƒ½åˆä¸å°½ç›¸åŒã€‚</span></p><p><span>CPU ä¸­çš„å¯„å­˜å™¨ä¸»è¦ä½œç”¨æ˜¯å­˜å‚¨è®¡ç®—æ—¶çš„æ•°æ®ï¼Œä½ å¯èƒ½å¥½å¥‡ä¸ºä»€ä¹ˆæœ‰äº†å†…å­˜è¿˜éœ€è¦å¯„å­˜å™¨ï¼ŸåŸå› å¾ˆç®€å•ï¼Œå› ä¸ºå†…å­˜ç¦» CPU å¤ªè¿œäº†ï¼Œè€Œå¯„å­˜å™¨å°±åœ¨ CPU é‡Œï¼Œè¿˜ç´§æŒ¨ç€æ§åˆ¶å•å…ƒå’Œé€»è¾‘è¿ç®—å•å…ƒï¼Œè‡ªç„¶è®¡ç®—æ—¶é€Ÿåº¦ä¼šå¾ˆå¿«ã€‚</span></p><p><span>å¸¸è§çš„å¯„å­˜å™¨ç§ç±»ï¼š</span></p><ul><li><p><em><span>é€šç”¨å¯„å­˜å™¨</span></em><span>ï¼Œç”¨æ¥å­˜æ”¾éœ€è¦è¿›è¡Œè¿ç®—çš„æ•°æ®ï¼Œæ¯”å¦‚éœ€è¦è¿›è¡ŒåŠ å’Œè¿ç®—çš„ä¸¤ä¸ªæ•°æ®ã€‚</span></p></li><li><p><em><span>ç¨‹åºè®¡æ•°å™¨</span></em><span>ï¼Œç”¨æ¥å­˜å‚¨ CPU è¦æ‰§è¡Œä¸‹ä¸€æ¡æŒ‡ä»¤ã€Œæ‰€åœ¨çš„å†…å­˜åœ°å€ã€ï¼Œæ³¨æ„ä¸æ˜¯å­˜å‚¨äº†ä¸‹ä¸€æ¡è¦æ‰§è¡Œçš„æŒ‡ä»¤ï¼Œæ­¤æ—¶æŒ‡ä»¤è¿˜åœ¨å†…å­˜ä¸­ï¼Œç¨‹åºè®¡æ•°å™¨åªæ˜¯å­˜å‚¨äº†ä¸‹ä¸€æ¡æŒ‡ä»¤ã€Œçš„åœ°å€ã€ã€‚</span></p></li><li><p><em><span>æŒ‡ä»¤å¯„å­˜å™¨</span></em><span>ï¼Œç”¨æ¥å­˜æ”¾å½“å‰æ­£åœ¨æ‰§è¡Œçš„æŒ‡ä»¤ï¼Œä¹Ÿå°±æ˜¯æŒ‡ä»¤æœ¬èº«ï¼ŒæŒ‡ä»¤è¢«æ‰§è¡Œå®Œæˆä¹‹å‰ï¼ŒæŒ‡ä»¤éƒ½å­˜å‚¨åœ¨è¿™é‡Œã€‚</span></p></li></ul><p><span> </span><strong><span>æ€»çº¿</span></strong></p><p><span>æ€»çº¿æ˜¯ç”¨äº CPU å’Œå†…å­˜ä»¥åŠå…¶ä»–è®¾å¤‡ä¹‹é—´çš„é€šä¿¡ï¼Œæ€»çº¿å¯åˆ†ä¸º 3 ç§ï¼š</span></p><ul><li><p><em><span>åœ°å€æ€»çº¿</span></em><span>ï¼Œç”¨äºæŒ‡å®š CPU å°†è¦æ“ä½œçš„å†…å­˜åœ°å€ï¼›</span></p></li><li><p><em><span>æ•°æ®æ€»çº¿</span></em><span>ï¼Œç”¨äºè¯»å†™å†…å­˜çš„æ•°æ®ï¼›</span></p></li><li><p><em><span>æ§åˆ¶æ€»çº¿</span></em><span>ï¼Œç”¨äºå‘é€å’Œæ¥æ”¶ä¿¡å·ï¼Œæ¯”å¦‚ä¸­æ–­ã€è®¾å¤‡å¤ä½ç­‰ä¿¡å·ï¼ŒCPU æ”¶åˆ°ä¿¡å·åè‡ªç„¶è¿›è¡Œå“åº”ï¼Œè¿™æ—¶ä¹Ÿéœ€è¦æ§åˆ¶æ€»çº¿ï¼›</span></p></li></ul><p><span>å½“ CPU è¦è¯»å†™å†…å­˜æ•°æ®çš„æ—¶å€™ï¼Œä¸€èˆ¬éœ€è¦é€šè¿‡ä¸‹é¢è¿™ä¸‰ä¸ªæ€»çº¿ï¼š</span></p><ul><li><p><span>é¦–å…ˆè¦é€šè¿‡ã€Œåœ°å€æ€»çº¿ã€æ¥æŒ‡å®šå†…å­˜çš„åœ°å€ï¼›</span></p></li><li><p><span>ç„¶åé€šè¿‡ã€Œæ§åˆ¶æ€»çº¿ã€æ§åˆ¶æ˜¯è¯»æˆ–å†™å‘½ä»¤ï¼›</span></p></li><li><p><span>æœ€åé€šè¿‡ã€Œæ•°æ®æ€»çº¿ã€æ¥ä¼ è¾“æ•°æ®</span></p></li></ul><p><strong><span>è¾“å…¥ã€è¾“å‡ºè®¾å¤‡</span></strong></p><p><span>è¾“å…¥è®¾å¤‡å‘è®¡ç®—æœºè¾“å…¥æ•°æ®ï¼Œè®¡ç®—æœºç»è¿‡è®¡ç®—åï¼ŒæŠŠæ•°æ®è¾“å‡ºç»™è¾“å‡ºè®¾å¤‡ã€‚æœŸé—´ï¼Œå¦‚æœè¾“å…¥è®¾å¤‡æ˜¯é”®ç›˜ï¼ŒæŒ‰ä¸‹æŒ‰é”®æ—¶æ˜¯éœ€è¦å’Œ CPU è¿›è¡Œäº¤äº’çš„ï¼Œè¿™æ—¶å°±éœ€è¦ç”¨åˆ°æ§åˆ¶æ€»çº¿äº†ã€‚</span></p><h2 id='çº¿è·¯ä½å®½ä¸-cpu-ä½å®½'><span>çº¿è·¯ä½å®½ä¸ CPU ä½å®½</span></h2><ul><li><p><strong><span>çº¿è·¯ä½å®½</span></strong></p><ul><li><p><span>æ•°æ®æ˜¯å¦‚ä½•é€šè¿‡çº¿è·¯ä¼ è¾“çš„å‘¢ï¼Ÿå…¶å®æ˜¯é€šè¿‡æ“ä½œç”µå‹ï¼Œä½ç”µå‹è¡¨ç¤º 0ï¼Œé«˜å‹ç”µå‹åˆ™è¡¨ç¤º 1</span></p></li><li><p><span>å¦‚æœæ„é€ äº†é«˜ä½é«˜è¿™æ ·çš„ä¿¡å·ï¼Œå…¶å®å°±æ˜¯ 101 äºŒè¿›åˆ¶æ•°æ®ï¼Œåè¿›åˆ¶åˆ™è¡¨ç¤º 5ï¼Œå¦‚æœåªæœ‰ä¸€æ¡çº¿è·¯ï¼Œå°±æ„å‘³ç€æ¯æ¬¡åªèƒ½ä¼ é€’ 1 bit çš„æ•°æ®ï¼Œå³ 0 æˆ– 1ï¼Œé‚£ä¹ˆä¼ è¾“ 101 è¿™ä¸ªæ•°æ®ï¼Œå°±éœ€è¦ 3 æ¬¡æ‰èƒ½ä¼ è¾“å®Œæˆï¼Œè¿™æ ·çš„æ•ˆç‡éå¸¸ä½ã€‚</span></p></li><li><p><span>è¿™æ ·ä¸€ä½ä¸€ä½ä¼ è¾“çš„æ–¹å¼ï¼Œç§°ä¸ºä¸²è¡Œï¼Œä¸‹ä¸€ä¸ª bit å¿…é¡»ç­‰å¾…ä¸Šä¸€ä¸ª bit ä¼ è¾“å®Œæˆæ‰èƒ½è¿›è¡Œä¼ è¾“ã€‚å½“ç„¶ï¼Œæƒ³ä¸€æ¬¡å¤šä¼ ä¸€äº›æ•°æ®ï¼Œå¢åŠ çº¿è·¯å³å¯ï¼Œè¿™æ—¶æ•°æ®å°±å¯ä»¥å¹¶è¡Œä¼ è¾“ã€‚</span></p></li><li><p><span>ä¸ºäº†é¿å…ä½æ•ˆç‡çš„ä¸²è¡Œä¼ è¾“çš„æ–¹å¼ï¼Œçº¿è·¯çš„ä½å®½æœ€å¥½ä¸€æ¬¡å°±èƒ½è®¿é—®åˆ°æ‰€æœ‰çš„å†…å­˜åœ°å€ã€‚</span></p></li><li><p><span>CPU æƒ³è¦æ“ä½œã€Œå†…å­˜åœ°å€ã€å°±éœ€è¦ã€Œåœ°å€æ€»çº¿ã€ï¼šæƒ³è¦ CPU æ“ä½œ 4G å¤§çš„å†…å­˜ï¼Œé‚£ä¹ˆå°±éœ€è¦ 32 æ¡åœ°å€æ€»çº¿ï¼Œå› ä¸º </span><code>2 ^ 32 = 4G</code><span>ã€‚</span></p></li></ul></li><li><p><strong><span>CPU ä½å®½</span></strong></p><ul><li><p><span>32 ä½çš„ CPU æœ€å¥½å’Œ 32 ä½å®½çš„çº¿è·¯æ­é…ï¼Œå› ä¸º 32 ä½ CPU ä¸€æ¬¡æœ€å¤šåªèƒ½æ“ä½œ 32 ä½å®½çš„åœ°å€æ€»çº¿å’Œæ•°æ®æ€»çº¿ã€‚</span></p></li><li><p><span>å¦‚æœç”¨ 32 ä½ CPU å»åŠ å’Œä¸¤ä¸ª 64 ä½å¤§å°çš„æ•°å­—ï¼Œå°±éœ€è¦æŠŠè¿™ 2 ä¸ª 64 ä½çš„æ•°å­—åˆ†æˆ 2 ä¸ªä½ä½ 32 ä½æ•°å­—å’Œ 2 ä¸ªé«˜ä½ 32 ä½æ•°å­—æ¥è®¡ç®—ï¼Œå…ˆåŠ ä¸ªä¸¤ä¸ªä½ä½çš„ 32 ä½æ•°å­—ï¼Œç®—å‡ºè¿›ä½ï¼Œç„¶ååŠ å’Œä¸¤ä¸ªé«˜ä½çš„ 32 ä½æ•°å­—ï¼Œæœ€åå†åŠ ä¸Šè¿›ä½ï¼Œå°±èƒ½ç®—å‡ºç»“æœäº†ï¼Œå¯ä»¥å‘ç° 32 ä½ CPU å¹¶ä¸èƒ½ä¸€æ¬¡æ€§è®¡ç®—å‡ºåŠ å’Œä¸¤ä¸ª 64 ä½æ•°å­—çš„ç»“æœã€‚</span></p></li><li><p><span>å¯¹äº 64 ä½ CPU å°±å¯ä»¥ä¸€æ¬¡æ€§ç®—å‡ºåŠ å’Œä¸¤ä¸ª 64 ä½æ•°å­—çš„ç»“æœï¼Œå› ä¸º 64 ä½ CPU å¯ä»¥ä¸€æ¬¡è¯»å…¥ 64 ä½çš„æ•°å­—ï¼Œå¹¶ä¸” 64 ä½ CPU å†…éƒ¨çš„é€»è¾‘è¿ç®—å•å…ƒä¹Ÿæ”¯æŒ 64 ä½æ•°å­—çš„è®¡ç®—ã€‚</span></p></li><li><p><span>ä½†æ˜¯å¹¶ä¸ä»£è¡¨ 64 ä½ CPU æ€§èƒ½æ¯” 32 ä½ CPU é«˜å¾ˆå¤šï¼Œå¾ˆå°‘åº”ç”¨éœ€è¦ç®—è¶…è¿‡ 32 ä½çš„æ•°å­—ï¼Œæ‰€ä»¥</span><strong><span>å¦‚æœè®¡ç®—çš„æ•°é¢ä¸è¶…è¿‡ 32 ä½æ•°å­—çš„æƒ…å†µä¸‹ï¼Œ32 ä½å’Œ 64 ä½ CPU ä¹‹é—´æ²¡ä»€ä¹ˆåŒºåˆ«çš„ï¼Œåªæœ‰å½“è®¡ç®—è¶…è¿‡ 32 ä½æ•°å­—çš„æƒ…å†µä¸‹ï¼Œ64 ä½çš„ä¼˜åŠ¿æ‰èƒ½ä½“ç°å‡ºæ¥</span></strong><span>ã€‚</span></p></li><li><p><span>32 ä½ CPU æœ€å¤§åªèƒ½æ“ä½œ 4GB å†…å­˜ï¼Œå°±ç®—ä½ è£…äº† 8 GB å†…å­˜æ¡ï¼Œä¹Ÿæ²¡ç”¨ã€‚è€Œ 64 ä½ CPU å¯»å€èŒƒå›´åˆ™å¾ˆå¤§ï¼Œç†è®ºæœ€å¤§çš„å¯»å€ç©ºé—´ä¸º </span><code>2^64</code><span>ã€‚</span></p></li></ul></li></ul><p>&nbsp;</p><h2 id='ç¨‹åºæ‰§è¡Œçš„åŸºæœ¬è¿‡ç¨‹'><span>ç¨‹åºæ‰§è¡Œçš„åŸºæœ¬è¿‡ç¨‹</span></h2><p><span>ç¨‹åºå®é™…ä¸Šæ˜¯ä¸€æ¡ä¸€æ¡æŒ‡ä»¤ï¼Œæ‰€ä»¥ç¨‹åºçš„è¿è¡Œè¿‡ç¨‹å°±æ˜¯æŠŠæ¯ä¸€æ¡æŒ‡ä»¤ä¸€æ­¥ä¸€æ­¥çš„æ‰§è¡Œèµ·æ¥ï¼Œè´Ÿè´£æ‰§è¡ŒæŒ‡ä»¤çš„å°±æ˜¯ CPU äº†ã€‚</span></p><p><span>é‚£ CPU æ‰§è¡Œç¨‹åºçš„è¿‡ç¨‹å¦‚ä¸‹ï¼š</span></p><ul><li><p><span>ç¬¬ä¸€æ­¥ï¼ŒCPU è¯»å–ã€Œç¨‹åºè®¡æ•°å™¨ã€çš„å€¼ï¼Œè¿™ä¸ªå€¼æ˜¯æŒ‡ä»¤çš„å†…å­˜åœ°å€ï¼Œç„¶å CPU çš„ã€Œæ§åˆ¶å•å…ƒã€æ“ä½œã€Œåœ°å€æ€»çº¿ã€æŒ‡å®šéœ€è¦è®¿é—®çš„å†…å­˜åœ°å€ï¼Œæ¥ç€é€šçŸ¥å†…å­˜è®¾å¤‡å‡†å¤‡æ•°æ®ï¼Œæ•°æ®å‡†å¤‡å¥½åé€šè¿‡ã€Œæ•°æ®æ€»çº¿ã€å°†æŒ‡ä»¤æ•°æ®ä¼ ç»™ CPUï¼ŒCPU æ”¶åˆ°å†…å­˜ä¼ æ¥çš„æ•°æ®åï¼Œå°†è¿™ä¸ªæŒ‡ä»¤æ•°æ®å­˜å…¥åˆ°ã€ŒæŒ‡ä»¤å¯„å­˜å™¨ã€ã€‚</span></p></li><li><p><span>ç¬¬äºŒæ­¥ï¼Œã€Œç¨‹åºè®¡æ•°å™¨ã€çš„å€¼è‡ªå¢ï¼Œè¡¨ç¤ºæŒ‡å‘ä¸‹ä¸€æ¡æŒ‡ä»¤ã€‚è¿™ä¸ªè‡ªå¢çš„å¤§å°ï¼Œç”± CPU çš„ä½å®½å†³å®šï¼Œæ¯”å¦‚ 32 ä½çš„ CPUï¼ŒæŒ‡ä»¤æ˜¯ 4 ä¸ªå­—èŠ‚ï¼Œéœ€è¦ 4 ä¸ªå†…å­˜åœ°å€å­˜æ”¾ï¼Œå› æ­¤ã€Œç¨‹åºè®¡æ•°å™¨ã€çš„å€¼ä¼šè‡ªå¢ 4ï¼›</span></p></li><li><p><span>ç¬¬ä¸‰æ­¥ï¼ŒCPU åˆ†æã€ŒæŒ‡ä»¤å¯„å­˜å™¨ã€ä¸­çš„æŒ‡ä»¤ï¼Œç¡®å®šæŒ‡ä»¤çš„ç±»å‹å’Œå‚æ•°ï¼Œå¦‚æœæ˜¯è®¡ç®—ç±»å‹çš„æŒ‡ä»¤ï¼Œå°±æŠŠæŒ‡ä»¤äº¤ç»™ã€Œé€»è¾‘è¿ç®—å•å…ƒã€è¿ç®—ï¼›å¦‚æœæ˜¯å­˜å‚¨ç±»å‹çš„æŒ‡ä»¤ï¼Œåˆ™äº¤ç”±ã€Œæ§åˆ¶å•å…ƒã€æ‰§è¡Œï¼›</span></p></li></ul><p><span>ç®€å•æ€»ç»“ä¸€ä¸‹å°±æ˜¯ï¼Œä¸€ä¸ªç¨‹åºæ‰§è¡Œçš„æ—¶å€™ï¼ŒCPU ä¼šæ ¹æ®ç¨‹åºè®¡æ•°å™¨é‡Œçš„å†…å­˜åœ°å€ï¼Œä»å†…å­˜é‡Œé¢æŠŠéœ€è¦æ‰§è¡Œçš„æŒ‡ä»¤è¯»å–åˆ°æŒ‡ä»¤å¯„å­˜å™¨é‡Œé¢æ‰§è¡Œï¼Œç„¶åæ ¹æ®æŒ‡ä»¤é•¿åº¦è‡ªå¢ï¼Œå¼€å§‹é¡ºåºè¯»å–ä¸‹ä¸€æ¡æŒ‡ä»¤ã€‚</span></p><p><span>CPU ä»ç¨‹åºè®¡æ•°å™¨è¯»å–æŒ‡ä»¤ã€åˆ°æ‰§è¡Œã€å†åˆ°ä¸‹ä¸€æ¡æŒ‡ä»¤ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šä¸æ–­å¾ªç¯ï¼Œç›´åˆ°ç¨‹åºæ‰§è¡Œç»“æŸï¼Œè¿™ä¸ªä¸æ–­å¾ªç¯çš„è¿‡ç¨‹è¢«ç§°ä¸º </span><strong><span>CPU çš„æŒ‡ä»¤å‘¨æœŸ</span></strong><span>ã€‚</span></p><h2 id='å­˜å‚¨å™¨'><span>å­˜å‚¨å™¨</span></h2><p><strong><span>æ¯ä¸ªå­˜å‚¨å™¨åªå’Œç›¸é‚»çš„ä¸€å±‚å­˜å‚¨å™¨è®¾å¤‡æ‰“äº¤é“ï¼Œå¹¶ä¸”å­˜å‚¨è®¾å¤‡ä¸ºäº†è¿½æ±‚æ›´å¿«çš„é€Ÿåº¦ï¼Œæ‰€éœ€çš„ææ–™æˆæœ¬å¿…ç„¶ä¹Ÿæ˜¯æ›´é«˜ï¼Œä¹Ÿæ­£å› ä¸ºæˆæœ¬å¤ªé«˜ï¼Œæ‰€ä»¥ CPU å†…éƒ¨çš„å¯„å­˜å™¨ã€L1\L2\L3 Cache åªå¥½ç”¨è¾ƒå°çš„å®¹é‡ï¼Œç›¸åå†…å­˜ã€ç¡¬ç›˜åˆ™å¯ç”¨æ›´å¤§çš„å®¹é‡ï¼Œè¿™å°±æˆ‘ä»¬ä»Šå¤©æ‰€è¯´çš„å­˜å‚¨å™¨å±‚æ¬¡ç»“æ„</span></strong><span>ã€‚</span></p><p><span>å¦å¤–ï¼Œå½“ CPU éœ€è¦è®¿é—®å†…å­˜ä¸­æŸä¸ªæ•°æ®çš„æ—¶å€™ï¼Œå¦‚æœå¯„å­˜å™¨æœ‰è¿™ä¸ªæ•°æ®ï¼ŒCPU å°±ç›´æ¥ä»å¯„å­˜å™¨å–æ•°æ®å³å¯ï¼Œå¦‚æœå¯„å­˜å™¨æ²¡æœ‰è¿™ä¸ªæ•°æ®ï¼ŒCPU å°±ä¼šæŸ¥è¯¢ L1 é«˜é€Ÿç¼“å­˜ï¼Œå¦‚æœ L1 æ²¡æœ‰ï¼Œåˆ™æŸ¥è¯¢ L2 é«˜é€Ÿç¼“å­˜ï¼ŒL2 è¿˜æ˜¯æ²¡æœ‰çš„è¯å°±æŸ¥è¯¢ L3 é«˜é€Ÿç¼“å­˜ï¼ŒL3 ä¾ç„¶æ²¡æœ‰çš„è¯ï¼Œæ‰å»å†…å­˜ä¸­å–æ•°æ®ã€‚</span></p><p><img src="assets/image-20240613173136361.png" alt="image-20240613173136361" style="zoom:50%;" /></p><h3 id='å¯„å­˜å™¨'><span>å¯„å­˜å™¨</span></h3><p><span>æœ€é è¿‘ CPU çš„æ§åˆ¶å•å…ƒå’Œé€»è¾‘è®¡ç®—å•å…ƒçš„å­˜å‚¨å™¨ï¼Œå°±æ˜¯å¯„å­˜å™¨äº†ï¼Œå®ƒä½¿ç”¨çš„ææ–™é€Ÿåº¦ä¹Ÿæ˜¯æœ€å¿«çš„ï¼Œå› æ­¤ä»·æ ¼ä¹Ÿæ˜¯æœ€è´µçš„ï¼Œé‚£ä¹ˆæ•°é‡ä¸èƒ½å¾ˆå¤šã€‚</span></p><p><span>å¯„å­˜å™¨çš„æ•°é‡é€šå¸¸åœ¨å‡ ååˆ°å‡ ç™¾ä¹‹é—´ï¼Œæ¯ä¸ªå¯„å­˜å™¨å¯ä»¥ç”¨æ¥å­˜å‚¨ä¸€å®šçš„å­—èŠ‚ï¼ˆbyteï¼‰çš„æ•°æ®ã€‚æ¯”å¦‚ï¼š</span></p><ul><li><p><span>32 ä½ CPU ä¸­å¤§å¤šæ•°å¯„å­˜å™¨å¯ä»¥å­˜å‚¨ </span><code>4</code><span> ä¸ªå­—èŠ‚ï¼›</span></p></li><li><p><span>64 ä½ CPU ä¸­å¤§å¤šæ•°å¯„å­˜å™¨å¯ä»¥å­˜å‚¨ </span><code>8</code><span> ä¸ªå­—èŠ‚ã€‚</span></p></li></ul><p><span>å¯„å­˜å™¨çš„è®¿é—®é€Ÿåº¦éå¸¸å¿«ï¼Œä¸€èˆ¬è¦æ±‚åœ¨åŠä¸ª CPU æ—¶é’Ÿå‘¨æœŸå†…å®Œæˆè¯»å†™ï¼ŒCPU æ—¶é’Ÿå‘¨æœŸè·Ÿ CPU ä¸»é¢‘æ¯æ¯ç›¸å…³ï¼Œæ¯”å¦‚ 2 GHz ä¸»é¢‘çš„ CPUï¼Œé‚£ä¹ˆå®ƒçš„æ—¶é’Ÿå‘¨æœŸå°±æ˜¯ 1/2Gï¼Œä¹Ÿå°±æ˜¯ 0.5nsï¼ˆçº³ç§’ï¼‰ã€‚</span></p><p><span>CPU å¤„ç†ä¸€æ¡æŒ‡ä»¤çš„æ—¶å€™ï¼Œé™¤äº†è¯»å†™å¯„å­˜å™¨ï¼Œè¿˜éœ€è¦è§£ç æŒ‡ä»¤ã€æ§åˆ¶æŒ‡ä»¤æ‰§è¡Œå’Œè®¡ç®—ã€‚å¦‚æœå¯„å­˜å™¨çš„é€Ÿåº¦å¤ªæ…¢ï¼Œåˆ™ä¼šæ‹‰é•¿æŒ‡ä»¤çš„å¤„ç†å‘¨æœŸï¼Œä»è€Œç»™ç”¨æˆ·çš„æ„Ÿè§‰ï¼Œå°±æ˜¯ç”µè„‘ã€Œå¾ˆæ…¢ã€ã€‚</span></p><h3 id='cpu-cache'><span>CPU Cache</span></h3><p><span>ä¸ºäº†å¼¥è¡¥ CPU ä¸å†…å­˜ä¸¤è€…ä¹‹é—´çš„æ€§èƒ½å·®å¼‚ï¼Œå°±åœ¨ CPU å†…éƒ¨å¼•å…¥äº† CPU Cacheï¼Œä¹Ÿç§°é«˜é€Ÿç¼“å­˜ã€‚</span></p><p><span>CPU Cache ç”¨çš„æ˜¯ä¸€ç§å« </span><strong><span>SRAMï¼ˆ</span><span>*</span><span>Static Random-Access</span><span>*</span><span> Memoryï¼Œé™æ€éšæœºå­˜å‚¨å™¨ï¼‰</span></strong><span> çš„èŠ¯ç‰‡ã€‚</span></p><p><span>SRAM ä¹‹æ‰€ä»¥å«ã€Œé™æ€ã€å­˜å‚¨å™¨ï¼Œæ˜¯å› ä¸ºåªè¦æœ‰ç”µï¼Œæ•°æ®å°±å¯ä»¥ä¿æŒå­˜åœ¨ï¼Œè€Œä¸€æ—¦æ–­ç”µï¼Œæ•°æ®å°±ä¼šä¸¢å¤±äº†ã€‚</span></p><p><span>åœ¨ SRAM é‡Œé¢ï¼Œä¸€ä¸ª bit çš„æ•°æ®ï¼Œé€šå¸¸éœ€è¦ 6 ä¸ªæ™¶ä½“ç®¡ï¼Œæ‰€ä»¥ SRAM çš„å­˜å‚¨å¯†åº¦ä¸é«˜ï¼ŒåŒæ ·çš„ç‰©ç†ç©ºé—´ä¸‹ï¼Œèƒ½å­˜å‚¨çš„æ•°æ®æ˜¯æœ‰é™çš„ï¼Œä¸è¿‡ä¹Ÿå› ä¸º SRAM çš„ç”µè·¯ç®€å•ï¼Œæ‰€ä»¥è®¿é—®é€Ÿåº¦éå¸¸å¿«ã€‚</span></p><p><span>CPU çš„é«˜é€Ÿç¼“å­˜ï¼Œé€šå¸¸å¯ä»¥åˆ†ä¸º L1ã€L2ã€L3 è¿™æ ·çš„ä¸‰å±‚é«˜é€Ÿç¼“å­˜ï¼Œä¹Ÿç§°ä¸ºä¸€çº§ç¼“å­˜ã€äºŒçº§ç¼“å­˜ã€ä¸‰çº§ç¼“å­˜ã€‚</span></p><p><img src="assets/image-20240613172620090.png" alt="image-20240613172620090" style="zoom:33%;" /></p><p><img src="assets/image-20240613175933196.png" alt="image-20240613175933196" style="zoom:33%;" /></p><p><span> </span><strong><span>L1 é«˜é€Ÿç¼“å­˜</span></strong></p><p><span>L1 é«˜é€Ÿç¼“å­˜çš„è®¿é—®é€Ÿåº¦å‡ ä¹å’Œå¯„å­˜å™¨ä¸€æ ·å¿«ï¼Œé€šå¸¸åªéœ€è¦ </span><code>2~4</code><span> ä¸ªæ—¶é’Ÿå‘¨æœŸï¼Œè€Œå¤§å°åœ¨</span><strong><span>å‡ å KB åˆ°å‡ ç™¾ KB</span></strong><span> ä¸ç­‰ã€‚</span></p><p><span>æ¯ä¸ª CPU æ ¸å¿ƒéƒ½æœ‰ä¸€å—å±äºè‡ªå·±çš„ L1 é«˜é€Ÿç¼“å­˜ï¼ŒæŒ‡ä»¤å’Œæ•°æ®åœ¨ L1 æ˜¯åˆ†å¼€å­˜æ”¾çš„ï¼Œæ‰€ä»¥ L1 é«˜é€Ÿç¼“å­˜é€šå¸¸åˆ†æˆ</span><strong><span>æŒ‡ä»¤ç¼“å­˜</span></strong><span>å’Œ</span><strong><span>æ•°æ®ç¼“å­˜</span></strong><span>ã€‚</span></p><p><span> </span><strong><span>L2 é«˜é€Ÿç¼“å­˜</span></strong></p><p><span>L2 é«˜é€Ÿç¼“å­˜åŒæ ·æ¯ä¸ª CPU æ ¸å¿ƒéƒ½æœ‰ï¼Œä½†æ˜¯ L2 é«˜é€Ÿç¼“å­˜ä½ç½®æ¯” L1 é«˜é€Ÿç¼“å­˜è·ç¦» CPU æ ¸å¿ƒ æ›´è¿œï¼Œå®ƒå¤§å°æ¯” L1 é«˜é€Ÿç¼“å­˜æ›´å¤§ï¼ŒCPU å‹å·ä¸åŒå¤§å°ä¹Ÿå°±ä¸åŒï¼Œé€šå¸¸å¤§å°åœ¨</span><strong><span>å‡ ç™¾ KB åˆ°å‡  MB</span></strong><span> ä¸ç­‰ï¼Œè®¿é—®é€Ÿåº¦åˆ™æ›´æ…¢ï¼Œé€Ÿåº¦åœ¨ </span><code>10~20</code><span> ä¸ªæ—¶é’Ÿå‘¨æœŸã€‚</span></p><p><strong><span>L3 é«˜é€Ÿç¼“å­˜</span></strong></p><p><span>L3 é«˜é€Ÿç¼“å­˜é€šå¸¸æ˜¯å¤šä¸ª CPU æ ¸å¿ƒå…±ç”¨çš„ï¼Œä½ç½®æ¯” L2 é«˜é€Ÿç¼“å­˜è·ç¦» CPU æ ¸å¿ƒ æ›´è¿œï¼Œå¤§å°ä¹Ÿä¼šæ›´å¤§äº›ï¼Œé€šå¸¸å¤§å°åœ¨å‡  MB åˆ°å‡ å MB ä¸ç­‰ï¼Œå…·ä½“å€¼æ ¹æ® CPU å‹å·è€Œå®šã€‚è®¿é—®é€Ÿåº¦ç›¸å¯¹ä¹Ÿæ¯”è¾ƒæ…¢ä¸€äº›ï¼Œè®¿é—®é€Ÿåº¦åœ¨ </span><code>20~60</code><span>ä¸ªæ—¶é’Ÿå‘¨æœŸã€‚</span></p><p><strong><span>æ•°æ®ç»“æ„</span></strong></p><p><span>CPU Cache æ˜¯ç”±å¾ˆå¤šä¸ª Cache Line ç»„æˆçš„ï¼ŒCache Line æ˜¯ CPU ä»å†…å­˜è¯»å–æ•°æ®çš„åŸºæœ¬å•ä½ï¼Œè€Œ Cache Line æ˜¯ç”±å„ç§æ ‡å¿—ï¼ˆTagï¼‰+ æ•°æ®å—ï¼ˆData Blockï¼‰ç»„æˆã€‚</span></p><p><span>CPU Cache çš„æ•°æ®æ˜¯ä»å†…å­˜ä¸­è¯»å–è¿‡æ¥çš„ï¼Œå®ƒæ˜¯ä»¥ä¸€å°å—ä¸€å°å—è¯»å–æ•°æ®çš„ï¼Œè€Œä¸æ˜¯æŒ‰ç…§å•ä¸ªæ•°ç»„å…ƒç´ æ¥è¯»å–æ•°æ®çš„ï¼Œåœ¨ CPU Cache ä¸­çš„ï¼Œè¿™æ ·ä¸€å°å—ä¸€å°å—çš„æ•°æ®ï¼Œç§°ä¸º </span><strong><span>Cache Lineï¼ˆç¼“å­˜å—ï¼‰</span></strong><span>ã€‚</span></p><p><strong><span>è¯»å–è¿‡ç¨‹</span></strong></p><p><span>CPU è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œæ— è®ºæ•°æ®æ˜¯å¦å­˜æ”¾åˆ° Cache ä¸­ï¼ŒCPU éƒ½æ˜¯å…ˆè®¿é—® Cacheï¼Œåªæœ‰å½“ Cache ä¸­æ‰¾ä¸åˆ°æ•°æ®æ—¶ï¼Œæ‰ä¼šå»è®¿é—®å†…å­˜ï¼Œå¹¶æŠŠå†…å­˜ä¸­çš„æ•°æ®è¯»å…¥åˆ° Cache ä¸­ï¼ŒCPU å†ä» CPU Cache è¯»å–æ•°æ®ã€‚</span></p><p><span> </span><strong><span>CPU æ€ä¹ˆçŸ¥é“è¦è®¿é—®çš„å†…å­˜æ•°æ®ï¼Œæ˜¯å¦åœ¨ Cache é‡Œï¼Ÿå¦‚æœåœ¨çš„è¯ï¼Œå¦‚ä½•æ‰¾åˆ° Cache å¯¹åº”çš„æ•°æ®å‘¢ï¼Ÿ</span></strong></p><ul><li><p><strong><span>ç›´æ¥æ˜ å°„ Cacheï¼ˆDirect Mapped Cacheï¼‰</span></strong><span>ï¼š CPU è®¿é—®å†…å­˜æ•°æ®æ—¶ï¼Œæ˜¯ä¸€å°å—ä¸€å°å—æ•°æ®è¯»å–çš„ï¼Œåœ¨å†…å­˜ä¸­ï¼Œè¿™ä¸€å—çš„æ•°æ®æˆ‘ä»¬ç§°ä¸º</span><strong><span>å†…å­˜å—ï¼ˆBlockï¼‰</span></strong><span>ï¼Œè¯»å–çš„æ—¶å€™æˆ‘ä»¬è¦æ‹¿åˆ°æ•°æ®æ‰€åœ¨å†…å­˜å—çš„åœ°å€ã€‚å¯¹äºç›´æ¥æ˜ å°„ Cache é‡‡ç”¨çš„ç­–ç•¥ï¼Œå°±æ˜¯æŠŠå†…å­˜å—çš„åœ°å€å§‹ç»ˆã€Œæ˜ å°„ã€åœ¨ä¸€ä¸ª CPU Cache Lineï¼ˆç¼“å­˜å—ï¼‰ çš„åœ°å€ï¼Œè‡³äºæ˜ å°„å…³ç³»å®ç°æ–¹å¼ï¼Œåˆ™æ˜¯ä½¿ç”¨ã€Œå–æ¨¡è¿ç®—ã€ï¼Œå–æ¨¡è¿ç®—çš„ç»“æœå°±æ˜¯å†…å­˜å—åœ°å€å¯¹åº”çš„ CPU Cache Lineï¼ˆç¼“å­˜å—ï¼‰ çš„åœ°å€ã€‚</span></p></li><li><p><span>ä¸€ä¸ªå†…å­˜çš„è®¿é—®åœ°å€ï¼ŒåŒ…æ‹¬</span><strong><span>ç»„æ ‡è®°ã€CPU Cache Line ç´¢å¼•ã€åç§»é‡</span></strong><span>è¿™ä¸‰ç§ä¿¡æ¯ï¼Œäºæ˜¯ CPU å°±èƒ½é€šè¿‡è¿™äº›ä¿¡æ¯ï¼Œåœ¨ CPU Cache ä¸­æ‰¾åˆ°ç¼“å­˜çš„æ•°æ®ã€‚è€Œå¯¹äº CPU Cache é‡Œçš„æ•°æ®ç»“æ„ï¼Œåˆ™æ˜¯ç”±</span><strong><span>ç´¢å¼• + æœ‰æ•ˆä½ + ç»„æ ‡è®° + æ•°æ®å—</span></strong><span>ç»„æˆã€‚</span></p><ul><li><p><span>å› ä¸ºå†…å­˜å—å–æ¨¡æ—¶ä¼šå­˜åœ¨ä¸åŒå†…å­˜å—æ˜ å°„åˆ°ä¸€ä¸ªCache Line ä¸­çš„æƒ…å†µï¼Œæ‰€ä»¥æ˜¯ä¸ºäº†åŒºåˆ«ä¸åŒçš„å†…å­˜å—ï¼Œåœ¨å¯¹åº”çš„ CPU Cache Line ä¸­æˆ‘ä»¬è¿˜ä¼šå­˜å‚¨ä¸€ä¸ª</span><strong><span>ç»„æ ‡è®°ï¼ˆTagï¼‰</span></strong><span>ã€‚è¿™ä¸ªç»„æ ‡è®°ä¼šè®°å½•å½“å‰ CPU Cache Line ä¸­å­˜å‚¨çš„æ•°æ®å¯¹åº”çš„å†…å­˜å—ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è¿™ä¸ªç»„æ ‡è®°æ¥åŒºåˆ†ä¸åŒçš„å†…å­˜å—ã€‚</span></p></li><li><p><span>ä»å†…å­˜åŠ è½½è¿‡æ¥çš„å®é™…å­˜æ”¾</span><strong><span>æ•°æ®ï¼ˆDataï¼‰</span></strong><span>ã€‚</span></p></li><li><p><strong><span>æœ‰æ•ˆä½ï¼ˆValid bitï¼‰</span></strong><span>ï¼Œå®ƒæ˜¯ç”¨æ¥æ ‡è®°å¯¹åº”çš„ CPU Cache Line ä¸­çš„æ•°æ®æ˜¯å¦æ˜¯æœ‰æ•ˆçš„ï¼Œå¦‚æœæœ‰æ•ˆä½æ˜¯ 0ï¼Œæ— è®º CPU Cache Line ä¸­æ˜¯å¦æœ‰æ•°æ®ï¼ŒCPU éƒ½ä¼šç›´æ¥è®¿é—®å†…å­˜ï¼Œé‡æ–°åŠ è½½æ•°æ®ã€‚</span></p></li><li><p><span>CPU åœ¨ä» CPU Cache è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œå¹¶ä¸æ˜¯è¯»å– CPU Cache Line ä¸­çš„æ•´ä¸ªæ•°æ®å—ï¼Œè€Œæ˜¯è¯»å– CPU æ‰€éœ€è¦çš„ä¸€ä¸ªæ•°æ®ç‰‡æ®µï¼Œè¿™æ ·çš„æ•°æ®ç»Ÿç§°ä¸ºä¸€ä¸ª</span><strong><span>å­—ï¼ˆWordï¼‰</span></strong><span>ã€‚é‚£æ€ä¹ˆåœ¨å¯¹åº”çš„ CPU Cache Line ä¸­æ•°æ®å—ä¸­æ‰¾åˆ°æ‰€éœ€çš„å­—å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼Œéœ€è¦ä¸€ä¸ª</span><strong><span>åç§»é‡ï¼ˆOffsetï¼‰</span></strong></p></li></ul></li><li><p><span>å¦‚æœå†…å­˜ä¸­çš„æ•°æ®å·²ç»åœ¨ CPU Cache ä¸­äº†ï¼Œé‚£ CPU è®¿é—®ä¸€ä¸ªå†…å­˜åœ°å€çš„æ—¶å€™ï¼Œä¼šç»å†è¿™ 4 ä¸ªæ­¥éª¤ï¼š</span></p><ol start='' ><li><p><span>æ ¹æ®å†…å­˜åœ°å€ä¸­ç´¢å¼•ä¿¡æ¯ï¼Œè®¡ç®—åœ¨ CPU Cache ä¸­çš„ç´¢å¼•ï¼Œä¹Ÿå°±æ˜¯æ‰¾å‡ºå¯¹åº”çš„ CPU Cache Line çš„åœ°å€ï¼›</span></p></li><li><p><span>æ‰¾åˆ°å¯¹åº” CPU Cache Line åï¼Œåˆ¤æ–­ CPU Cache Line ä¸­çš„æœ‰æ•ˆä½ï¼Œç¡®è®¤ CPU Cache Line ä¸­æ•°æ®æ˜¯å¦æ˜¯æœ‰æ•ˆçš„ï¼Œå¦‚æœæ˜¯æ— æ•ˆçš„ï¼ŒCPU å°±ä¼šç›´æ¥è®¿é—®å†…å­˜ï¼Œå¹¶é‡æ–°åŠ è½½æ•°æ®ï¼Œå¦‚æœæ•°æ®æœ‰æ•ˆï¼Œåˆ™å¾€ä¸‹æ‰§è¡Œï¼›</span></p></li><li><p><span>å¯¹æ¯”å†…å­˜åœ°å€ä¸­ç»„æ ‡è®°å’Œ CPU Cache Line ä¸­çš„ç»„æ ‡è®°ï¼Œç¡®è®¤ CPU Cache Line ä¸­çš„æ•°æ®æ˜¯æˆ‘ä»¬è¦è®¿é—®çš„å†…å­˜æ•°æ®ï¼Œå¦‚æœä¸æ˜¯çš„è¯ï¼ŒCPU å°±ä¼šç›´æ¥è®¿é—®å†…å­˜ï¼Œå¹¶é‡æ–°åŠ è½½æ•°æ®ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œåˆ™å¾€ä¸‹æ‰§è¡Œï¼›</span></p></li><li><p><span>æ ¹æ®å†…å­˜åœ°å€ä¸­åç§»é‡ä¿¡æ¯ï¼Œä» CPU Cache Line çš„æ•°æ®å—ä¸­ï¼Œè¯»å–å¯¹åº”çš„å­—ã€‚</span></p></li></ol></li></ul><p><img src="assets/image-20240613190404732.png" alt="image-20240613190404732" style="zoom:30%;" /></p><p><strong><span>å¦‚ä½•å†™å‡ºè®© CPU è·‘å¾—æ›´å¿«çš„ä»£ç ï¼Ÿ</span></strong></p><p><span>è¦æƒ³å†™å‡ºè®© CPU è·‘å¾—æ›´å¿«çš„ä»£ç ï¼Œå°±éœ€è¦å†™å‡ºç¼“å­˜å‘½ä¸­ç‡é«˜çš„ä»£ç ï¼ŒCPU L1 Cache åˆ†ä¸ºæ•°æ®ç¼“å­˜å’ŒæŒ‡ä»¤ç¼“å­˜ï¼Œå› è€Œéœ€è¦åˆ†åˆ«æé«˜å®ƒä»¬çš„ç¼“å­˜å‘½ä¸­ç‡ï¼š</span></p><ul><li><p><span>å¯¹äºæ•°æ®ç¼“å­˜ï¼Œæˆ‘ä»¬åœ¨éå†æ•°æ®çš„æ—¶å€™ï¼Œåº”è¯¥æŒ‰ç…§å†…å­˜å¸ƒå±€çš„é¡ºåºæ“ä½œï¼Œè¿™æ˜¯å› ä¸º CPU Cache æ˜¯æ ¹æ® CPU Cache Line æ‰¹é‡æ“ä½œæ•°æ®çš„ï¼Œæ‰€ä»¥é¡ºåºåœ°æ“ä½œè¿ç»­å†…å­˜æ•°æ®æ—¶ï¼Œæ€§èƒ½èƒ½å¾—åˆ°æœ‰æ•ˆçš„æå‡ï¼›</span></p></li><li><p><span>å¯¹äºæŒ‡ä»¤ç¼“å­˜ï¼Œæœ‰è§„å¾‹çš„æ¡ä»¶åˆ†æ”¯è¯­å¥èƒ½å¤Ÿè®© CPU çš„åˆ†æ”¯é¢„æµ‹å™¨å‘æŒ¥ä½œç”¨ï¼Œè¿›ä¸€æ­¥æé«˜æ‰§è¡Œçš„æ•ˆç‡ï¼›</span></p></li></ul><p><span>å¦å¤–ï¼Œå¯¹äºå¤šæ ¸ CPU ç³»ç»Ÿï¼Œçº¿ç¨‹å¯èƒ½åœ¨ä¸åŒ CPU æ ¸å¿ƒæ¥å›åˆ‡æ¢ï¼Œè¿™æ ·å„ä¸ªæ ¸å¿ƒçš„ç¼“å­˜å‘½ä¸­ç‡å°±ä¼šå—åˆ°å½±å“ï¼Œäºæ˜¯è¦æƒ³æé«˜çº¿ç¨‹çš„ç¼“å­˜å‘½ä¸­ç‡ï¼Œå¯ä»¥è€ƒè™‘æŠŠçº¿ç¨‹ç»‘å®š CPU åˆ°æŸä¸€ä¸ª CPU æ ¸å¿ƒ</span></p><h3 id='å†…å­˜'><span>å†…å­˜</span></h3><p><span>å†…å­˜ç”¨çš„èŠ¯ç‰‡å’Œ CPU Cache æœ‰æ‰€ä¸åŒï¼Œå®ƒä½¿ç”¨çš„æ˜¯ä¸€ç§å«ä½œ </span><strong><span>DRAM ï¼ˆ</span><span>*</span><span>Dynamic Random Access Memory</span><span>*</span><span>ï¼ŒåŠ¨æ€éšæœºå­˜å–å­˜å‚¨å™¨ï¼‰</span></strong><span> çš„èŠ¯ç‰‡ã€‚</span></p><p><span>ç›¸æ¯” SRAMï¼ŒDRAM çš„å¯†åº¦æ›´é«˜ï¼ŒåŠŸè€—æ›´ä½ï¼Œæœ‰æ›´å¤§çš„å®¹é‡ï¼Œè€Œä¸”é€ ä»·æ¯” SRAM èŠ¯ç‰‡ä¾¿å®œå¾ˆå¤šã€‚</span></p><p><span>DRAM å­˜å‚¨ä¸€ä¸ª bit æ•°æ®ï¼Œåªéœ€è¦ä¸€ä¸ªæ™¶ä½“ç®¡å’Œä¸€ä¸ªç”µå®¹å°±èƒ½å­˜å‚¨ï¼Œä½†æ˜¯å› ä¸ºæ•°æ®ä¼šè¢«å­˜å‚¨åœ¨ç”µå®¹é‡Œï¼Œç”µå®¹ä¼šä¸æ–­æ¼ç”µï¼Œæ‰€ä»¥éœ€è¦ã€Œå®šæ—¶åˆ·æ–°ã€ç”µå®¹ï¼Œæ‰èƒ½ä¿è¯æ•°æ®ä¸ä¼šè¢«ä¸¢å¤±ï¼Œè¿™å°±æ˜¯ DRAM ä¹‹æ‰€ä»¥è¢«ç§°ä¸ºã€ŒåŠ¨æ€ã€å­˜å‚¨å™¨çš„åŸå› ï¼Œåªæœ‰ä¸æ–­åˆ·æ–°ï¼Œæ•°æ®æ‰èƒ½è¢«å­˜å‚¨èµ·æ¥ã€‚</span></p><p><span>DRAM çš„æ•°æ®è®¿é—®ç”µè·¯å’Œåˆ·æ–°ç”µè·¯éƒ½æ¯” SRAM æ›´å¤æ‚ï¼Œæ‰€ä»¥è®¿é—®çš„é€Ÿåº¦ä¼šæ›´æ…¢ï¼Œå†…å­˜é€Ÿåº¦å¤§æ¦‚åœ¨ </span><code>200~300</code><span> ä¸ª æ—¶é’Ÿå‘¨æœŸä¹‹é—´ã€‚</span></p><h3 id='ssdhdd-ç¡¬ç›˜'><span>SSD/HDD ç¡¬ç›˜</span></h3><p><span>SSDï¼ˆ</span><em><span>Solid-state disk</span></em><span>ï¼‰ å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„å›ºä½“ç¡¬ç›˜ï¼Œç»“æ„å’Œå†…å­˜ç±»ä¼¼ï¼Œä½†æ˜¯å®ƒç›¸æ¯”å†…å­˜çš„ä¼˜ç‚¹æ˜¯æ–­ç”µåæ•°æ®è¿˜æ˜¯å­˜åœ¨çš„ï¼Œè€Œå†…å­˜ã€å¯„å­˜å™¨ã€é«˜é€Ÿç¼“å­˜æ–­ç”µåæ•°æ®éƒ½ä¼šä¸¢å¤±ã€‚å†…å­˜çš„è¯»å†™é€Ÿåº¦æ¯” SSD å¤§æ¦‚å¿« </span><code>10~1000</code><span> å€ã€‚</span></p><p><span>å½“ç„¶ï¼Œè¿˜æœ‰ä¸€æ¬¾ä¼ ç»Ÿçš„ç¡¬ç›˜ï¼Œä¹Ÿå°±æ˜¯æœºæ¢°ç¡¬ç›˜ï¼ˆ</span><em><span>Hard Disk Drive, HDD</span></em><span>ï¼‰ï¼Œå®ƒæ˜¯é€šè¿‡ç‰©ç†è¯»å†™çš„æ–¹å¼æ¥è®¿é—®æ•°æ®çš„ï¼Œå› æ­¤å®ƒè®¿é—®é€Ÿåº¦æ˜¯éå¸¸æ…¢çš„ï¼Œå®ƒçš„é€Ÿåº¦æ¯”å†…å­˜æ…¢ </span><code>10W</code><span> å€å·¦å³ã€‚</span></p><p><span>ç”±äº SSD çš„ä»·æ ¼å¿«æ¥è¿‘æœºæ¢°ç¡¬ç›˜äº†ï¼Œå› æ­¤æœºæ¢°ç¡¬ç›˜å·²ç»é€æ¸è¢« SSD æ›¿ä»£äº†ã€‚</span></p><h2 id='cpuç¼“å­˜ä¸€è‡´æ€§'><span>CPUç¼“å­˜ä¸€è‡´æ€§</span></h2><p><strong><span>ä»€ä¹ˆæ—¶æœºæ‰æŠŠ Cache ä¸­çš„æ•°æ®å†™å›åˆ°å†…å­˜ï¼Ÿ</span></strong></p><p><strong><span>å†™ç›´è¾¾ï¼ˆ</span><em><span>Write Through</span></em><span>ï¼‰</span></strong><span>: æŠŠæ•°æ®åŒæ—¶å†™å…¥å†…å­˜å’Œ Cache ä¸­ã€‚</span></p><ul><li><p><span>æµç¨‹ï¼šCPUå†™å…¥å‰ä¼šå…ˆåˆ¤æ–­æ•°æ®æ˜¯å¦å·²ç»åœ¨ CPU Cache é‡Œé¢äº†.</span></p><ul><li><p><span>å¦‚æœæ•°æ®å·²ç»åœ¨ Cache é‡Œé¢ï¼Œå…ˆå°†æ•°æ®æ›´æ–°åˆ° Cache é‡Œé¢ï¼Œå†å†™å…¥åˆ°å†…å­˜é‡Œé¢ï¼›</span></p></li><li><p><span>å¦‚æœæ•°æ®æ²¡æœ‰åœ¨ Cache é‡Œé¢ï¼Œå°±ç›´æ¥æŠŠæ•°æ®æ›´æ–°åˆ°å†…å­˜é‡Œé¢ã€‚</span></p></li></ul></li><li><p><span>é—®é¢˜ï¼šæ— è®ºæ•°æ®åœ¨ä¸åœ¨ Cache é‡Œé¢ï¼Œæ¯æ¬¡å†™æ“ä½œéƒ½ä¼šå†™å›åˆ°å†…å­˜ï¼Œè¿™æ ·å†™æ“ä½œå°†ä¼šèŠ±è´¹å¤§é‡çš„æ—¶é—´ï¼Œæ— ç–‘æ€§èƒ½ä¼šå—åˆ°å¾ˆå¤§çš„å½±å“ã€‚</span></p></li></ul><p><strong><span>å†™å›ï¼ˆ</span><em><span>Write Back</span></em><span>ï¼‰</span></strong><span>ï¼šæ—¢ç„¶å†™ç›´è¾¾ç”±äºæ¯æ¬¡å†™æ“ä½œéƒ½ä¼šæŠŠæ•°æ®å†™å›åˆ°å†…å­˜ï¼Œè€Œå¯¼è‡´å½±å“æ€§èƒ½ï¼Œäºæ˜¯ä¸ºäº†è¦å‡å°‘æ•°æ®å†™å›å†…å­˜çš„é¢‘ç‡ï¼Œå°±å‡ºç°äº†</span><strong><span>å†™å›ï¼ˆWrite Backï¼‰çš„æ–¹æ³•</span></strong><span>ã€‚</span></p><ul><li><p><span>æµç¨‹ï¼š</span><strong><span>å½“å‘ç”Ÿå†™æ“ä½œæ—¶ï¼Œæ–°çš„æ•°æ®ä»…ä»…è¢«å†™å…¥ Cache Block é‡Œï¼Œåªæœ‰å½“ä¿®æ”¹è¿‡çš„ Cache Blockã€Œè¢«æ›¿æ¢ã€æ—¶æ‰éœ€è¦å†™åˆ°å†…å­˜ä¸­</span></strong><span>ï¼Œå‡å°‘äº†æ•°æ®å†™å›å†…å­˜çš„é¢‘ç‡ï¼Œè¿™æ ·ä¾¿å¯ä»¥æé«˜ç³»ç»Ÿçš„æ€§èƒ½ã€‚</span></p><ul><li><p><span>å¦‚æœå½“å‘ç”Ÿå†™æ“ä½œæ—¶ï¼Œæ•°æ®å·²ç»åœ¨ CPU Cache é‡Œçš„è¯ï¼Œåˆ™æŠŠæ•°æ®æ›´æ–°åˆ° CPU Cache é‡Œï¼ŒåŒæ—¶æ ‡è®° CPU Cache é‡Œçš„è¿™ä¸ª Cache Block ä¸ºè„ï¼ˆDirtyï¼‰çš„ï¼Œè¿™ä¸ªè„çš„æ ‡è®°ä»£è¡¨è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬ CPU Cache é‡Œé¢çš„è¿™ä¸ª Cache Block çš„æ•°æ®å’Œå†…å­˜æ˜¯ä¸ä¸€è‡´çš„ï¼Œè¿™ç§æƒ…å†µæ˜¯ä¸ç”¨æŠŠæ•°æ®å†™åˆ°å†…å­˜é‡Œçš„ï¼›</span></p></li><li><p><span>å¦‚æœå½“å‘ç”Ÿå†™æ“ä½œæ—¶ï¼Œæ•°æ®æ‰€å¯¹åº”çš„ Cache Block é‡Œå­˜æ”¾çš„æ˜¯ã€Œåˆ«çš„å†…å­˜åœ°å€çš„æ•°æ®ã€ï¼ˆå› ä¸ºä¸€ä¸ªcashe lineä¼šæœ‰å¯èƒ½æœ‰ä¸åŒçš„å†…å­˜å—ï¼Œæ˜¯é€šè¿‡TagåŒºåˆ†çš„ï¼‰çš„è¯ï¼Œå°±è¦æ£€æŸ¥è¿™ä¸ª Cache Block é‡Œçš„æ•°æ®æœ‰æ²¡æœ‰è¢«æ ‡è®°ä¸ºè„çš„ï¼š</span></p><ul><li><p><span>å¦‚æœæ˜¯è„çš„è¯ï¼Œæˆ‘ä»¬å°±è¦æŠŠè¿™ä¸ª Cache Block é‡Œçš„æ•°æ®å†™å›åˆ°å†…å­˜ï¼Œç„¶åå†æŠŠå½“å‰è¦å†™å…¥çš„æ•°æ®ï¼Œå…ˆä»å†…å­˜è¯»å…¥åˆ° Cache Block é‡Œï¼ˆæ³¨æ„ï¼Œè¿™ä¸€æ­¥ä¸æ˜¯æ²¡ç”¨çš„ï¼Œå…·ä½“ä¸ºä»€ä¹ˆè¦è¿™ä¸€æ­¥ï¼Œå¯ä»¥çœ‹è¿™ä¸ªã€Œ</span><a href='https://stackoverflow.com/questions/26672661/for-write-back-cache-policy-why-data-should-first-be-read-from-memory-before-w'><span>å›ç­” (opens new window)</span></a><span>ã€ï¼‰ï¼Œç„¶åå†æŠŠå½“å‰è¦å†™å…¥çš„æ•°æ®å†™å…¥åˆ° Cache Blockï¼Œæœ€åä¹ŸæŠŠå®ƒæ ‡è®°ä¸ºè„çš„ï¼›</span></p></li><li><p><span>å¦‚æœä¸æ˜¯è„çš„è¯ï¼ŒæŠŠå½“å‰è¦å†™å…¥çš„æ•°æ®å…ˆä»å†…å­˜è¯»å…¥åˆ° Cache Block é‡Œï¼Œæ¥ç€å°†æ•°æ®å†™å…¥åˆ°è¿™ä¸ª Cache Block é‡Œï¼Œç„¶åå†æŠŠè¿™ä¸ª Cache Block æ ‡è®°ä¸ºè„çš„å°±å¥½äº†ã€‚</span></p></li></ul></li></ul></li><li><p><span>å¯ä»¥å‘ç°å†™å›è¿™ä¸ªæ–¹æ³•ï¼Œåœ¨æŠŠæ•°æ®å†™å…¥åˆ° Cache çš„æ—¶å€™ï¼Œåªæœ‰åœ¨ç¼“å­˜ä¸å‘½ä¸­ï¼ŒåŒæ—¶æ•°æ®å¯¹åº”çš„ Cache ä¸­çš„ Cache Block ä¸ºè„æ ‡è®°çš„æƒ…å†µä¸‹ï¼Œæ‰ä¼šå°†æ•°æ®å†™åˆ°å†…å­˜ä¸­ï¼Œè€Œåœ¨ç¼“å­˜å‘½ä¸­çš„æƒ…å†µä¸‹ï¼Œåˆ™åœ¨å†™å…¥å Cache åï¼Œåªéœ€æŠŠè¯¥æ•°æ®å¯¹åº”çš„ Cache Block æ ‡è®°ä¸ºè„å³å¯ï¼Œè€Œä¸ç”¨å†™åˆ°å†…å­˜é‡Œã€‚è¿™æ ·çš„å¥½å¤„æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬å¤§é‡çš„æ“ä½œéƒ½èƒ½å¤Ÿå‘½ä¸­ç¼“å­˜ï¼Œé‚£ä¹ˆå¤§éƒ¨åˆ†æ—¶é—´é‡Œ CPU éƒ½ä¸éœ€è¦è¯»å†™å†…å­˜ï¼Œè‡ªç„¶æ€§èƒ½ç›¸æ¯”å†™ç›´è¾¾ä¼šé«˜å¾ˆå¤šã€‚</span></p></li></ul><p><span>ç°åœ¨ CPU éƒ½æ˜¯å¤šæ ¸çš„ï¼Œç”±äº L1/L2 Cache æ˜¯å¤šä¸ªæ ¸å¿ƒå„è‡ªç‹¬æœ‰çš„ï¼Œé‚£ä¹ˆä¼šå¸¦æ¥å¤šæ ¸å¿ƒçš„</span><strong><span>ç¼“å­˜ä¸€è‡´æ€§ï¼ˆCache Coherenceï¼‰</span></strong><span> çš„é—®é¢˜ï¼Œå¦‚æœä¸èƒ½ä¿è¯ç¼“å­˜ä¸€è‡´æ€§çš„é—®é¢˜ï¼Œå°±å¯èƒ½é€ æˆç»“æœé”™è¯¯ã€‚Aæ ¸å¿ƒå†™äº†cacheçš„æ•°æ®ï¼Œæ²¡æœ‰æ›´æ–°åˆ°å†…å­˜ï¼Œåªæ˜¯æ ‡è®°ä¸ºè„ï¼Œè¿™æ—¶å€™Bæ ¸å¿ƒè¯»å†…å­˜å°±ä¼šè¯»åˆ°è„æ•°æ®ã€‚</span><strong><span>è§£å†³æ–¹æ¡ˆ</span></strong><span>ï¼š</span></p><ul><li><p><span>ç¬¬ä¸€ç‚¹ï¼ŒæŸä¸ª CPU æ ¸å¿ƒé‡Œçš„ Cache æ•°æ®æ›´æ–°æ—¶ï¼Œå¿…é¡»è¦ä¼ æ’­åˆ°å…¶ä»–æ ¸å¿ƒçš„ Cacheï¼Œè¿™ä¸ªç§°ä¸º</span><strong><span>å†™ä¼ æ’­ï¼ˆWrite Propagationï¼‰</span></strong><span>ï¼›</span></p><ul><li><p><strong><span>æ€»çº¿å—…æ¢</span></strong><span>ï¼šCPU éœ€è¦æ¯æ—¶æ¯åˆ»ç›‘å¬æ€»çº¿ä¸Šçš„ä¸€åˆ‡æ´»åŠ¨ï¼Œä½†æ˜¯ä¸ç®¡åˆ«çš„æ ¸å¿ƒçš„ Cache æ˜¯å¦ç¼“å­˜ç›¸åŒçš„æ•°æ®ï¼Œéƒ½éœ€è¦å‘å‡ºä¸€ä¸ªå¹¿æ’­äº‹ä»¶ï¼Œè¿™æ— ç–‘ä¼šåŠ é‡æ€»çº¿çš„è´Ÿè½½ã€‚</span></p></li></ul></li><li><p><span>ç¬¬äºŒç‚¹ï¼ŒæŸä¸ª CPU æ ¸å¿ƒé‡Œå¯¹æ•°æ®çš„æ“ä½œé¡ºåºï¼Œå¿…é¡»åœ¨å…¶ä»–æ ¸å¿ƒçœ‹èµ·æ¥é¡ºåºæ˜¯ä¸€æ ·çš„ï¼Œè¿™ä¸ªç§°ä¸º</span><strong><span>äº‹åŠ¡çš„ä¸²è¡ŒåŒ–ï¼ˆTransaction Serializationï¼‰</span></strong><span>ã€‚</span></p><ul><li><p><span>CPU æ ¸å¿ƒå¯¹äº Cache ä¸­æ•°æ®çš„æ“ä½œï¼Œéœ€è¦åŒæ­¥ç»™å…¶ä»– CPU æ ¸å¿ƒï¼›</span></p></li><li><p><span>è¦å¼•å…¥ã€Œé”ã€çš„æ¦‚å¿µï¼Œå¦‚æœä¸¤ä¸ª CPU æ ¸å¿ƒé‡Œæœ‰ç›¸åŒæ•°æ®çš„ Cacheï¼Œé‚£ä¹ˆå¯¹äºè¿™ä¸ª Cache æ•°æ®çš„æ›´æ–°ï¼Œåªæœ‰æ‹¿åˆ°äº†ã€Œé”ã€ï¼Œæ‰èƒ½è¿›è¡Œå¯¹åº”çš„æ•°æ®æ›´æ–°ã€‚</span></p></li></ul></li></ul><p><strong><span>MESI åè®®</span></strong></p><p><span>MESI åè®®å…¶å®æ˜¯ 4 ä¸ªçŠ¶æ€å•è¯çš„å¼€å¤´å­—æ¯ç¼©å†™ï¼Œåˆ†åˆ«æ˜¯ï¼š</span></p><ul><li><p><em><span>Modified</span></em><span>ï¼Œå·²ä¿®æ”¹</span></p><ul><li><p><span>æŒ‡çš„æ˜¯è„æ ‡è®°ï¼Œä»£è¡¨è¯¥ Cache Block ä¸Šçš„æ•°æ®å·²ç»è¢«æ›´æ–°è¿‡ï¼Œä½†æ˜¯è¿˜æ²¡æœ‰å†™åˆ°å†…å­˜é‡Œã€‚</span></p></li></ul></li><li><p><em><span>Exclusive</span></em><span>ï¼Œç‹¬å </span></p><ul><li><p><span>æ®åªå­˜å‚¨åœ¨ä¸€ä¸ª CPU æ ¸å¿ƒçš„ Cache é‡Œï¼Œè€Œå…¶ä»– CPU æ ¸å¿ƒçš„ Cache æ²¡æœ‰è¯¥æ•°æ®ã€‚è¿™ä¸ªæ—¶å€™ï¼Œå¦‚æœè¦å‘ç‹¬å çš„ Cache å†™æ•°æ®ï¼Œå°±å¯ä»¥ç›´æ¥è‡ªç”±åœ°å†™å…¥ï¼Œè€Œä¸éœ€è¦é€šçŸ¥å…¶ä»– CPU æ ¸å¿ƒï¼Œå› ä¸ºåªæœ‰ä½ è¿™æœ‰è¿™ä¸ªæ•°æ®ï¼Œå°±ä¸å­˜åœ¨ç¼“å­˜ä¸€è‡´æ€§çš„é—®é¢˜äº†ï¼Œäºæ˜¯å°±å¯ä»¥éšä¾¿æ“ä½œè¯¥æ•°æ®ã€‚</span></p></li></ul></li><li><p><em><span>Shared</span></em><span>ï¼Œå…±äº«</span></p><ul><li><p><span>å¦‚æœæœ‰å…¶ä»–æ ¸å¿ƒä»å†…å­˜è¯»å–äº†ç›¸åŒçš„æ•°æ®åˆ°å„è‡ªçš„ Cache ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™ï¼Œç‹¬å çŠ¶æ€ä¸‹çš„æ•°æ®å°±ä¼šå˜æˆå…±äº«çŠ¶æ€ã€‚ä»£è¡¨ç€ç›¸åŒçš„æ•°æ®åœ¨å¤šä¸ª CPU æ ¸å¿ƒçš„ Cache é‡Œéƒ½æœ‰ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬è¦æ›´æ–° Cache é‡Œé¢çš„æ•°æ®çš„æ—¶å€™ï¼Œä¸èƒ½ç›´æ¥ä¿®æ”¹ï¼Œè€Œæ˜¯è¦å…ˆå‘æ‰€æœ‰çš„å…¶ä»– CPU æ ¸å¿ƒå¹¿æ’­ä¸€ä¸ªè¯·æ±‚ï¼Œè¦æ±‚å…ˆæŠŠå…¶ä»–æ ¸å¿ƒçš„ Cache ä¸­å¯¹åº”çš„ Cache Line æ ‡è®°ä¸ºã€Œæ— æ•ˆã€çŠ¶æ€ï¼Œç„¶åå†æ›´æ–°å½“å‰ Cache é‡Œé¢çš„æ•°æ®ã€‚</span></p></li></ul></li><li><p><em><span>Invalidated</span></em><span>ï¼Œå·²å¤±æ•ˆ</span></p><ul><li><p><span>è¿™ä¸ª Cache Block é‡Œçš„æ•°æ®å·²ç»å¤±æ•ˆäº†ï¼Œä¸å¯ä»¥è¯»å–è¯¥çŠ¶æ€çš„æ•°æ®ã€‚</span></p></li></ul></li></ul><h2 id='cpuå¦‚ä½•æ‰§è¡Œä»»åŠ¡'><span>CPUå¦‚ä½•æ‰§è¡Œä»»åŠ¡</span></h2><h3 id='ä¼ªå…±äº«é—®é¢˜'><span>ä¼ªå…±äº«é—®é¢˜</span></h3><p><img src="assets/image-20240613202328854.png" alt="image-20240613202328854" style="zoom:33%;" /></p><p><span>å¤šä¸ªçº¿ç¨‹åŒæ—¶è¯»å†™åŒä¸€ä¸ª Cache Line çš„ä¸åŒå˜é‡æ—¶ï¼Œè€Œå¯¼è‡´ CPU Cache å¤±æ•ˆçš„ç°è±¡ã€‚é‚£ä¹ˆå¯¹äºå¤šä¸ªçº¿ç¨‹å…±äº«çš„çƒ­ç‚¹æ•°æ®ï¼Œå³ç»å¸¸ä¼šä¿®æ”¹çš„æ•°æ®ï¼Œåº”è¯¥é¿å…è¿™äº›æ•°æ®åˆšå¥½åœ¨åŒä¸€ä¸ª Cache Line ä¸­ï¼Œé¿å…çš„æ–¹å¼ä¸€èˆ¬æœ‰ Cache Line å¤§å°å­—èŠ‚å¯¹é½ï¼ˆLinux å†…æ ¸ä¸­çš„å®å®šä¹‰</span><code>__cacheline_aligned_in_smp</code><span> ï¼‰ï¼Œä»¥åŠå­—èŠ‚å¡«å……ï¼ˆåº”ç”¨å±‚é¢ï¼‰ç­‰æ–¹æ³•ã€‚</span></p><p><span>ä¸¾ä¸ªä¾‹å­ï¼Œæœ‰ä¸‹é¢è¿™ä¸ªç»“æ„ä½“ï¼š</span></p><p><img src="assets/image-20240613202823827.png" alt="image-20240613202823827" style="zoom:25%;" /></p><p><span>ç»“æ„ä½“é‡Œçš„ä¸¤ä¸ªæˆå‘˜å˜é‡ a å’Œ b åœ¨ç‰©ç†å†…å­˜åœ°å€ä¸Šæ˜¯è¿ç»­çš„ï¼Œäºæ˜¯å®ƒä»¬å¯èƒ½ä¼šä½äºåŒä¸€ä¸ª Cache Line ä¸­ã€‚æ‰€ä»¥ï¼Œä¸ºäº†é˜²æ­¢å‰é¢æåˆ°çš„ Cache ä¼ªå…±äº«é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸Šé¢ä»‹ç»çš„å®å®šä¹‰ï¼Œå°† b çš„åœ°å€è®¾ç½®ä¸º Cache Line å¯¹é½åœ°å€ï¼Œå¦‚ä¸‹ï¼š</span></p><p><img src="assets/image-20240613202852096.png" alt="image-20240613202852096" style="zoom:25%;" /></p><p><span>è¿™æ · a å’Œ b å˜é‡å°±ä¸ä¼šåœ¨åŒä¸€ä¸ª Cache Line ä¸­äº†ã€‚</span></p><h3 id='cpu-å¦‚ä½•é€‰æ‹©çº¿ç¨‹çš„'><span>CPU å¦‚ä½•é€‰æ‹©çº¿ç¨‹çš„ï¼Ÿ</span></h3><p><span>Linuxç³»ç»Ÿä¸€èˆ¬æ¥è¯´ï¼Œæ²¡æœ‰åˆ›å»ºçº¿ç¨‹çš„è¿›ç¨‹ï¼Œæ˜¯åªæœ‰å•ä¸ªæ‰§è¡Œæµï¼Œå®ƒè¢«ç§°ä¸ºæ˜¯ä¸»çº¿ç¨‹ã€‚å¦‚æœæƒ³è®©è¿›ç¨‹å¤„ç†æ›´å¤šçš„äº‹æƒ…ï¼Œå¯ä»¥åˆ›å»ºå¤šä¸ªçº¿ç¨‹åˆ†åˆ«å»å¤„ç†ï¼Œä½†ä¸ç®¡æ€ä¹ˆæ ·ï¼Œå®ƒä»¬å¯¹åº”åˆ°å†…æ ¸é‡Œéƒ½æ˜¯ </span><code>task_struct</code><span>ã€‚Linux å†…æ ¸é‡Œçš„è°ƒåº¦å™¨ï¼Œè°ƒåº¦çš„å¯¹è±¡å°±æ˜¯ </span><code>task_struct</code><span>ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±æŠŠè¿™ä¸ªæ•°æ®ç»“æ„ç»Ÿç§°ä¸º</span><strong><span>ä»»åŠ¡</span></strong><span>ã€‚</span></p><p><span>åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œæ ¹æ®ä»»åŠ¡çš„ä¼˜å…ˆçº§ä»¥åŠå“åº”è¦æ±‚ï¼Œä¸»è¦åˆ†ä¸ºä¸¤ç§ï¼Œå…¶ä¸­ä¼˜å…ˆçº§çš„æ•°å€¼è¶Šå°ï¼Œä¼˜å…ˆçº§è¶Šé«˜ï¼š</span></p><ul><li><p><span>å®æ—¶ä»»åŠ¡ï¼Œå¯¹ç³»ç»Ÿçš„å“åº”æ—¶é—´è¦æ±‚å¾ˆé«˜ï¼Œä¹Ÿå°±æ˜¯è¦å°½å¯èƒ½å¿«çš„æ‰§è¡Œå®æ—¶ä»»åŠ¡ï¼Œä¼˜å…ˆçº§åœ¨ </span><code>0~99</code><span> èŒƒå›´å†…çš„å°±ç®—å®æ—¶ä»»åŠ¡ï¼›</span></p></li><li><p><span>æ™®é€šä»»åŠ¡ï¼Œå“åº”æ—¶é—´æ²¡æœ‰å¾ˆé«˜çš„è¦æ±‚ï¼Œä¼˜å…ˆçº§åœ¨ </span><code>100~139</code><span> èŒƒå›´å†…éƒ½æ˜¯æ™®é€šä»»åŠ¡çº§åˆ«ï¼›</span></p></li></ul><h4 id='è°ƒåº¦ç±»'><span>è°ƒåº¦ç±»</span></h4><p><span>ç”±äºä»»åŠ¡æœ‰ä¼˜å…ˆçº§ä¹‹åˆ†ï¼ŒLinux ç³»ç»Ÿä¸ºäº†ä¿éšœé«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡èƒ½å¤Ÿå°½å¯èƒ½æ—©çš„è¢«æ‰§è¡Œï¼Œäºæ˜¯åˆ†ä¸ºäº†è¿™å‡ ç§è°ƒåº¦ç±»</span></p><p><img src="assets/image-20240613203144211.png" alt="image-20240613203144211" style="zoom:25%;" /></p><p><span>Deadline å’Œ Realtime è¿™ä¸¤ä¸ªè°ƒåº¦ç±»ï¼Œéƒ½æ˜¯åº”ç”¨äºå®æ—¶ä»»åŠ¡çš„ï¼Œè¿™ä¸¤ä¸ªè°ƒåº¦ç±»çš„è°ƒåº¦ç­–ç•¥åˆèµ·æ¥å…±æœ‰è¿™ä¸‰ç§ï¼Œå®ƒä»¬çš„ä½œç”¨å¦‚ä¸‹ï¼š</span></p><ul><li><p><em><span>SCHED_DEADLINE</span></em><span>ï¼šæ˜¯æŒ‰ç…§ deadline è¿›è¡Œè°ƒåº¦çš„ï¼Œè·ç¦»å½“å‰æ—¶é—´ç‚¹æœ€è¿‘çš„ deadline çš„ä»»åŠ¡ä¼šè¢«ä¼˜å…ˆè°ƒåº¦ï¼›</span></p></li><li><p><em><span>SCHED_FIFO</span></em><span>ï¼šå¯¹äºç›¸åŒä¼˜å…ˆçº§çš„ä»»åŠ¡ï¼ŒæŒ‰å…ˆæ¥å…ˆæœåŠ¡çš„åŸåˆ™ï¼Œä½†æ˜¯ä¼˜å…ˆçº§æ›´é«˜çš„ä»»åŠ¡ï¼Œå¯ä»¥æŠ¢å ä½ä¼˜å…ˆçº§çš„ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯ä¼˜å…ˆçº§é«˜çš„å¯ä»¥ã€Œæ’é˜Ÿã€ï¼›</span></p></li><li><p><em><span>SCHED_RR</span></em><span>ï¼šå¯¹äºç›¸åŒä¼˜å…ˆçº§çš„ä»»åŠ¡ï¼Œè½®æµç€è¿è¡Œï¼Œæ¯ä¸ªä»»åŠ¡éƒ½æœ‰ä¸€å®šçš„æ—¶é—´ç‰‡ï¼Œå½“ç”¨å®Œæ—¶é—´ç‰‡çš„ä»»åŠ¡ä¼šè¢«æ”¾åˆ°é˜Ÿåˆ—å°¾éƒ¨ï¼Œä»¥ä¿è¯ç›¸åŒä¼˜å…ˆçº§ä»»åŠ¡çš„å…¬å¹³æ€§ï¼Œä½†æ˜¯é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡ä¾ç„¶å¯ä»¥æŠ¢å ä½ä¼˜å…ˆçº§çš„ä»»åŠ¡ï¼›</span></p></li></ul><p><span>è€Œ Fair è°ƒåº¦ç±»æ˜¯åº”ç”¨äºæ™®é€šä»»åŠ¡ï¼Œéƒ½æ˜¯ç”± CFS è°ƒåº¦å™¨ç®¡ç†çš„ï¼Œåˆ†ä¸ºä¸¤ç§è°ƒåº¦ç­–ç•¥ï¼š</span></p><ul><li><p><em><span>SCHED_NORMAL</span></em><span>ï¼šæ™®é€šä»»åŠ¡ä½¿ç”¨çš„è°ƒåº¦ç­–ç•¥ï¼›</span></p></li><li><p><em><span>SCHED_BATCH</span></em><span>ï¼šåå°ä»»åŠ¡çš„è°ƒåº¦ç­–ç•¥ï¼Œä¸å’Œç»ˆç«¯è¿›è¡Œäº¤äº’ï¼Œå› æ­¤åœ¨ä¸å½±å“å…¶ä»–éœ€è¦äº¤äº’çš„ä»»åŠ¡ï¼Œå¯ä»¥é€‚å½“é™ä½å®ƒçš„ä¼˜å…ˆçº§ã€‚</span></p></li></ul><h4 id='å®Œå…¨å…¬å¹³è°ƒåº¦'><span>å®Œå…¨å…¬å¹³è°ƒåº¦</span></h4><p><span>æˆ‘ä»¬å¹³æ—¥é‡Œé‡åˆ°çš„åŸºæœ¬éƒ½æ˜¯æ™®é€šä»»åŠ¡ï¼Œå¯¹äºæ™®é€šä»»åŠ¡æ¥è¯´ï¼Œå…¬å¹³æ€§æœ€é‡è¦ï¼Œåœ¨ Linux é‡Œé¢ï¼Œå®ç°äº†ä¸€ä¸ªåŸºäº CFS çš„è°ƒåº¦ç®—æ³•ï¼Œä¹Ÿå°±æ˜¯</span><strong><span>å®Œå…¨å…¬å¹³è°ƒåº¦ï¼ˆ</span><span>*</span><span>Completely Fair Scheduling</span><span>*</span><span>ï¼‰</span></strong><span>ã€‚</span></p><p><span>è¿™ä¸ªç®—æ³•çš„ç†å¿µæ˜¯æƒ³è®©åˆ†é…ç»™æ¯ä¸ªä»»åŠ¡çš„ CPU æ—¶é—´æ˜¯ä¸€æ ·ï¼Œäºæ˜¯å®ƒä¸ºæ¯ä¸ªä»»åŠ¡å®‰æ’ä¸€ä¸ªè™šæ‹Ÿè¿è¡Œæ—¶é—´ vruntimeï¼Œå¦‚æœä¸€ä¸ªä»»åŠ¡åœ¨è¿è¡Œï¼Œå…¶è¿è¡Œçš„è¶Šä¹…ï¼Œè¯¥ä»»åŠ¡çš„ vruntime è‡ªç„¶å°±ä¼šè¶Šå¤§ï¼Œè€Œæ²¡æœ‰è¢«è¿è¡Œçš„ä»»åŠ¡ï¼Œvruntime æ˜¯ä¸ä¼šå˜åŒ–çš„ã€‚é‚£ä¹ˆï¼Œ</span><strong><span>åœ¨ CFS ç®—æ³•è°ƒåº¦çš„æ—¶å€™ï¼Œä¼šä¼˜å…ˆé€‰æ‹© vruntime å°‘çš„ä»»åŠ¡</span></strong><span>ï¼Œä»¥ä¿è¯æ¯ä¸ªä»»åŠ¡çš„å…¬å¹³æ€§ã€‚</span></p><h4 id='è°ƒæ•´ä¼˜å…ˆçº§'><span>è°ƒæ•´ä¼˜å…ˆçº§</span></h4><p><span>å¦‚æœæˆ‘ä»¬å¯åŠ¨ä»»åŠ¡çš„æ—¶å€™ï¼Œæ²¡æœ‰ç‰¹æ„å»æŒ‡å®šä¼˜å…ˆçº§çš„è¯ï¼Œé»˜è®¤æƒ…å†µä¸‹éƒ½æ˜¯æ™®é€šä»»åŠ¡ï¼Œæ™®é€šä»»åŠ¡çš„è°ƒåº¦ç±»æ˜¯ Fairï¼Œç”± CFS è°ƒåº¦å™¨æ¥è¿›è¡Œç®¡ç†ã€‚CFS è°ƒåº¦å™¨çš„ç›®çš„æ˜¯å®ç°ä»»åŠ¡è¿è¡Œçš„å…¬å¹³æ€§ï¼Œä¹Ÿå°±æ˜¯ä¿éšœæ¯ä¸ªä»»åŠ¡çš„è¿è¡Œçš„æ—¶é—´æ˜¯å·®ä¸å¤šçš„ã€‚</span></p><p><span>å¦‚æœä½ æƒ³è®©æŸä¸ªæ™®é€šä»»åŠ¡æœ‰æ›´å¤šçš„æ‰§è¡Œæ—¶é—´ï¼Œå¯ä»¥è°ƒæ•´ä»»åŠ¡çš„ </span><code>nice</code><span> å€¼ï¼Œä»è€Œè®©ä¼˜å…ˆçº§é«˜ä¸€äº›çš„ä»»åŠ¡æ‰§è¡Œæ›´å¤šæ—¶é—´ã€‚nice çš„å€¼èƒ½è®¾ç½®çš„èŒƒå›´æ˜¯ </span><code>-20ï½19</code><span>ï¼Œ å€¼è¶Šä½ï¼Œè¡¨æ˜ä¼˜å…ˆçº§è¶Šé«˜ï¼Œå› æ­¤ -20 æ˜¯æœ€é«˜ä¼˜å…ˆçº§ï¼Œ19 åˆ™æ˜¯æœ€ä½ä¼˜å…ˆçº§ï¼Œé»˜è®¤ä¼˜å…ˆçº§æ˜¯ 0ã€‚</span></p><h2 id='è½¯ä¸­æ–­'><span>è½¯ä¸­æ–­</span></h2><p><strong><span>ä»€ä¹ˆæ˜¯ä¸­æ–­ï¼Ÿ</span></strong></p><ul><li><p><span>ä¸­æ–­æ˜¯ç³»ç»Ÿç”¨æ¥å“åº”ç¡¬ä»¶è®¾å¤‡è¯·æ±‚çš„ä¸€ç§æœºåˆ¶ï¼Œæ“ä½œç³»ç»Ÿæ”¶åˆ°ç¡¬ä»¶çš„ä¸­æ–­è¯·æ±‚ï¼Œä¼šæ‰“æ–­æ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹ï¼Œç„¶åè°ƒç”¨å†…æ ¸ä¸­çš„ä¸­æ–­å¤„ç†ç¨‹åºæ¥å“åº”è¯·æ±‚ã€‚</span></p></li><li><p><span>ä¸­æ–­å¤„ç†ç¨‹åºåœ¨å“åº”ä¸­æ–­æ—¶ï¼Œå¯èƒ½è¿˜ä¼šã€Œä¸´æ—¶å…³é—­ä¸­æ–­ã€ï¼Œè¿™æ„å‘³ç€ï¼Œå¦‚æœå½“å‰ä¸­æ–­å¤„ç†ç¨‹åºæ²¡æœ‰æ‰§è¡Œå®Œä¹‹å‰ï¼Œç³»ç»Ÿä¸­å…¶ä»–çš„ä¸­æ–­è¯·æ±‚éƒ½æ— æ³•è¢«å“åº”ï¼Œä¹Ÿå°±è¯´ä¸­æ–­æœ‰å¯èƒ½ä¼šä¸¢å¤±ï¼Œæ‰€ä»¥ä¸­æ–­å¤„ç†ç¨‹åºè¦çŸ­ä¸”å¿«ã€‚</span></p></li></ul><p><strong><span>ä»€ä¹ˆæ˜¯è½¯ä¸­æ–­ï¼Ÿ</span></strong></p><p><span>Linux ç³»ç»Ÿ</span><strong><span>ä¸ºäº†è§£å†³ä¸­æ–­å¤„ç†ç¨‹åºæ‰§è¡Œè¿‡é•¿å’Œä¸­æ–­ä¸¢å¤±çš„é—®é¢˜ï¼Œå°†ä¸­æ–­è¿‡ç¨‹åˆ†æˆäº†ä¸¤ä¸ªé˜¶æ®µï¼Œåˆ†åˆ«æ˜¯ã€Œä¸ŠåŠéƒ¨å’Œä¸‹åŠéƒ¨åˆ†ã€</span></strong><span>ã€‚</span></p><ul><li><p><strong><span>ä¸ŠåŠéƒ¨ç›´æ¥å¤„ç†ç¡¬ä»¶è¯·æ±‚ï¼Œä¹Ÿå°±æ˜¯ç¡¬ä¸­æ–­</span></strong><span>ï¼Œä¸»è¦æ˜¯è´Ÿè´£è€—æ—¶çŸ­çš„å·¥ä½œï¼Œç‰¹ç‚¹æ˜¯å¿«é€Ÿæ‰§è¡Œï¼›</span></p></li><li><p><strong><span>ä¸‹åŠéƒ¨æ˜¯ç”±å†…æ ¸è§¦å‘ï¼Œä¹Ÿå°±è¯´è½¯ä¸­æ–­</span></strong><span>ï¼Œä¸»è¦æ˜¯è´Ÿè´£ä¸ŠåŠéƒ¨æœªå®Œæˆçš„å·¥ä½œï¼Œé€šå¸¸éƒ½æ˜¯è€—æ—¶æ¯”è¾ƒé•¿çš„äº‹æƒ…ï¼Œç‰¹ç‚¹æ˜¯å»¶è¿Ÿæ‰§è¡Œï¼›</span></p></li></ul><p><span>ç¡¬ä¸­æ–­ï¼ˆä¸ŠåŠéƒ¨ï¼‰æ˜¯ä¼šæ‰“æ–­ CPU æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡ï¼Œç„¶åç«‹å³æ‰§è¡Œä¸­æ–­å¤„ç†ç¨‹åºï¼Œè€Œè½¯ä¸­æ–­ï¼ˆä¸‹åŠéƒ¨ï¼‰æ˜¯ä»¥å†…æ ¸çº¿ç¨‹çš„æ–¹å¼æ‰§è¡Œï¼Œå¹¶ä¸”æ¯ä¸€ä¸ª CPU éƒ½å¯¹åº”ä¸€ä¸ªè½¯ä¸­æ–­å†…æ ¸çº¿ç¨‹ï¼Œåå­—é€šå¸¸ä¸ºã€Œksoftirqd/CPU ç¼–å·ã€ï¼Œæ¯”å¦‚ 0 å· CPU å¯¹åº”çš„è½¯ä¸­æ–­å†…æ ¸çº¿ç¨‹çš„åå­—æ˜¯ </span><code>ksoftirqd/0</code></p><p><span>ä¸è¿‡ï¼Œè½¯ä¸­æ–­ä¸åªæ˜¯åŒ…æ‹¬ç¡¬ä»¶è®¾å¤‡ä¸­æ–­å¤„ç†ç¨‹åºçš„ä¸‹åŠéƒ¨ï¼Œä¸€äº›å†…æ ¸è‡ªå®šä¹‰äº‹ä»¶ä¹Ÿå±äºè½¯ä¸­æ–­ï¼Œæ¯”å¦‚å†…æ ¸è°ƒåº¦ç­‰ã€RCU é”ï¼ˆå†…æ ¸é‡Œå¸¸ç”¨çš„ä¸€ç§é”ï¼‰ç­‰ã€‚</span></p><p><span>Linux ä¸­çš„è½¯ä¸­æ–­åŒ…æ‹¬ç½‘ç»œæ”¶å‘ã€å®šæ—¶ã€è°ƒåº¦ã€RCU é”ç­‰å„ç§ç±»å‹ï¼Œå¯ä»¥é€šè¿‡æŸ¥çœ‹ /proc/softirqs æ¥è§‚å¯Ÿè½¯ä¸­æ–­çš„ç´¯è®¡ä¸­æ–­æ¬¡æ•°æƒ…å†µï¼Œå¦‚æœè¦å®æ—¶æŸ¥çœ‹ä¸­æ–­æ¬¡æ•°çš„å˜åŒ–ç‡ï¼Œå¯ä»¥ä½¿ç”¨ watch -d cat /proc/softirqs å‘½ä»¤ã€‚</span></p><p><span>æ¯ä¸€ä¸ª CPU éƒ½æœ‰å„è‡ªçš„è½¯ä¸­æ–­å†…æ ¸çº¿ç¨‹ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç”¨ ps å‘½ä»¤æ¥æŸ¥çœ‹å†…æ ¸çº¿ç¨‹ï¼Œä¸€èˆ¬åå­—åœ¨ä¸­æ‹¬å·é‡Œé¢åˆ°ï¼Œéƒ½è®¤ä¸ºæ˜¯å†…æ ¸çº¿ç¨‹ã€‚</span></p><p><span>å¦‚æœåœ¨ top å‘½ä»¤å‘ç°ï¼ŒCPU åœ¨è½¯ä¸­æ–­ä¸Šçš„ä½¿ç”¨ç‡æ¯”è¾ƒé«˜ï¼Œè€Œä¸” CPU ä½¿ç”¨ç‡æœ€é«˜çš„è¿›ç¨‹ä¹Ÿæ˜¯è½¯ä¸­æ–­ ksoftirqd çš„æ—¶å€™ï¼Œè¿™ç§ä¸€èˆ¬å¯ä»¥è®¤ä¸ºç³»ç»Ÿçš„å¼€é”€è¢«è½¯ä¸­æ–­å æ®äº†ã€‚</span></p><p><span>è¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥åˆ†ææ˜¯å“ªç§è½¯ä¸­æ–­ç±»å‹å¯¼è‡´çš„ï¼Œä¸€èˆ¬æ¥è¯´éƒ½æ˜¯å› ä¸ºç½‘ç»œæ¥æ”¶è½¯ä¸­æ–­å¯¼è‡´çš„ï¼Œå¦‚æœæ˜¯çš„è¯ï¼Œå¯ä»¥ç”¨ sar å‘½ä»¤æŸ¥çœ‹æ˜¯å“ªä¸ªç½‘å¡çš„æœ‰å¤§é‡çš„ç½‘ç»œåŒ…æ¥æ”¶ï¼Œå†ç”¨ tcpdump æŠ“ç½‘ç»œåŒ…ï¼Œåšè¿›ä¸€æ­¥åˆ†æè¯¥ç½‘ç»œåŒ…çš„æºå¤´æ˜¯ä¸æ˜¯éæ³•åœ°å€ï¼Œå¦‚æœæ˜¯å°±éœ€è¦è€ƒè™‘é˜²ç«å¢™å¢åŠ è§„åˆ™ï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™è€ƒè™‘ç¡¬ä»¶å‡çº§ç­‰ã€‚</span></p><h2 id='ä¸ºä»€ä¹ˆ-01--02-ä¸ç­‰äº-03-'><span>ä¸ºä»€ä¹ˆ 0.1 + 0.2 ä¸ç­‰äº 0.3 ï¼Ÿ</span></h2><ul><li><p><strong><span>ä¸ºä»€ä¹ˆè´Ÿæ•°è¦ç”¨è¡¥ç è¡¨ç¤ºï¼Ÿ</span></strong></p><ul><li><p><span>è´Ÿæ•°ä¹‹æ‰€ä»¥ç”¨è¡¥ç çš„æ–¹å¼æ¥è¡¨ç¤ºï¼Œä¸»è¦æ˜¯ä¸ºäº†ç»Ÿä¸€å’Œæ­£æ•°çš„åŠ å‡æ³•æ“ä½œä¸€æ ·ï¼Œæ¯•ç«Ÿæ•°å­—çš„åŠ å‡æ³•æ˜¯å¾ˆå¸¸ç”¨çš„ä¸€ä¸ªæ“ä½œï¼Œå°±ä¸è¦æç‰¹æ®ŠåŒ–ï¼Œå°½é‡ä»¥ç»Ÿä¸€çš„æ–¹å¼æ¥è¿ç®—ã€‚</span></p></li></ul></li><li><p><strong><span>åè¿›åˆ¶å°æ•°æ€ä¹ˆè½¬æˆäºŒè¿›åˆ¶ï¼Ÿ</span></strong></p><ul><li><p><span>åè¿›åˆ¶æ•´æ•°è½¬äºŒè¿›åˆ¶ä½¿ç”¨çš„æ˜¯ã€Œé™¤ 2 å–ä½™æ³•ã€ï¼Œåè¿›åˆ¶å°æ•°ä½¿ç”¨çš„æ˜¯ã€Œä¹˜ 2 å–æ•´æ³•ã€ã€‚</span></p></li></ul></li><li><p><strong><span>è®¡ç®—æœºæ˜¯æ€ä¹ˆå­˜å°æ•°çš„ï¼Ÿ</span></strong></p><ul><li><p><span>è®¡ç®—æœºæ˜¯ä»¥æµ®ç‚¹æ•°çš„å½¢å¼å­˜å‚¨å°æ•°çš„ï¼Œå¤§å¤šæ•°è®¡ç®—æœºéƒ½æ˜¯ IEEE 754 æ ‡å‡†å®šä¹‰çš„æµ®ç‚¹æ•°æ ¼å¼ï¼ŒåŒ…å«ä¸‰ä¸ªéƒ¨åˆ†ï¼š</span></p><ul><li><p><span>ç¬¦å·ä½ï¼šè¡¨ç¤ºæ•°å­—æ˜¯æ­£æ•°è¿˜æ˜¯è´Ÿæ•°ï¼Œä¸º 0 è¡¨ç¤ºæ­£æ•°ï¼Œä¸º 1 è¡¨ç¤ºè´Ÿæ•°ï¼›</span></p></li><li><p><span>æŒ‡æ•°ä½ï¼šæŒ‡å®šäº†å°æ•°ç‚¹åœ¨æ•°æ®ä¸­çš„ä½ç½®ï¼ŒæŒ‡æ•°å¯ä»¥æ˜¯è´Ÿæ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯æ­£æ•°ï¼ŒæŒ‡æ•°ä½çš„é•¿åº¦è¶Šé•¿åˆ™æ•°å€¼çš„è¡¨è¾¾èŒƒå›´å°±è¶Šå¤§ï¼›</span></p></li><li><p><span>å°¾æ•°ä½ï¼šå°æ•°ç‚¹å³ä¾§çš„æ•°å­—ï¼Œä¹Ÿå°±æ˜¯å°æ•°éƒ¨åˆ†ï¼Œæ¯”å¦‚äºŒè¿›åˆ¶ 1.0011 x 2^(-2)ï¼Œå°¾æ•°éƒ¨åˆ†å°±æ˜¯ 0011ï¼Œè€Œä¸”å°¾æ•°çš„é•¿åº¦å†³å®šäº†è¿™ä¸ªæ•°çš„ç²¾åº¦ï¼Œå› æ­¤å¦‚æœè¦è¡¨ç¤ºç²¾åº¦æ›´é«˜çš„å°æ•°ï¼Œåˆ™å°±è¦æé«˜å°¾æ•°ä½çš„é•¿åº¦ï¼›</span></p></li></ul><p><span>ç”¨ 32 ä½æ¥è¡¨ç¤ºçš„æµ®ç‚¹æ•°ï¼Œåˆ™ç§°ä¸ºå•ç²¾åº¦æµ®ç‚¹æ•°ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ç¼–ç¨‹è¯­è¨€ä¸­çš„ float å˜é‡ï¼Œè€Œç”¨ 64 ä½æ¥è¡¨ç¤ºçš„æµ®ç‚¹æ•°ï¼Œç§°ä¸ºåŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œä¹Ÿå°±æ˜¯ double å˜é‡ã€‚</span></p></li></ul></li><li><p><strong><span>0.1 + 0.2 == 0.3 å—ï¼Ÿ</span></strong></p><ul><li><p><span>ä¸æ˜¯çš„ï¼Œ0.1 å’Œ 0.2 è¿™ä¸¤ä¸ªæ•°å­—ç”¨äºŒè¿›åˆ¶è¡¨è¾¾ä¼šæ˜¯ä¸€ä¸ªä¸€ç›´å¾ªç¯çš„äºŒè¿›åˆ¶æ•°ï¼Œæ¯”å¦‚ 0.1 çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸º 0.0 0011 0011 0011â€¦ ï¼ˆ0011 æ— é™å¾ªç¯)ï¼Œå¯¹äºè®¡ç®—æœºè€Œè¨€ï¼Œ0.1 æ— æ³•ç²¾ç¡®è¡¨è¾¾ï¼Œè¿™æ˜¯æµ®ç‚¹æ•°è®¡ç®—é€ æˆç²¾åº¦æŸå¤±çš„æ ¹æºã€‚</span></p><p><span>å› æ­¤ï¼ŒIEEE 754 æ ‡å‡†å®šä¹‰çš„æµ®ç‚¹æ•°åªèƒ½æ ¹æ®ç²¾åº¦èˆå…¥ï¼Œç„¶åç”¨ã€Œè¿‘ä¼¼å€¼ã€æ¥è¡¨ç¤ºè¯¥äºŒè¿›åˆ¶ï¼Œé‚£ä¹ˆæ„å‘³ç€è®¡ç®—æœºå­˜æ”¾çš„å°æ•°å¯èƒ½ä¸æ˜¯ä¸€ä¸ªçœŸå®å€¼ã€‚</span></p><p><span>0.1 + 0.2 å¹¶ä¸ç­‰äºå®Œæ•´çš„ 0.3ï¼Œè¿™ä¸»è¦æ˜¯å› ä¸ºè¿™ä¸¤ä¸ªå°æ•°æ— æ³•ç”¨ã€Œå®Œæ•´ã€çš„äºŒè¿›åˆ¶æ¥è¡¨ç¤ºï¼Œåªèƒ½æ ¹æ®ç²¾åº¦èˆå…¥ï¼Œæ‰€ä»¥è®¡ç®—æœºé‡Œåªèƒ½é‡‡ç”¨è¿‘ä¼¼æ•°çš„æ–¹å¼æ¥ä¿å­˜ï¼Œé‚£ä¸¤ä¸ªè¿‘ä¼¼æ•°ç›¸åŠ ï¼Œå¾—åˆ°çš„å¿…ç„¶ä¹Ÿæ˜¯ä¸€ä¸ªè¿‘ä¼¼æ•°ã€‚</span></p></li></ul></li></ul><h1 id='è¿›ç¨‹ç®¡ç†'><span>è¿›ç¨‹ç®¡ç†</span></h1><blockquote><p><a href='https://mp.weixin.qq.com/s/YXl6WZVzRKCfxzerJWyfrg' target='_blank' class='url'>https://mp.weixin.qq.com/s/YXl6WZVzRKCfxzerJWyfrg</a></p></blockquote><h3 id='è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«'><span>è¿›ç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«</span></h3><ul><li><p><span>è¿›ç¨‹æ˜¯èµ„æºï¼ˆåŒ…æ‹¬å†…å­˜ã€æ‰“å¼€çš„æ–‡ä»¶ç­‰ï¼‰åˆ†é…çš„å•ä½ï¼Œçº¿ç¨‹æ˜¯ CPU è°ƒåº¦çš„å•ä½ï¼›</span></p></li><li><p><span>è¿›ç¨‹æ‹¥æœ‰ä¸€ä¸ªå®Œæ•´çš„èµ„æºå¹³å°ï¼Œè€Œçº¿ç¨‹åªç‹¬äº«å¿…ä¸å¯å°‘çš„èµ„æºï¼Œå¦‚å¯„å­˜å™¨å’Œæ ˆï¼›</span></p></li><li><p><span>çº¿ç¨‹åŒæ ·å…·æœ‰å°±ç»ªã€é˜»å¡ã€æ‰§è¡Œä¸‰ç§åŸºæœ¬çŠ¶æ€ï¼ŒåŒæ ·å…·æœ‰çŠ¶æ€ä¹‹é—´çš„è½¬æ¢å…³ç³»ï¼›</span></p></li><li><p><span>çº¿ç¨‹èƒ½å‡å°‘å¹¶å‘æ‰§è¡Œçš„æ—¶é—´å’Œç©ºé—´å¼€é”€ã€‚</span></p></li></ul><blockquote><p><span>å¯¹äºï¼Œçº¿ç¨‹ç›¸æ¯”è¿›ç¨‹èƒ½å‡å°‘å¼€é”€ï¼Œä½“ç°åœ¨ï¼š</span></p><ul><li><p><strong><span>çº¿ç¨‹çš„åˆ›å»ºæ—¶é—´æ¯”è¿›ç¨‹å¿«</span></strong><span>ï¼Œå› ä¸ºè¿›ç¨‹åœ¨åˆ›å»ºçš„è¿‡ç¨‹ä¸­ï¼Œè¿˜éœ€è¦èµ„æºç®¡ç†ä¿¡æ¯ï¼Œæ¯”å¦‚å†…å­˜ç®¡ç†ä¿¡æ¯ã€æ–‡ä»¶ç®¡ç†ä¿¡æ¯ï¼Œè€Œçº¿ç¨‹åœ¨åˆ›å»ºçš„è¿‡ç¨‹ä¸­ï¼Œä¸ä¼šæ¶‰åŠè¿™äº›èµ„æºç®¡ç†ä¿¡æ¯ï¼Œè€Œæ˜¯å…±äº«å®ƒä»¬ï¼›</span></p></li><li><p><strong><span>çº¿ç¨‹çš„ç»ˆæ­¢æ—¶é—´æ¯”è¿›ç¨‹å¿«</span></strong><span>ï¼Œå› ä¸ºçº¿ç¨‹é‡Šæ”¾çš„èµ„æºç›¸æ¯”è¿›ç¨‹å°‘å¾ˆå¤šï¼›</span></p></li><li><p><strong><span>åŒä¸€ä¸ªè¿›ç¨‹å†…çš„çº¿ç¨‹åˆ‡æ¢æ¯”è¿›ç¨‹åˆ‡æ¢å¿«</span></strong><span>ï¼Œå› ä¸ºçº¿ç¨‹å…·æœ‰ç›¸åŒçš„åœ°å€ç©ºé—´ï¼ˆè™šæ‹Ÿå†…å­˜å…±äº«ï¼‰ï¼Œè¿™æ„å‘³ç€åŒä¸€ä¸ªè¿›ç¨‹çš„çº¿ç¨‹éƒ½å…·æœ‰åŒä¸€ä¸ªé¡µè¡¨ï¼Œé‚£ä¹ˆåœ¨åˆ‡æ¢çš„æ—¶å€™ä¸éœ€è¦åˆ‡æ¢é¡µè¡¨ã€‚è€Œå¯¹äºè¿›ç¨‹ä¹‹é—´çš„åˆ‡æ¢ï¼Œåˆ‡æ¢çš„æ—¶å€™è¦æŠŠé¡µè¡¨ç»™åˆ‡æ¢æ‰ï¼Œè€Œé¡µè¡¨çš„åˆ‡æ¢è¿‡ç¨‹å¼€é”€æ˜¯æ¯”è¾ƒå¤§çš„ï¼›</span></p></li><li><p><strong><span>çº¿ç¨‹ä¹‹é—´çš„æ•°æ®äº¤äº’æ•ˆç‡é«˜</span></strong><span>ï¼šç”±äºåŒä¸€è¿›ç¨‹çš„å„çº¿ç¨‹é—´å…±äº«å†…å­˜å’Œæ–‡ä»¶èµ„æºï¼Œé‚£ä¹ˆåœ¨çº¿ç¨‹ä¹‹é—´æ•°æ®ä¼ é€’çš„æ—¶å€™ï¼Œå°±ä¸éœ€è¦ç»è¿‡å†…æ ¸äº†ï¼Œè¿™å°±ä½¿å¾—çº¿ç¨‹ä¹‹é—´çš„æ•°æ®äº¤äº’æ•ˆç‡æ›´é«˜äº†ï¼›</span></p></li></ul><p><span>æ‰€ä»¥ï¼Œçº¿ç¨‹æ¯”è¿›ç¨‹ä¸ç®¡æ˜¯æ—¶é—´æ•ˆç‡ï¼Œè¿˜æ˜¯ç©ºé—´æ•ˆç‡éƒ½è¦é«˜ã€‚</span></p></blockquote><h2 id='è¿›ç¨‹'><span>è¿›ç¨‹</span></h2><p><span>æˆ‘ä»¬ç¼–å†™çš„ä»£ç åªæ˜¯å­˜å‚¨åœ¨ç¡¬ç›˜ä¸Šçš„é™æ€æ–‡ä»¶ï¼Œé€šè¿‡ç¼–è¯‘åå°±ä¼šç”ŸæˆäºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåœ¨æˆ‘ä»¬è¿è¡Œè¿™ä¸ªå¯æ‰§è¡Œæ–‡ä»¶åï¼Œå®ƒå°±ä¼šè¢«è£…è½½åˆ°å†…å­˜ä¸­ï¼Œæ¥ç€CPUä¼šæ‰§è¡Œç¨‹åºä¸­çš„æ¯ä¸€æ¡æŒ‡ä»¤ï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªè¿è¡Œä¸­çš„ç¨‹åºï¼Œå°±ç§°ä¸ºè¿›ç¨‹ã€‚</span></p><p><span>å½“è¿›ç¨‹è¦ä»ç¡¬ç›˜è¯»å–æ•°æ®æ—¶ï¼ŒCPU ä¸éœ€è¦é˜»å¡ç­‰å¾…æ•°æ®çš„è¿”å›ï¼Œè€Œæ˜¯å»æ‰§è¡Œå¦å¤–çš„è¿›ç¨‹ã€‚å½“ç¡¬ç›˜æ•°æ®è¿”å›æ—¶ï¼ŒCPU ä¼šæ”¶åˆ°ä¸ª</span><strong><span>ä¸­æ–­</span></strong><span>ï¼Œäºæ˜¯ CPU å†ç»§ç»­è¿è¡Œè¿™ä¸ªè¿›ç¨‹ã€‚</span></p><p><span>è¿™ç§</span><strong><span>å¤šä¸ªç¨‹åºã€äº¤æ›¿æ‰§è¡Œ</span></strong><span>çš„æ€æƒ³ï¼Œå°±æœ‰ CPU ç®¡ç†å¤šä¸ªè¿›ç¨‹çš„åˆæ­¥æƒ³æ³•ã€‚è™½ç„¶å•æ ¸çš„ CPU åœ¨æŸä¸€ä¸ªç¬é—´ï¼Œåªèƒ½è¿è¡Œä¸€ä¸ªè¿›ç¨‹ã€‚ä½†åœ¨ 1 ç§’é’ŸæœŸé—´ï¼Œå®ƒå¯èƒ½ä¼šè¿è¡Œå¤šä¸ªè¿›ç¨‹ï¼Œè¿™æ ·å°±äº§ç”Ÿ</span><strong><span>å¹¶è¡Œçš„é”™è§‰</span></strong><span>ï¼Œå®é™…ä¸Šè¿™æ˜¯</span><strong><span>å¹¶å‘</span></strong><span>ã€‚</span></p><ul><li><p><span>å¹¶å‘ï¼šå•ä¸ªæ ¸å¿ƒäº¤æ›¿è¿è¡Œç¨‹åº</span></p></li><li><p><span>å¹¶è¡Œï¼šå¤šä¸ªæ ¸å¿ƒåŒæ—¶è¿è¡Œç¨‹åº</span></p></li></ul><p><img src="assets/image-20240614132323929.png" alt="image-20240614132323929" style="zoom:30%;" /></p><h3 id='è¿›ç¨‹çš„çŠ¶æ€'><span>è¿›ç¨‹çš„çŠ¶æ€</span></h3><p><img src="assets/image-20240614132937879.png" alt="image-20240614132937879" style="zoom:30%;" /></p><p><span>è¿›ç¨‹åˆ†ä¸ºäº”ç§çŠ¶æ€ï¼š</span></p><ol start='' ><li><p><strong><span>åˆ›å»ºçŠ¶æ€ï¼š</span></strong><span> è¿›ç¨‹æ­£åœ¨è¢«åˆ›å»ºï¼Œå°šæœªåˆ°è¾¾å°±ç»ªçŠ¶æ€ï¼›</span></p></li><li><p><strong><span>å°±ç»ªçŠ¶æ€ï¼š</span></strong><span> è¿›ç¨‹å·²ç»å¤„äºå‡†å¤‡è¿è¡ŒçŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯è¿›ç¨‹å·²ç»è·å–åˆ°é™¤äº†å¤„ç†å™¨ä»¥å¤–çš„ä¸€åˆ‡æ‰€éœ€èµ„æºï¼Œä¸€æ—¦å¾—åˆ°å¤„ç†å™¨èµ„æºï¼ˆå¤„ç†å™¨åˆ†é…çš„æ—¶é—´ç‰‡ï¼‰å°±å¯ä»¥è¿è¡Œã€‚</span></p><ul><li><p><strong><span>åˆ›å»ºçŠ¶æ€ -&gt; å°±ç»ªçŠ¶æ€ï¼š</span></strong><span>å½“è¿›ç¨‹è¢«åˆ›å»ºå®Œæˆå¹¶åˆå§‹åŒ–åï¼Œä¸€åˆ‡å°±ç»ªå‡†å¤‡è¿è¡Œæ—¶ï¼Œå˜ä¸ºå°±ç»ªçŠ¶æ€ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯å¾ˆå¿«çš„ï¼›</span></p></li><li><p><strong><span>é˜»å¡çŠ¶æ€ -&gt; å°±ç»ªçŠ¶æ€ï¼š</span></strong><span>å½“è¿›ç¨‹è¦ç­‰å¾…çš„äº‹ä»¶å®Œæˆæ—¶ï¼Œå®ƒä»é˜»å¡çŠ¶æ€å˜åˆ°å°±ç»ªçŠ¶æ€ï¼›</span></p></li><li><p><strong><span>è¿è¡ŒçŠ¶æ€ -&gt; å°±ç»ªçŠ¶æ€ï¼š</span></strong><span>å¤„äºè¿è¡ŒçŠ¶æ€çš„è¿›ç¨‹åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œç”±äºåˆ†é…ç»™å®ƒçš„è¿è¡Œæ—¶é—´ç‰‡ç”¨å®Œï¼Œæ“ä½œç³»ç»Ÿä¼šæŠŠè¯¥è¿›ç¨‹å˜ä¸ºå°±ç»ªæ€ï¼Œæ¥ç€ä»å°±ç»ªæ€é€‰ä¸­å¦å¤–ä¸€ä¸ªè¿›ç¨‹è¿è¡Œï¼›</span></p></li></ul></li><li><p><strong><span>è¿è¡ŒçŠ¶æ€ï¼š</span></strong><span> è¯¥æ—¶åˆ»è¿›ç¨‹å ç”¨ CPUã€‚</span></p><ul><li><p><strong><span>å°±ç»ªçŠ¶æ€ -&gt; è¿è¡ŒçŠ¶æ€ï¼š</span></strong><span>å¤„äºå°±ç»ªçŠ¶æ€çš„è¿›ç¨‹è¢«æ“ä½œç³»ç»Ÿçš„è¿›ç¨‹è°ƒåº¦å™¨é€‰ä¸­åï¼Œå°±åˆ†é…ç»™ CPU æ­£å¼è¿è¡Œè¯¥è¿›ç¨‹ï¼›</span></p></li></ul></li><li><p><strong><span>é˜»å¡çŠ¶æ€ï¼š</span></strong><span> è¿›ç¨‹æ­£åœ¨ç­‰å¾…æŸä¸€ä»¶äº‹ä»¶è€Œæš‚åœè¿è¡Œå¦‚ç­‰å¾…æŸèµ„æºä¸ºå¯ç”¨æˆ–è€…ç­‰å¾…IOæ“ä½œå®Œæˆï¼Œå³ä½¿å¤„ç†å™¨ç©ºé—²ï¼Œè¯¥è¿›ç¨‹ä¹Ÿä¸èƒ½è¿è¡Œã€‚</span></p><ul><li><p><strong><span>è¿è¡ŒçŠ¶æ€ -&gt; é˜»å¡çŠ¶æ€ï¼š</span></strong><span>å½“è¿›ç¨‹è¯·æ±‚æŸä¸ªäº‹ä»¶ä¸”å¿…é¡»ç­‰å¾…æ—¶ï¼Œä¾‹å¦‚è¯·æ±‚ I/O äº‹ä»¶ï¼›</span></p></li></ul></li><li><p><strong><span>ç»“æŸçŠ¶æ€ï¼š</span></strong><span> è¿›ç¨‹æ­£åœ¨ä»ç³»ç»Ÿä¸­æ¶ˆå¤±ã€‚å¯èƒ½æ˜¯è¿›ç¨‹æ­£å¸¸ç»“æŸæˆ–è€…å› ä¸ºå…¶ä»–åŸå› ä¸­æ–­é€€å‡ºè¿è¡Œã€‚</span></p><ul><li><p><strong><span>è¿è¡ŒçŠ¶æ€ -&gt; ç»“æŸçŠ¶æ€ï¼š</span></strong><span>å½“è¿›ç¨‹å·²ç»è¿è¡Œå®Œæˆæˆ–å‡ºé”™æ—¶ï¼Œä¼šè¢«æ“ä½œç³»ç»Ÿä½œç»“æŸçŠ¶æ€å¤„ç†ï¼›</span></p></li></ul></li></ol><blockquote><p><span>å¦‚æœæœ‰å¤§é‡å¤„äºé˜»å¡çŠ¶æ€çš„è¿›ç¨‹ï¼Œè¿›ç¨‹å¯èƒ½ä¼šå ç”¨ç€ç‰©ç†å†…å­˜ç©ºé—´ï¼Œæ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æ‰€å¸Œæœ›çš„ï¼Œæ¯•ç«Ÿç‰©ç†å†…å­˜ç©ºé—´æ˜¯æœ‰é™çš„ï¼Œè¢«é˜»å¡çŠ¶æ€çš„è¿›ç¨‹å ç”¨ç€ç‰©ç†å†…å­˜å°±ä¸€ç§æµªè´¹ç‰©ç†å†…å­˜çš„è¡Œä¸ºã€‚</span></p><p><span>æ‰€ä»¥ï¼Œåœ¨è™šæ‹Ÿå†…å­˜ç®¡ç†çš„æ“ä½œç³»ç»Ÿä¸­ï¼Œé€šå¸¸ä¼šæŠŠé˜»å¡çŠ¶æ€çš„è¿›ç¨‹çš„ç‰©ç†å†…å­˜ç©ºé—´æ¢å‡ºåˆ°ç¡¬ç›˜ï¼Œç­‰éœ€è¦å†æ¬¡è¿è¡Œçš„æ—¶å€™ï¼Œå†ä»ç¡¬ç›˜æ¢å…¥åˆ°ç‰©ç†å†…å­˜ã€‚</span></p><p><span>é‚£ä¹ˆï¼Œå°±éœ€è¦ä¸€ä¸ªæ–°çš„çŠ¶æ€ï¼Œæ¥</span><strong><span>æè¿°è¿›ç¨‹æ²¡æœ‰å ç”¨å®é™…çš„ç‰©ç†å†…å­˜ç©ºé—´çš„æƒ…å†µï¼Œè¿™ä¸ªçŠ¶æ€å°±æ˜¯æŒ‚èµ·çŠ¶æ€</span></strong><span>ã€‚è¿™è·Ÿé˜»å¡çŠ¶æ€æ˜¯ä¸ä¸€æ ·ï¼Œé˜»å¡çŠ¶æ€æ˜¯ç­‰å¾…æŸä¸ªäº‹ä»¶çš„è¿”å›ã€‚</span></p><p><span>å¦å¤–ï¼ŒæŒ‚èµ·çŠ¶æ€å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼š</span></p><ul><li><p><span>é˜»å¡æŒ‚èµ·çŠ¶æ€ï¼šè¿›ç¨‹åœ¨å¤–å­˜ï¼ˆç¡¬ç›˜ï¼‰å¹¶ç­‰å¾…æŸä¸ªäº‹ä»¶çš„å‡ºç°ï¼›</span></p></li><li><p><span>å°±ç»ªæŒ‚èµ·çŠ¶æ€ï¼šè¿›ç¨‹åœ¨å¤–å­˜ï¼ˆç¡¬ç›˜ï¼‰ï¼Œä½†åªè¦è¿›å…¥å†…å­˜ï¼Œå³åˆ»ç«‹åˆ»è¿è¡Œï¼›</span></p></li></ul><p><span>å¯¼è‡´è¿›ç¨‹æŒ‚èµ·çš„åŸå› ä¸åªæ˜¯å› ä¸ºè¿›ç¨‹æ‰€ä½¿ç”¨çš„å†…å­˜ç©ºé—´ä¸åœ¨ç‰©ç†å†…å­˜ï¼Œè¿˜åŒ…æ‹¬å¦‚ä¸‹æƒ…å†µï¼š</span></p><ul><li><p><span>é€šè¿‡ sleep è®©è¿›ç¨‹é—´æ­‡æ€§æŒ‚èµ·ï¼Œå…¶å·¥ä½œåŸç†æ˜¯è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨ï¼Œåˆ°æœŸåå”¤é†’è¿›ç¨‹ã€‚</span></p></li><li><p><span>ç”¨æˆ·å¸Œæœ›æŒ‚èµ·ä¸€ä¸ªç¨‹åºçš„æ‰§è¡Œï¼Œæ¯”å¦‚åœ¨ Linux ä¸­ç”¨ </span><code>Ctrl+Z</code><span> æŒ‚èµ·è¿›ç¨‹ï¼›</span></p></li></ul></blockquote><h3 id='è¿›ç¨‹çš„æ§åˆ¶ç»“æ„'><span>è¿›ç¨‹çš„æ§åˆ¶ç»“æ„</span></h3><ul><li><p><span>åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œæ˜¯ç”¨</span><strong><span>è¿›ç¨‹æ§åˆ¶å—ï¼ˆprocess control blockï¼ŒPCBï¼‰</span></strong><span>æ•°æ®ç»“æ„æ¥æè¿°è¿›ç¨‹çš„ã€‚</span></p></li><li><p><strong><span>PCB æ˜¯è¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡è¯†</span></strong><span>ï¼Œè¿™æ„å‘³ç€ä¸€ä¸ªè¿›ç¨‹çš„å­˜åœ¨ï¼Œå¿…ç„¶ä¼šæœ‰ä¸€ä¸ª PCBï¼Œå¦‚æœè¿›ç¨‹æ¶ˆå¤±äº†ï¼Œé‚£ä¹ˆ PCB ä¹Ÿä¼šéšä¹‹æ¶ˆå¤±ã€‚</span></p></li></ul><ol start='' ><li><p><span>PCBåŒ…å«çš„ä¿¡æ¯</span></p></li></ol><ul><li><p><strong><span>è¿›ç¨‹æè¿°ä¿¡æ¯</span></strong></p><ul><li><p><span>è¿›ç¨‹æ ‡è¯†ç¬¦ï¼šæ ‡è¯†å„ä¸ªè¿›ç¨‹ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªå¹¶ä¸”å”¯ä¸€çš„æ ‡è¯†ç¬¦ï¼›</span></p></li><li><p><span>ç”¨æˆ·æ ‡è¯†ç¬¦ï¼šè¿›ç¨‹å½’å±çš„ç”¨æˆ·ï¼Œç”¨æˆ·æ ‡è¯†ç¬¦ä¸»è¦ä¸ºå…±äº«å’Œä¿æŠ¤æœåŠ¡ï¼›</span></p></li></ul></li><li><p><strong><span>è¿›ç¨‹æ§åˆ¶å’Œç®¡ç†ä¿¡æ¯</span></strong></p><ul><li><p><span>è¿›ç¨‹å½“å‰çŠ¶æ€ï¼Œå¦‚ newã€readyã€runningã€waiting æˆ– blocked ç­‰ï¼›</span></p></li><li><p><span>è¿›ç¨‹ä¼˜å…ˆçº§ï¼šè¿›ç¨‹æŠ¢å  CPU æ—¶çš„ä¼˜å…ˆçº§ï¼›</span></p></li></ul></li><li><p><strong><span>èµ„æºåˆ†é…æ¸…å•</span></strong><span>ï¼šæœ‰å…³å†…å­˜åœ°å€ç©ºé—´æˆ–è™šæ‹Ÿåœ°å€ç©ºé—´çš„ä¿¡æ¯ï¼Œæ‰€æ‰“å¼€æ–‡ä»¶çš„åˆ—è¡¨å’Œæ‰€ä½¿ç”¨çš„ I/O è®¾å¤‡ä¿¡æ¯ã€‚</span></p></li><li><p><strong><span>CPUç›¸å…³ä¿¡æ¯</span></strong><span>ï¼šCPU ä¸­å„ä¸ªå¯„å­˜å™¨çš„å€¼ï¼Œå½“è¿›ç¨‹è¢«åˆ‡æ¢æ—¶ï¼ŒCPU çš„çŠ¶æ€ä¿¡æ¯éƒ½ä¼šè¢«ä¿å­˜åœ¨ç›¸åº”çš„ PCB ä¸­ï¼Œä»¥ä¾¿è¿›ç¨‹é‡æ–°æ‰§è¡Œæ—¶ï¼Œèƒ½ä»æ–­ç‚¹å¤„ç»§ç»­æ‰§è¡Œã€‚</span></p></li></ul><ol start='2' ><li><p><span>ç»„ç»‡æ–¹å¼ï¼šé€šå¸¸æ˜¯é€šè¿‡</span><strong><span>é“¾è¡¨</span></strong><span>çš„æ–¹å¼è¿›è¡Œç»„ç»‡ï¼ŒæŠŠå…·æœ‰</span><strong><span>ç›¸åŒçŠ¶æ€çš„è¿›ç¨‹é“¾åœ¨ä¸€èµ·ï¼Œç»„æˆå„ç§é˜Ÿåˆ—</span></strong><span>ã€‚æ¯”å¦‚ï¼š</span></p><ul><li><p><span>å°†æ‰€æœ‰å¤„äºå°±ç»ªçŠ¶æ€çš„è¿›ç¨‹é“¾åœ¨ä¸€èµ·ï¼Œç§°ä¸º</span><strong><span>å°±ç»ªé˜Ÿåˆ—</span></strong><span>ï¼›</span></p></li><li><p><span>æŠŠæ‰€æœ‰å› ç­‰å¾…æŸäº‹ä»¶è€Œå¤„äºç­‰å¾…çŠ¶æ€çš„è¿›ç¨‹é“¾åœ¨ä¸€èµ·å°±ç»„æˆå„ç§</span><strong><span>é˜»å¡é˜Ÿåˆ—</span></strong><span>ï¼›</span></p></li><li><p><span>å¦å¤–ï¼Œå¯¹äºè¿è¡Œé˜Ÿåˆ—åœ¨å•æ ¸ CPU ç³»ç»Ÿä¸­åˆ™åªæœ‰ä¸€ä¸ªè¿è¡ŒæŒ‡é’ˆäº†ï¼Œå› ä¸ºå•æ ¸ CPU åœ¨æŸä¸ªæ—¶é—´ï¼Œåªèƒ½è¿è¡Œä¸€ä¸ªç¨‹åºã€‚</span></p></li></ul></li></ol><p><span>é™¤äº†é“¾æ¥çš„ç»„ç»‡æ–¹å¼ï¼Œè¿˜æœ‰ç´¢å¼•æ–¹å¼ï¼Œå®ƒçš„å·¥ä½œåŸç†ï¼šå°†åŒä¸€çŠ¶æ€çš„è¿›ç¨‹ç»„ç»‡åœ¨ä¸€ä¸ªç´¢å¼•è¡¨ä¸­ï¼Œç´¢å¼•è¡¨é¡¹æŒ‡å‘ç›¸åº”çš„ PCBï¼Œä¸åŒçŠ¶æ€å¯¹åº”ä¸åŒçš„ç´¢å¼•è¡¨ã€‚</span></p><p><span>ä¸€èˆ¬ä¼šé€‰æ‹©é“¾è¡¨ï¼Œå› ä¸ºå¯èƒ½é¢ä¸´è¿›ç¨‹åˆ›å»ºï¼Œé”€æ¯ç­‰è°ƒåº¦å¯¼è‡´è¿›ç¨‹çŠ¶æ€å‘ç”Ÿå˜åŒ–ï¼Œæ‰€ä»¥é“¾è¡¨èƒ½å¤Ÿæ›´åŠ çµæ´»çš„æ’å…¥å’Œåˆ é™¤ã€‚</span></p><p><img src="assets/image-20240614134316065.png" alt="image-20240614134316065" style="zoom:25%;" /></p><h3 id='è¿›ç¨‹çš„æ§åˆ¶'><span>è¿›ç¨‹çš„æ§åˆ¶</span></h3><ul><li><p><strong><span>åˆ›å»ºè¿›ç¨‹</span></strong></p><p><span>æ“ä½œç³»ç»Ÿå…è®¸ä¸€ä¸ªè¿›ç¨‹åˆ›å»ºå¦ä¸€ä¸ªè¿›ç¨‹ï¼Œè€Œä¸”å…è®¸å­è¿›ç¨‹ç»§æ‰¿çˆ¶è¿›ç¨‹æ‰€æ‹¥æœ‰çš„èµ„æºã€‚</span></p><p><span>åˆ›å»ºè¿›ç¨‹çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š</span></p><ul><li><p><span>ç”³è¯·ä¸€ä¸ªç©ºç™½çš„ PCBï¼Œå¹¶å‘ PCB ä¸­å¡«å†™ä¸€äº›æ§åˆ¶å’Œç®¡ç†è¿›ç¨‹çš„ä¿¡æ¯ï¼Œæ¯”å¦‚è¿›ç¨‹çš„å”¯ä¸€æ ‡è¯†ç­‰ï¼›</span></p></li><li><p><span>ä¸ºè¯¥è¿›ç¨‹åˆ†é…è¿è¡Œæ—¶æ‰€å¿…éœ€çš„èµ„æºï¼Œæ¯”å¦‚å†…å­˜èµ„æºï¼›</span></p></li><li><p><span>å°† PCB æ’å…¥åˆ°å°±ç»ªé˜Ÿåˆ—ï¼Œç­‰å¾…è¢«è°ƒåº¦è¿è¡Œï¼›</span></p></li></ul></li><li><p><strong><span>ç»ˆæ­¢è¿›ç¨‹</span></strong></p><p><span>è¿›ç¨‹å¯ä»¥æœ‰ 3 ç§ç»ˆæ­¢æ–¹å¼ï¼šæ­£å¸¸ç»“æŸã€å¼‚å¸¸ç»“æŸä»¥åŠå¤–ç•Œå¹²é¢„ï¼ˆä¿¡å· </span><code>kill</code><span> æ‰ï¼‰ã€‚</span></p><p><span>å½“å­è¿›ç¨‹è¢«ç»ˆæ­¢æ—¶ï¼Œå…¶åœ¨çˆ¶è¿›ç¨‹å¤„ç»§æ‰¿çš„èµ„æºåº”å½“è¿˜ç»™çˆ¶è¿›ç¨‹ã€‚è€Œå½“çˆ¶è¿›ç¨‹è¢«ç»ˆæ­¢æ—¶ï¼Œè¯¥çˆ¶è¿›ç¨‹çš„å­è¿›ç¨‹å°±å˜ä¸ºå­¤å„¿è¿›ç¨‹ï¼Œä¼šè¢« 1 å·è¿›ç¨‹æ”¶å…»ï¼Œå¹¶ç”± 1 å·è¿›ç¨‹å¯¹å®ƒä»¬å®ŒæˆçŠ¶æ€æ”¶é›†å·¥ä½œã€‚</span></p><p><span>ç»ˆæ­¢è¿›ç¨‹çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š</span></p><ul><li><p><span>æŸ¥æ‰¾éœ€è¦ç»ˆæ­¢çš„è¿›ç¨‹çš„ PCBï¼›</span></p></li><li><p><span>å¦‚æœå¤„äºæ‰§è¡ŒçŠ¶æ€ï¼Œåˆ™ç«‹å³ç»ˆæ­¢è¯¥è¿›ç¨‹çš„æ‰§è¡Œï¼Œç„¶åå°† CPU èµ„æºåˆ†é…ç»™å…¶ä»–è¿›ç¨‹ï¼›</span></p></li><li><p><span>å¦‚æœå…¶è¿˜æœ‰å­è¿›ç¨‹ï¼Œåˆ™åº”å°†è¯¥è¿›ç¨‹çš„å­è¿›ç¨‹äº¤ç»™ 1 å·è¿›ç¨‹æ¥ç®¡ï¼›</span></p></li><li><p><span>å°†è¯¥è¿›ç¨‹æ‰€æ‹¥æœ‰çš„å…¨éƒ¨èµ„æºéƒ½å½’è¿˜ç»™æ“ä½œç³»ç»Ÿï¼›</span></p></li><li><p><span>å°†å…¶ä» PCB æ‰€åœ¨é˜Ÿåˆ—ä¸­åˆ é™¤ï¼›</span></p></li></ul></li><li><p><strong><span>é˜»å¡è¿›ç¨‹</span></strong></p><p><span>å½“è¿›ç¨‹éœ€è¦ç­‰å¾…æŸä¸€äº‹ä»¶å®Œæˆæ—¶ï¼Œå®ƒå¯ä»¥è°ƒç”¨é˜»å¡è¯­å¥æŠŠè‡ªå·±é˜»å¡ç­‰å¾…ã€‚è€Œä¸€æ—¦è¢«é˜»å¡ç­‰å¾…ï¼Œå®ƒåªèƒ½ç”±å¦ä¸€ä¸ªè¿›ç¨‹å”¤é†’ã€‚</span></p><p><span>é˜»å¡è¿›ç¨‹çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š</span></p><ul><li><p><span>æ‰¾åˆ°å°†è¦è¢«é˜»å¡è¿›ç¨‹æ ‡è¯†å·å¯¹åº”çš„ PCBï¼›</span></p></li><li><p><span>å¦‚æœè¯¥è¿›ç¨‹ä¸ºè¿è¡ŒçŠ¶æ€ï¼Œåˆ™ä¿æŠ¤å…¶ç°åœºï¼Œå°†å…¶çŠ¶æ€è½¬ä¸ºé˜»å¡çŠ¶æ€ï¼Œåœæ­¢è¿è¡Œï¼›</span></p></li><li><p><span>å°†è¯¥ PCB æ’å…¥åˆ°é˜»å¡é˜Ÿåˆ—ä¸­å»ï¼›</span></p></li></ul></li><li><p><strong><span>å”¤é†’è¿›ç¨‹</span></strong></p><p><span>è¿›ç¨‹ç”±ã€Œè¿è¡Œã€è½¬å˜ä¸ºã€Œé˜»å¡ã€çŠ¶æ€æ˜¯ç”±äºè¿›ç¨‹å¿…é¡»ç­‰å¾…æŸä¸€äº‹ä»¶çš„å®Œæˆï¼Œæ‰€ä»¥å¤„äºé˜»å¡çŠ¶æ€çš„è¿›ç¨‹æ˜¯ç»å¯¹ä¸å¯èƒ½å«é†’è‡ªå·±çš„ã€‚</span></p><p><span>å¦‚æœæŸè¿›ç¨‹æ­£åœ¨ç­‰å¾… I/O äº‹ä»¶ï¼Œéœ€ç”±åˆ«çš„è¿›ç¨‹å‘æ¶ˆæ¯ç»™å®ƒï¼Œåˆ™åªæœ‰å½“è¯¥è¿›ç¨‹æ‰€æœŸå¾…çš„äº‹ä»¶å‡ºç°æ—¶ï¼Œæ‰ç”±å‘ç°è€…è¿›ç¨‹ç”¨å”¤é†’è¯­å¥å«é†’å®ƒã€‚</span></p><p><span>å”¤é†’è¿›ç¨‹çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š</span></p><ul><li><p><span>åœ¨è¯¥äº‹ä»¶çš„é˜»å¡é˜Ÿåˆ—ä¸­æ‰¾åˆ°ç›¸åº”è¿›ç¨‹çš„ PCBï¼›</span></p></li><li><p><span>å°†å…¶ä»é˜»å¡é˜Ÿåˆ—ä¸­ç§»å‡ºï¼Œå¹¶ç½®å…¶çŠ¶æ€ä¸ºå°±ç»ªçŠ¶æ€ï¼›</span></p></li><li><p><span>æŠŠè¯¥ PCB æ’å…¥åˆ°å°±ç»ªé˜Ÿåˆ—ä¸­ï¼Œç­‰å¾…è°ƒåº¦ç¨‹åºè°ƒåº¦</span></p></li></ul></li></ul><h3 id='è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢'><span>è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢</span></h3><ul><li><p><strong><span>CPUä¸Šä¸‹æ–‡åˆ‡æ¢</span></strong></p><ul><li><p><span>CPU å¯„å­˜å™¨å’Œç¨‹åºè®¡æ•°æ˜¯ CPU åœ¨è¿è¡Œä»»ä½•ä»»åŠ¡å‰ï¼Œæ‰€å¿…é¡»ä¾èµ–çš„ç¯å¢ƒï¼Œè¿™äº›ç¯å¢ƒå°±å«åš </span><strong><span>CPU ä¸Šä¸‹æ–‡</span></strong><span>ã€‚</span></p></li><li><p><span>C</span><strong><span>PU ä¸Šä¸‹æ–‡åˆ‡æ¢</span></strong><span>å°±æ˜¯å…ˆæŠŠå‰ä¸€ä¸ªä»»åŠ¡çš„ CPU ä¸Šä¸‹æ–‡ï¼ˆCPU å¯„å­˜å™¨å’Œç¨‹åºè®¡æ•°å™¨ï¼‰ä¿å­˜èµ·æ¥ï¼Œç„¶ååŠ è½½æ–°ä»»åŠ¡çš„ä¸Šä¸‹æ–‡åˆ°è¿™äº›å¯„å­˜å™¨å’Œç¨‹åºè®¡æ•°å™¨ï¼Œæœ€åå†è·³è½¬åˆ°ç¨‹åºè®¡æ•°å™¨æ‰€æŒ‡çš„æ–°ä½ç½®ï¼Œè¿è¡Œæ–°ä»»åŠ¡ã€‚ç³»ç»Ÿå†…æ ¸ä¼šå­˜å‚¨ä¿æŒä¸‹æ¥çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œå½“æ­¤ä»»åŠ¡å†æ¬¡è¢«åˆ†é…ç»™ CPU è¿è¡Œæ—¶ï¼ŒCPU ä¼šé‡æ–°åŠ è½½è¿™äº›ä¸Šä¸‹æ–‡ï¼Œè¿™æ ·å°±èƒ½ä¿è¯ä»»åŠ¡åŸæ¥çš„çŠ¶æ€ä¸å—å½±å“ï¼Œè®©ä»»åŠ¡çœ‹èµ·æ¥è¿˜æ˜¯è¿ç»­è¿è¡Œã€‚</span></p></li><li><p><span>ä¸Šé¢è¯´åˆ°æ‰€è°“çš„ã€Œä»»åŠ¡ã€ï¼Œä¸»è¦åŒ…å«è¿›ç¨‹ã€çº¿ç¨‹å’Œä¸­æ–­ã€‚æ‰€ä»¥ï¼Œå¯ä»¥æ ¹æ®ä»»åŠ¡çš„ä¸åŒï¼ŒæŠŠ CPU ä¸Šä¸‹æ–‡åˆ‡æ¢åˆ†æˆï¼š</span><strong><span>è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ã€çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢å’Œä¸­æ–­ä¸Šä¸‹æ–‡åˆ‡æ¢</span></strong><span>ã€‚</span></p></li></ul></li><li><p><strong><span>è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢</span></strong></p><ul><li><p><span>å„ä¸ªè¿›ç¨‹ä¹‹é—´æ˜¯å…±äº« CPU èµ„æºçš„ï¼Œåœ¨ä¸åŒçš„æ—¶å€™è¿›ç¨‹ä¹‹é—´éœ€è¦åˆ‡æ¢ï¼Œè®©ä¸åŒçš„è¿›ç¨‹å¯ä»¥åœ¨ CPU æ‰§è¡Œï¼Œé‚£ä¹ˆè¿™ä¸ª</span><strong><span>ä¸€ä¸ªè¿›ç¨‹åˆ‡æ¢åˆ°å¦ä¸€ä¸ªè¿›ç¨‹è¿è¡Œï¼Œç§°ä¸ºè¿›ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢</span></strong><span>ã€‚</span></p></li><li><p><span>è¿›ç¨‹æ˜¯ç”±å†…æ ¸ç®¡ç†å’Œè°ƒåº¦çš„ï¼Œæ‰€ä»¥è¿›ç¨‹çš„åˆ‡æ¢åªèƒ½å‘ç”Ÿåœ¨å†…æ ¸æ€ã€‚</span><strong><span>è¿›ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ä¸ä»…åŒ…å«äº†è™šæ‹Ÿå†…å­˜ã€æ ˆã€å…¨å±€å˜é‡ç­‰ç”¨æˆ·ç©ºé—´çš„èµ„æºï¼Œè¿˜åŒ…æ‹¬äº†å†…æ ¸å †æ ˆã€å¯„å­˜å™¨ç­‰å†…æ ¸ç©ºé—´çš„èµ„æºã€‚</span></strong></p></li><li><p><span>ä¼šæŠŠäº¤æ¢çš„ä¿¡æ¯ä¿å­˜åœ¨è¿›ç¨‹çš„ PCBï¼Œå½“è¦è¿è¡Œå¦å¤–ä¸€ä¸ªè¿›ç¨‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦ä»è¿™ä¸ªè¿›ç¨‹çš„ PCB å–å‡ºä¸Šä¸‹æ–‡ï¼Œç„¶åæ¢å¤åˆ° CPU ä¸­ï¼Œè¿™ä½¿å¾—è¿™ä¸ªè¿›ç¨‹å¯ä»¥ç»§ç»­æ‰§è¡Œã€‚</span></p></li></ul></li></ul><ul><li><p><strong><span>å‘ç”Ÿä¸Šä¸‹æ–‡åˆ‡æ¢çš„åœºæ™¯</span></strong></p><ul><li><p><strong><span>è¿›ç¨‹æ—¶é—´ç‰‡ç”¨å®Œäº†</span></strong><span>ï¼šä¸ºäº†ä¿è¯æ‰€æœ‰è¿›ç¨‹å¯ä»¥å¾—åˆ°å…¬å¹³è°ƒåº¦ï¼ŒCPU æ—¶é—´è¢«åˆ’åˆ†ä¸ºä¸€æ®µæ®µçš„æ—¶é—´ç‰‡ï¼Œè¿™äº›æ—¶é—´ç‰‡å†è¢«è½®æµåˆ†é…ç»™å„ä¸ªè¿›ç¨‹ã€‚è¿™æ ·ï¼Œå½“æŸä¸ªè¿›ç¨‹çš„æ—¶é—´ç‰‡è€—å°½äº†ï¼Œå°±ä¼šè¢«ç³»ç»ŸæŒ‚èµ·ï¼Œåˆ‡æ¢åˆ°å…¶å®ƒæ­£åœ¨ç­‰å¾… CPU çš„è¿›ç¨‹è¿è¡Œï¼›</span></p></li><li><p><strong><span>è¿›ç¨‹èµ„æºä¸è¶³ï¼ˆæ¯”å¦‚å†…å­˜ä¸è¶³ï¼‰</span></strong><span>ï¼šè¿›ç¨‹åœ¨ç³»ç»Ÿèµ„æºä¸è¶³ï¼ˆæ¯”å¦‚å†…å­˜ä¸è¶³ï¼‰æ—¶ï¼Œè¦ç­‰åˆ°èµ„æºæ»¡è¶³åæ‰å¯ä»¥è¿è¡Œï¼Œè¿™ä¸ªæ—¶å€™è¿›ç¨‹ä¹Ÿä¼šè¢«æŒ‚èµ·ï¼Œå¹¶ç”±ç³»ç»Ÿè°ƒåº¦å…¶ä»–è¿›ç¨‹è¿è¡Œï¼›</span></p></li><li><p><strong><span>è¿›ç¨‹é€šè¿‡sleepå‡½æ•°ä¸»åŠ¨å°†è‡ªå·±æŒ‚èµ·</span></strong><span>ï¼šå½“è¿›ç¨‹é€šè¿‡ç¡çœ å‡½æ•° sleep è¿™æ ·çš„æ–¹æ³•å°†è‡ªå·±ä¸»åŠ¨æŒ‚èµ·æ—¶ï¼Œè‡ªç„¶ä¹Ÿä¼šé‡æ–°è°ƒåº¦ï¼›</span></p></li><li><p><strong><span>æœ‰æ›´é«˜ä¼˜å…ˆçº§çš„è¿›ç¨‹éœ€è¦æ‰§è¡Œ</span></strong><span>ï¼šå½“æœ‰ä¼˜å…ˆçº§æ›´é«˜çš„è¿›ç¨‹è¿è¡Œæ—¶ï¼Œä¸ºäº†ä¿è¯é«˜ä¼˜å…ˆçº§è¿›ç¨‹çš„è¿è¡Œï¼Œå½“å‰è¿›ç¨‹ä¼šè¢«æŒ‚èµ·ï¼Œç”±é«˜ä¼˜å…ˆçº§è¿›ç¨‹æ¥è¿è¡Œï¼›</span></p></li><li><p><strong><span>ç¡¬ä»¶ä¸­æ–­æ—¶</span></strong><span>ï¼šå‘ç”Ÿç¡¬ä»¶ä¸­æ–­æ—¶ï¼ŒCPU ä¸Šçš„è¿›ç¨‹ä¼šè¢«ä¸­æ–­æŒ‚èµ·ï¼Œè½¬è€Œæ‰§è¡Œå†…æ ¸ä¸­çš„ä¸­æ–­æœåŠ¡ç¨‹åºï¼›</span></p></li></ul></li></ul><h3 id='è¿›ç¨‹é—´é€šä¿¡çš„æ–¹å¼'><span>è¿›ç¨‹é—´é€šä¿¡çš„æ–¹å¼</span></h3><blockquote><p><strong><span>è¿›ç¨‹é—´é€šä¿¡çš„æ¦‚å¿µ</span></strong>
<span>æ¯ä¸ªè¿›ç¨‹å„è‡ªæœ‰ä¸åŒçš„ç”¨æˆ·åœ°å€ç©ºé—´ï¼Œä»»ä½•ä¸€ä¸ªè¿›ç¨‹çš„å…¨å±€å˜é‡åœ¨å¦ä¸€ä¸ªè¿›ç¨‹ä¸­éƒ½çœ‹ä¸åˆ°ï¼Œæ‰€ä»¥è¿›ç¨‹ä¹‹é—´è¦äº¤æ¢æ•°æ®å¿…é¡»é€šè¿‡å†…æ ¸ï¼Œåœ¨å†…æ ¸ä¸­å¼€è¾Ÿä¸€å—ç¼“å†²åŒºï¼Œè¿›ç¨‹1æŠŠæ•°æ®ä»ç”¨æˆ·ç©ºé—´æ‹·è´åˆ°å†…æ ¸ç¼“å†²åŒºï¼Œè¿›ç¨‹2å†ä»å†…æ ¸ç¼“å†²åŒºæŠŠæ•°æ®è¯»èµ°ï¼Œå†…æ ¸æä¾›çš„è¿™ç§æœºåˆ¶å°±æ˜¯</span><strong><span>è¿›ç¨‹é—´é€šä¿¡</span></strong><span>ã€‚</span></p></blockquote><p><img src="./images/è¿›ç¨‹é—´é€šä¿¡.png" alt="è¿›ç¨‹é—´é€šä¿¡" style="zoom:33%;" /></p><p><strong><span>ç®¡é“</span></strong></p><ul><li><p><strong><span>åŒ¿åç®¡é“</span></strong><span>ï¼šé¡¾åæ€ä¹‰ï¼Œå®ƒæ²¡æœ‰åå­—æ ‡è¯†ï¼ŒåŒ¿åç®¡é“æ˜¯ç‰¹æ®Šæ–‡ä»¶åªå­˜åœ¨äºå†…å­˜ï¼Œæ²¡æœ‰å­˜åœ¨äºæ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œshell å‘½ä»¤ä¸­çš„ã€Œ</span><code>|</code><span>ã€ç«–çº¿å°±æ˜¯åŒ¿åç®¡é“ï¼Œé€šä¿¡çš„æ•°æ®æ˜¯</span><strong><span>æ— æ ¼å¼çš„æµå¹¶ä¸”å¤§å°å—é™</span></strong><span>ï¼Œé€šä¿¡çš„æ–¹å¼æ˜¯</span><strong><span>å•å‘</span></strong><span>çš„ï¼Œæ•°æ®åªèƒ½åœ¨ä¸€ä¸ªæ–¹å‘ä¸ŠæµåŠ¨ï¼Œå¦‚æœè¦åŒå‘é€šä¿¡ï¼Œéœ€è¦åˆ›å»ºä¸¤ä¸ªç®¡é“ï¼Œå†æ¥</span><strong><span>åŒ¿åç®¡é“æ˜¯åªèƒ½ç”¨äºå­˜åœ¨çˆ¶å­å…³ç³»çš„è¿›ç¨‹é—´é€šä¿¡</span></strong><span>ï¼ŒåŒ¿åç®¡é“çš„ç”Ÿå‘½å‘¨æœŸéšç€è¿›ç¨‹åˆ›å»ºè€Œå»ºç«‹ï¼Œéšç€è¿›ç¨‹ç»ˆæ­¢è€Œæ¶ˆå¤±ã€‚</span></p></li></ul><div class="md-alert md-alert-note note"><p><span class='md-alert-text md-alert-text-note'><svg viewBox="0 0 16 16" version="1.1" width="1em" height="1em" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</span><br></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: currentcolor;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-builtin">ps</span> auxf | <span class="cm-builtin">grep</span> mysql</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre><p><span>ä¸Šé¢å‘½ä»¤è¡Œé‡Œçš„ã€Œ</span><code>|</code><span>ã€ç«–çº¿å°±æ˜¯ä¸€ä¸ª</span><strong><span>ç®¡é“</span></strong><span>ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯å°†å‰ä¸€ä¸ªå‘½ä»¤ï¼ˆ</span><code>ps auxf</code><span>ï¼‰çš„è¾“å‡ºï¼Œä½œä¸ºåä¸€ä¸ªå‘½ä»¤ï¼ˆ</span><code>grep mysql</code><span>ï¼‰çš„è¾“å…¥ï¼Œä»è¿™åŠŸèƒ½æè¿°ï¼Œå¯ä»¥çœ‹å‡º</span><strong><span>ç®¡é“ä¼ è¾“æ•°æ®æ˜¯å•å‘çš„</span></strong><span>ï¼Œå¦‚æœæƒ³ç›¸äº’é€šä¿¡ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸¤ä¸ªç®¡é“æ‰è¡Œã€‚</span></p><p><span>åŒæ—¶ï¼Œæˆ‘ä»¬å¾—çŸ¥ä¸Šé¢è¿™ç§ç®¡é“æ˜¯æ²¡æœ‰åå­—ï¼Œæ‰€ä»¥ã€Œ</span><code>|</code><span>ã€è¡¨ç¤ºçš„ç®¡é“ç§°ä¸º</span><strong><span>åŒ¿åç®¡é“</span></strong><span>ï¼Œç”¨å®Œäº†å°±é”€æ¯ã€‚</span></p></div><ul><li><p><strong><span>å‘½åç®¡é“</span></strong><span>ï¼šçªç ´äº†åŒ¿åç®¡é“åªèƒ½åœ¨äº²ç¼˜å…³ç³»è¿›ç¨‹é—´çš„é€šä¿¡é™åˆ¶ï¼Œå› ä¸ºä½¿ç”¨å‘½åç®¡é“çš„å‰æï¼Œéœ€è¦åœ¨æ–‡ä»¶ç³»ç»Ÿåˆ›å»ºä¸€ä¸ªç±»å‹ä¸º p çš„è®¾å¤‡æ–‡ä»¶ï¼Œé‚£ä¹ˆæ¯«æ— å…³ç³»çš„è¿›ç¨‹å°±å¯ä»¥é€šè¿‡è¿™ä¸ªè®¾å¤‡æ–‡ä»¶è¿›è¡Œé€šä¿¡ã€‚å¦å¤–ï¼Œä¸ç®¡æ˜¯åŒ¿åç®¡é“è¿˜æ˜¯å‘½åç®¡é“ï¼Œè¿›ç¨‹å†™å…¥çš„æ•°æ®éƒ½æ˜¯</span><strong><span>ç¼“å­˜åœ¨å†…æ ¸</span></strong><span>ä¸­ï¼Œå¦ä¸€ä¸ªè¿›ç¨‹è¯»å–æ•°æ®æ—¶å€™è‡ªç„¶ä¹Ÿæ˜¯ä»å†…æ ¸ä¸­è·å–ï¼ŒåŒæ—¶é€šä¿¡æ•°æ®éƒ½éµå¾ª</span><strong><span>å…ˆè¿›å…ˆå‡º</span></strong><span>åŸåˆ™ï¼Œä¸æ”¯æŒ lseek ä¹‹ç±»çš„æ–‡ä»¶å®šä½æ“ä½œã€‚</span></p></li></ul><div class="md-alert md-alert-note note"><p><span class='md-alert-text md-alert-text-note'><svg viewBox="0 0 16 16" version="1.1" width="1em" height="1em" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</span><br></p><p><span>ç®¡é“è¿˜æœ‰å¦å¤–ä¸€ä¸ªç±»å‹æ˜¯</span><strong><span>å‘½åç®¡é“</span></strong><span>ï¼Œä¹Ÿè¢«å«åš </span><code>FIFO</code><span>ï¼Œå› ä¸ºæ•°æ®æ˜¯å…ˆè¿›å…ˆå‡ºçš„ä¼ è¾“æ–¹å¼ã€‚</span></p><p><span>åœ¨ä½¿ç”¨å‘½åç®¡é“å‰ï¼Œå…ˆéœ€è¦é€šè¿‡ </span><code>mkfifo</code><span> å‘½ä»¤æ¥åˆ›å»ºï¼Œå¹¶ä¸”æŒ‡å®šç®¡é“åå­—ï¼š</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: currentcolor;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">$ mkfifo</span> myPipe</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre><p><span>myPipe å°±æ˜¯è¿™ä¸ªç®¡é“çš„åç§°ï¼ŒåŸºäº Linux ä¸€åˆ‡çš†æ–‡ä»¶çš„ç†å¿µï¼Œæ‰€ä»¥ç®¡é“ä¹Ÿæ˜¯ä»¥æ–‡ä»¶çš„æ–¹å¼å­˜åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ ls çœ‹ä¸€ä¸‹ï¼Œè¿™ä¸ªæ–‡ä»¶çš„ç±»å‹æ˜¯ pï¼Œä¹Ÿå°±æ˜¯ pipeï¼ˆç®¡é“ï¼‰ çš„æ„æ€ï¼š</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: currentcolor;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">$ ls</span> <span class="cm-attribute">-l</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">prw-r--r--. <span class="cm-number">1</span> root &nbsp;  root &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-number">0</span> Jul <span class="cm-number">17</span> <span class="cm-number">02</span>:45 myPipe</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 46px;"></div><div class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></pre><p><span>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å¾€ myPipe è¿™ä¸ªç®¡é“å†™å…¥æ•°æ®ï¼šä¼šå‘ç°å‘½ä»¤æ‰§è¡Œåå°±åœåœ¨è¿™äº†ï¼Œè¿™æ˜¯å› ä¸ºç®¡é“é‡Œçš„å†…å®¹æ²¡æœ‰è¢«è¯»å–ï¼Œåªæœ‰å½“ç®¡é“é‡Œçš„æ•°æ®è¢«è¯»å®Œåï¼Œå‘½ä»¤æ‰å¯ä»¥æ­£å¸¸é€€å‡ºã€‚</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: currentcolor;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">$ echo</span> <span class="cm-string">"hello"</span> &gt; myPipe  // å°†æ•°æ®å†™è¿›ç®¡é“</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  // åœä½äº† ...</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 46px;"></div><div class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></pre><p><span>æ‰§è¡Œå¦å¤–ä¸€ä¸ªå‘½ä»¤æ¥è¯»å–è¿™ä¸ªç®¡é“é‡Œçš„æ•°æ®ï¼š</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="bash"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="bash"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: currentcolor;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-def">$ cat</span> &lt; myPipe  // è¯»å–ç®¡é“é‡Œçš„æ•°æ®</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">hello</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 46px;"></div><div class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></pre><p><span>å¯ä»¥çœ‹åˆ°ï¼Œç®¡é“é‡Œçš„å†…å®¹è¢«è¯»å–å‡ºæ¥äº†ï¼Œå¹¶æ‰“å°åœ¨äº†ç»ˆç«¯ä¸Šï¼Œå¦å¤–ä¸€æ–¹é¢ï¼Œecho é‚£ä¸ªå‘½ä»¤ä¹Ÿæ­£å¸¸é€€å‡ºäº†ã€‚</span></p><p><span>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œ</span><strong><span>ç®¡é“è¿™ç§é€šä¿¡æ–¹å¼æ•ˆç‡ä½ï¼Œä¸é€‚åˆè¿›ç¨‹é—´é¢‘ç¹åœ°äº¤æ¢æ•°æ®</span></strong><span>ã€‚å½“ç„¶ï¼Œå®ƒçš„å¥½å¤„ï¼Œè‡ªç„¶å°±æ˜¯ç®€å•ï¼ŒåŒæ—¶ä¹Ÿæˆ‘ä»¬å¾ˆå®¹æ˜“å¾—çŸ¥ç®¡é“é‡Œçš„æ•°æ®å·²ç»è¢«å¦ä¸€ä¸ªè¿›ç¨‹è¯»å–äº†ã€‚</span></p></div><ul><li><p><strong><span>ç®¡é“çš„åŸç†</span></strong></p><ul><li><p><span>åŒ¿åç®¡é“çš„åˆ›å»ºï¼Œéœ€è¦é€šè¿‡ä¸‹é¢è¿™ä¸ªç³»ç»Ÿè°ƒç”¨ï¼Œè¿™é‡Œè¡¨ç¤ºåˆ›å»ºä¸€ä¸ªåŒ¿åç®¡é“ï¼Œå¹¶è¿”å›äº†ä¸¤ä¸ªæè¿°ç¬¦ï¼Œä¸€ä¸ªæ˜¯ç®¡é“çš„è¯»å–ç«¯æè¿°ç¬¦ </span><code>fd[0]</code><span>ï¼Œå¦ä¸€ä¸ªæ˜¯ç®¡é“çš„å†™å…¥ç«¯æè¿°ç¬¦ </span><code>fd[1]</code><span>ã€‚æ³¨æ„ï¼Œè¿™ä¸ªåŒ¿åç®¡é“æ˜¯ç‰¹æ®Šçš„æ–‡ä»¶ï¼Œåªå­˜åœ¨äºå†…å­˜ï¼Œä¸å­˜äºæ–‡ä»¶ç³»ç»Ÿä¸­ã€‚</span></p></li></ul><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="c"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="c"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: currentcolor;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-def">pipe</span>(<span class="cm-variable-3">int</span> <span class="cm-variable">fd</span>[<span class="cm-number">2</span>])</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre><ul><li><p><strong><span>æ‰€è°“çš„ç®¡é“ï¼Œå°±æ˜¯å†…æ ¸é‡Œé¢çš„ä¸€ä¸²ç¼“å­˜</span></strong><span>ã€‚ä»ç®¡é“çš„ä¸€æ®µå†™å…¥çš„æ•°æ®ï¼Œå®é™…ä¸Šæ˜¯ç¼“å­˜åœ¨å†…æ ¸ä¸­çš„ï¼Œå¦ä¸€ç«¯è¯»å–ï¼Œä¹Ÿå°±æ˜¯ä»å†…æ ¸ä¸­è¯»å–è¿™æ®µæ•°æ®ã€‚å¦å¤–ï¼Œç®¡é“ä¼ è¾“çš„æ•°æ®æ˜¯æ— æ ¼å¼çš„æµä¸”å¤§å°å—é™ã€‚</span></p></li><li><p><span>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ </span><code>fork</code><span> åˆ›å»ºå­è¿›ç¨‹ï¼Œ</span><strong><span>åˆ›å»ºçš„å­è¿›ç¨‹ä¼šå¤åˆ¶çˆ¶è¿›ç¨‹çš„æ–‡ä»¶æè¿°ç¬¦</span></strong><span>ï¼Œè¿™æ ·å°±åšåˆ°äº†ä¸¤ä¸ªè¿›ç¨‹å„æœ‰ä¸¤ä¸ªã€Œ </span><code>fd[0]</code><span> ä¸ </span><code>fd[1]</code><span>ã€ï¼Œä¸¤ä¸ªè¿›ç¨‹å°±å¯ä»¥é€šè¿‡å„è‡ªçš„ fd å†™å…¥å’Œè¯»å–åŒä¸€ä¸ªç®¡é“æ–‡ä»¶å®ç°è·¨è¿›ç¨‹é€šä¿¡äº†ã€‚</span></p></li><li><p><span>ç®¡é“åªèƒ½ä¸€ç«¯å†™å…¥ï¼Œå¦ä¸€ç«¯è¯»å‡ºï¼Œæ‰€ä»¥ä¸Šé¢è¿™ç§æ¨¡å¼å®¹æ˜“é€ æˆæ··ä¹±ï¼Œå› ä¸ºçˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹éƒ½å¯ä»¥åŒæ—¶å†™å…¥ï¼Œä¹Ÿéƒ½å¯ä»¥è¯»å‡ºã€‚é‚£ä¹ˆï¼Œä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œé€šå¸¸çš„åšæ³•æ˜¯ï¼šçˆ¶è¿›ç¨‹å…³é—­è¯»å–çš„ fd[0]ï¼Œåªä¿ç•™å†™å…¥çš„ fd[1]ï¼›å­è¿›ç¨‹å…³é—­å†™å…¥çš„ fd[1]ï¼Œåªä¿ç•™è¯»å–çš„ fd[0]ï¼›å¦‚æœéœ€è¦åŒå‘é€šä¿¡ï¼Œåˆ™åº”è¯¥åˆ›å»ºä¸¤ä¸ªç®¡é“ã€‚</span></p></li><li><p><span>åœ¨ shell é‡Œé¢æ‰§è¡Œ </span><code>A | B</code><span>å‘½ä»¤çš„æ—¶å€™ï¼ŒA è¿›ç¨‹å’Œ B è¿›ç¨‹éƒ½æ˜¯ shell åˆ›å»ºå‡ºæ¥çš„å­è¿›ç¨‹ï¼ŒA å’Œ B ä¹‹é—´ä¸å­˜åœ¨çˆ¶å­å…³ç³»ï¼Œå®ƒä¿©çš„çˆ¶è¿›ç¨‹éƒ½æ˜¯ shellã€‚</span></p></li><li><p><span>æ‰€ä»¥è¯´ï¼Œåœ¨ shell é‡Œé€šè¿‡ã€Œ</span><code>|</code><span>ã€åŒ¿åç®¡é“å°†å¤šä¸ªå‘½ä»¤è¿æ¥åœ¨ä¸€èµ·ï¼Œå®é™…ä¸Šä¹Ÿå°±æ˜¯åˆ›å»ºäº†å¤šä¸ªå­è¿›ç¨‹ï¼Œé‚£ä¹ˆåœ¨æˆ‘ä»¬ç¼–å†™ shell è„šæœ¬æ—¶ï¼Œèƒ½ä½¿ç”¨ä¸€ä¸ªç®¡é“æå®šçš„äº‹æƒ…ï¼Œå°±ä¸è¦å¤šç”¨ä¸€ä¸ªç®¡é“ï¼Œè¿™æ ·å¯ä»¥å‡å°‘åˆ›å»ºå­è¿›ç¨‹çš„ç³»ç»Ÿå¼€é”€ã€‚</span></p></li></ul><p><img src="assets/image-20240614144606108.png" alt="image-20240614144606108" style="zoom:20%;" /></p></li></ul><p><strong><span>æ¶ˆæ¯é˜Ÿåˆ—</span></strong><span> </span></p><ul><li><p><span>ç®¡é“çš„é€šä¿¡æ•ˆç‡ä½ä¸‹ï¼Œå› æ­¤ä¸é€‚åˆ</span><strong><span>è¿›ç¨‹é—´é¢‘ç¹çš„äº¤æ¢æ•°æ®</span></strong><span>ï¼Œå¯¹äºè¿™ä¸ªé—®é¢˜ï¼Œæ¶ˆæ¯é˜Ÿåˆ—çš„é€šä¿¡æ¨¡å¼å°±å¯ä»¥è§£å†³ï¼Œæ¯”å¦‚ï¼ŒA è¿›ç¨‹è¦ç»™ B è¿›ç¨‹å‘é€æ¶ˆæ¯ï¼ŒA è¿›ç¨‹æŠŠæ•°æ®æ”¾åœ¨å¯¹åº”çš„æ¶ˆæ¯é˜Ÿåˆ—åå°±å¯ä»¥æ­£å¸¸è¿”å›äº†ï¼ŒB è¿›ç¨‹éœ€è¦çš„æ—¶å€™å†å»è¯»å–æ•°æ®å°±å¯ä»¥äº†ã€‚åŒç†ï¼ŒB è¿›ç¨‹è¦ç»™ A è¿›ç¨‹å‘é€æ¶ˆæ¯ä¹Ÿæ˜¯å¦‚æ­¤ï¼›</span></p></li><li><p><strong><span>æ¶ˆæ¯é˜Ÿåˆ—æ˜¯ä¿å­˜åœ¨å†…æ ¸ä¸­çš„æ¶ˆæ¯é“¾è¡¨ã€‚</span></strong><span> åœ¨å‘é€æ•°æ®æ—¶ï¼Œä¼šåˆ†æˆä¸€ä¸ªä¸€ä¸ªç‹¬ç«‹çš„æ•°æ®å•å…ƒï¼Œä¹Ÿå°±æ˜¯æ¶ˆæ¯ä½“ï¼ˆæ•°æ®å—ï¼‰ï¼Œæ¶ˆæ¯ä½“æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„æ•°æ®ç±»å‹ï¼Œæ¶ˆæ¯çš„å‘é€æ–¹å’Œæ¥æ”¶æ–¹è¦çº¦å®šå¥½æ¶ˆæ¯ä½“çš„æ•°æ®ç±»å‹ï¼Œæ‰€ä»¥æ¯ä¸ªæ¶ˆæ¯ä½“éƒ½æ˜¯å›ºå®šå¤§å°çš„å­˜å‚¨å—ï¼Œä¸åƒç®¡é“æ˜¯æ— æ ¼å¼çš„å­—èŠ‚æµæ•°æ®ã€‚å¦‚æœè¿›ç¨‹ä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­è¯»å–äº†æ¶ˆæ¯ä½“ï¼Œå†…æ ¸å°±ä¼šæŠŠè¿™ä¸ªæ¶ˆæ¯ä½“åˆ é™¤ã€‚</span></p></li><li><p><strong><span>æ¶ˆæ¯é˜Ÿåˆ—çš„ç”Ÿå‘½å‘¨æœŸéšå†…æ ¸ã€‚</span></strong><span> å¦‚æœæ²¡æœ‰é‡Šæ”¾æ¶ˆæ¯é˜Ÿåˆ—æˆ–è€…æ²¡æœ‰å…³é—­æ“ä½œç³»ç»Ÿï¼Œæ¶ˆæ¯é˜Ÿåˆ—ä¼šä¸€ç›´å­˜åœ¨ã€‚</span></p></li><li><p><strong><span>é€šä¿¡ä¸åŠæ—¶ã€‚</span></strong></p></li><li><p><strong><span>ä¸é€‚åˆæ¯”è¾ƒå¤§æ•°æ®çš„ä¼ è¾“ã€‚</span></strong><span> å› ä¸ºå†…æ ¸ä¸­æ¯ä¸ªæ¶ˆæ¯ä½“éƒ½æœ‰ä¸€ä¸ªæœ€å¤§çš„é•¿åº¦é™åˆ¶ï¼ŒåŒæ—¶æ‰€æœ‰é˜Ÿåˆ—æ‰€åŒ…å«çš„å…¨éƒ¨æ¶ˆæ¯ä½“çš„æ€»é•¿åº¦åŸå§‹æœ‰ä¸Šé™çš„ã€‚</span></p></li><li><p><strong><span>å­˜åœ¨ç”¨æˆ·æ€ä¸å†…æ ¸æ€ä¹‹é—´çš„æ•°æ®æ‹·è´å¼€é”€ï¼š</span></strong><span> å› ä¸ºè¿›ç¨‹å†™å…¥æ•°æ®åˆ°å†…æ ¸ä¸­çš„æ¶ˆæ¯é˜Ÿåˆ—æ—¶ï¼Œä¼šå‘ç”Ÿä»ç”¨æˆ·æ€æ‹·è´æ•°æ®åˆ°å†…æ ¸æ€çš„è¿‡ç¨‹ï¼ŒåŒç†å¦å¤–ä¸€ä¸ªè¿›ç¨‹è¯»å–å†…æ ¸çš„æ¶ˆæ¯æ•°æ®æ—¶ï¼Œä¼šå‘ç”Ÿä»å†…æ ¸æ€æ‹·è´æ•°æ®åˆ°ç”¨æˆ·æ€çš„è¿‡ç¨‹ã€‚</span></p></li></ul><p><strong><span>å…±äº«å†…å­˜</span></strong></p><ul><li><p><strong><span>å…±äº«å†…å­˜çš„æœºåˆ¶ï¼Œå°±æ˜¯æ‹¿å‡ºä¸€å—è™šæ‹Ÿåœ°å€ç©ºé—´æ¥ï¼Œæ˜ å°„åˆ°ç›¸åŒçš„ç‰©ç†å†…å­˜ä¸­</span></strong><span>ã€‚</span></p></li><li><p><strong><span>å…‹æœäº†æ¶ˆæ¯é˜Ÿåˆ—è¯»å†™è¿‡ç¨‹ä¸­å­˜åœ¨ç”¨æˆ·æ€ä¸å†…æ ¸æ€ä¹‹é—´çš„æ•°æ®æ‹·è´å¼€é”€é—®é¢˜ã€‚</span></strong></p></li><li><p><strong><span>å¤šä¸ªè¿›ç¨‹å¯ä»¥è®¿é—®åŒä¸€å—å†…å­˜ç©ºé—´ï¼Œä¸åŒè¿›ç¨‹å¯ä»¥åŠæ—¶çœ‹åˆ°å¯¹æ–¹è¿›ç¨‹ä¸­å †å…±äº«å†…å­˜ä¸­æ•°æ®çš„æ›´æ–°ã€‚</span></strong></p></li><li><p><strong><span>å¦‚æœå¤šä¸ªè¿›ç¨‹åŒæ—¶ä¿®æ”¹åŒä¸€ä¸ªå…±äº«å†…å­˜ï¼Œå¾ˆå®¹æ˜“é€ æˆå†²çªã€‚</span></strong></p></li></ul><p><img src="assets/image-20240614145325182.png" alt="image-20240614145325182" style="zoom:15%;" /></p><p><strong><span>ä¿¡å·é‡</span></strong></p><ul><li><p><span>ç”¨äº†å…±äº«å†…å­˜é€šä¿¡æ–¹å¼ï¼Œå¸¦æ¥æ–°çš„é—®é¢˜ï¼Œé‚£å°±æ˜¯å¦‚æœå¤šä¸ªè¿›ç¨‹åŒæ—¶ä¿®æ”¹åŒä¸€ä¸ªå…±äº«å†…å­˜ï¼Œå¾ˆæœ‰å¯èƒ½å°±å†²çªäº†ã€‚ä¾‹å¦‚ä¸¤ä¸ªè¿›ç¨‹éƒ½åŒæ—¶å†™ä¸€ä¸ªåœ°å€ï¼Œé‚£å…ˆå†™çš„é‚£ä¸ªè¿›ç¨‹ä¼šå‘ç°å†…å®¹è¢«åˆ«äººè¦†ç›–äº†ã€‚</span></p></li><li><p><span>ä¸ºäº†é˜²æ­¢å¤šè¿›ç¨‹ç«äº‰å…±äº«èµ„æºï¼Œè€Œé€ æˆçš„æ•°æ®é”™ä¹±ï¼Œæ‰€ä»¥éœ€è¦ä¿æŠ¤æœºåˆ¶ï¼Œä½¿å¾—å…±äº«çš„èµ„æºï¼Œåœ¨ä»»æ„æ—¶åˆ»åªèƒ½è¢«ä¸€ä¸ªè¿›ç¨‹è®¿é—®ã€‚æ­£å¥½ï¼Œ</span><strong><span>ä¿¡å·é‡</span></strong><span>å°±å®ç°äº†è¿™ä¸€ä¿æŠ¤æœºåˆ¶ã€‚</span></p></li><li><p><strong><span>ä¿¡å·é‡å…¶å®æ˜¯ä¸€ä¸ªæ•´å‹çš„è®¡æ•°å™¨ï¼Œä¸»è¦ç”¨äºå®ç°è¿›ç¨‹é—´çš„äº’æ–¥ä¸åŒæ­¥ï¼Œè€Œä¸æ˜¯ç”¨äºç¼“å­˜è¿›ç¨‹é—´é€šä¿¡çš„æ•°æ®</span></strong><span>ã€‚</span></p><ul><li><p><span>ä¸€ä¸ªæ˜¯ </span><strong><span>P æ“ä½œ</span></strong><span>ï¼Œè¿™ä¸ªæ“ä½œä¼šæŠŠä¿¡å·é‡å‡å» 1ï¼Œç›¸å‡åå¦‚æœä¿¡å·é‡ &lt; 0ï¼Œåˆ™è¡¨æ˜èµ„æºå·²è¢«å ç”¨ï¼Œè¿›ç¨‹éœ€é˜»å¡ç­‰å¾…ï¼›ç›¸å‡åå¦‚æœä¿¡å·é‡ &gt;= 0ï¼Œåˆ™è¡¨æ˜è¿˜æœ‰èµ„æºå¯ä½¿ç”¨ï¼Œè¿›ç¨‹å¯æ­£å¸¸ç»§ç»­æ‰§è¡Œã€‚</span></p></li><li><p><span>å¦ä¸€ä¸ªæ˜¯ </span><strong><span>V æ“ä½œ</span></strong><span>ï¼Œè¿™ä¸ªæ“ä½œä¼šæŠŠä¿¡å·é‡åŠ ä¸Š 1ï¼Œç›¸åŠ åå¦‚æœä¿¡å·é‡ &lt;= 0ï¼Œåˆ™è¡¨æ˜å½“å‰æœ‰é˜»å¡ä¸­çš„è¿›ç¨‹ï¼Œäºæ˜¯ä¼šå°†è¯¥è¿›ç¨‹å”¤é†’è¿è¡Œï¼›ç›¸åŠ åå¦‚æœä¿¡å·é‡ &gt; 0ï¼Œåˆ™è¡¨æ˜å½“å‰æ²¡æœ‰é˜»å¡ä¸­çš„è¿›ç¨‹ï¼›</span></p></li></ul></li></ul><blockquote><p><span>æ­¥éª¤ï¼š1. é¦–å…ˆæµ‹è¯•æ§åˆ¶è¯¥èµ„æºçš„ä¿¡å·é‡ã€‚2. è‹¥æ­¤ä¿¡å·é‡çš„å€¼ä¸ºæ­£ï¼Œåˆ™è¿›ç¨‹å¯ä»¥ä½¿ç”¨è¯¥èµ„æºã€‚è¿›ç¨‹å°†ä¿¡å·é‡å€¼å‡1,è¡¨ç¤ºä¸€ä¸ªèµ„æºè¢«ä½¿ç”¨ã€‚3. è‹¥æ­¤ä¿¡å·é‡çš„å€¼ä¸º0ï¼Œåˆ™è¿›ç¨‹è¿›å…¥ä¼‘çœ çŠ¶æ€ï¼Œç›´è‡³ä¿¡å·é‡å€¼å¤§äº0ï¼Œè¿›ç¨‹è¢«å”¤é†’ï¼Œä»æ–°è¿›å…¥ç¬¬1æ­¥ã€‚4. å½“è¿›ç¨‹ä¸å†ä½¿ç”¨ç”±ä¸€ä¸ªä¿¡å·æ§åˆ¶çš„å…±äº«èµ„æºæ—¶ï¼Œè¯¥ä¿¡å·é‡å€¼å¢1ï¼Œå¦‚æœæœ‰è¿›ç¨‹æ­£åœ¨ä¼‘çœ ç­‰å¾…è¯¥ä¿¡å·é‡ï¼Œåˆ™ä¼šè¢«å”¤é†’ã€‚</span></p></blockquote><p><strong><span>ä¿¡å·</span></strong></p><ul><li><p><strong><span>å¯¹äºå¼‚å¸¸æƒ…å†µä¸‹çš„å·¥ä½œæ¨¡å¼ï¼Œå°±éœ€è¦ç”¨ã€Œä¿¡å·ã€çš„æ–¹å¼æ¥é€šçŸ¥è¿›ç¨‹ã€‚</span></strong></p></li><li><p><span>åœ¨ Linux æ“ä½œç³»ç»Ÿä¸­ï¼Œ ä¸ºäº†å“åº”å„ç§å„æ ·çš„äº‹ä»¶ï¼Œæä¾›äº†å‡ åç§ä¿¡å·ï¼Œåˆ†åˆ«ä»£è¡¨ä¸åŒçš„æ„ä¹‰</span></p></li><li><p><span>ä¿¡å·äº‹ä»¶çš„æ¥æºä¸»è¦æœ‰ç¡¬ä»¶æ¥æºï¼ˆå¦‚é”®ç›˜ Cltr+C ï¼‰å’Œè½¯ä»¶æ¥æºï¼ˆå¦‚ kill å‘½ä»¤ï¼‰ã€‚</span></p></li><li><p><span>ä¿¡å·æ˜¯è¿›ç¨‹é—´é€šä¿¡æœºåˆ¶ä¸­</span><strong><span>å”¯ä¸€çš„å¼‚æ­¥é€šä¿¡æœºåˆ¶</span></strong><span>ï¼Œå› ä¸ºå¯ä»¥åœ¨ä»»ä½•æ—¶å€™å‘é€ä¿¡å·ç»™æŸä¸€è¿›ç¨‹ï¼Œä¸€æ—¦æœ‰ä¿¡å·äº§ç”Ÿï¼Œæˆ‘ä»¬å°±æœ‰ä¸‹é¢è¿™å‡ ç§ï¼Œç”¨æˆ·è¿›ç¨‹å¯¹ä¿¡å·çš„å¤„ç†æ–¹å¼ã€‚</span></p><ul><li><p><strong><span>æ‰§è¡Œé»˜è®¤æ“ä½œ</span></strong><span>ã€‚Linux å¯¹æ¯ç§ä¿¡å·éƒ½è§„å®šäº†é»˜è®¤æ“ä½œï¼Œä¾‹å¦‚ï¼Œä¸Šé¢åˆ—è¡¨ä¸­çš„ SIGTERM ä¿¡å·ï¼Œå°±æ˜¯ç»ˆæ­¢è¿›ç¨‹çš„æ„æ€ã€‚</span></p></li><li><p><strong><span>æ•æ‰ä¿¡å·</span></strong><span>ã€‚æˆ‘ä»¬å¯ä»¥ä¸ºä¿¡å·å®šä¹‰ä¸€ä¸ªä¿¡å·å¤„ç†å‡½æ•°ã€‚å½“ä¿¡å·å‘ç”Ÿæ—¶ï¼Œæˆ‘ä»¬å°±æ‰§è¡Œç›¸åº”çš„ä¿¡å·å¤„ç†å‡½æ•°ã€‚</span></p></li><li><p><strong><span>å¿½ç•¥ä¿¡å·</span></strong><span>ã€‚å½“æˆ‘ä»¬ä¸å¸Œæœ›å¤„ç†æŸäº›ä¿¡å·çš„æ—¶å€™ï¼Œå°±å¯ä»¥å¿½ç•¥è¯¥ä¿¡å·ï¼Œä¸åšä»»ä½•å¤„ç†ã€‚æœ‰ä¸¤ä¸ªä¿¡å·æ˜¯åº”ç”¨è¿›ç¨‹æ— æ³•æ•æ‰å’Œå¿½ç•¥çš„ï¼Œå³ </span><code>SIGKILL</code><span> å’Œ </span><code>SEGSTOP</code><span>ï¼Œå®ƒä»¬ç”¨äºåœ¨ä»»ä½•æ—¶å€™ä¸­æ–­æˆ–ç»“æŸæŸä¸€è¿›ç¨‹ã€‚</span></p></li></ul></li></ul><p><strong><span>å¥—æ¥å­—</span></strong></p><ul><li><p><strong><span>ä¸ä»…å¯ä»¥è·¨ç½‘ç»œä¸ä¸åŒä¸»æœºçš„è¿›ç¨‹é—´é€šä¿¡ï¼Œè¿˜å¯ä»¥åœ¨åŒä¸»æœºä¸Šè¿›ç¨‹é—´é€šä¿¡ã€‚</span></strong></p></li><li><p><span>æ ¹æ®åˆ›å»ºSocketç±»å‹çš„ä¸åŒï¼Œåˆ†ä¸ºä¸‰ç§å¸¸è§çš„é€šä¿¡æ–¹å¼ï¼š</span><strong><span>å®ç°TCPå­—èŠ‚æµé€šä¿¡ï¼Œ</span></strong><span> </span><strong><span>å®ç°UDPæ•°æ®æŠ¥é€šä¿¡ï¼Œ</span></strong><span> </span><strong><span>å®ç°æœ¬åœ°è¿›ç¨‹é€šä¿¡ã€‚</span></strong><span> </span></p></li><li><p><span>ç³»ç»Ÿè°ƒç”¨ä¸‰ä¸ªå‚æ•°åˆ†åˆ«ä»£è¡¨ï¼š</span></p><ul><li><p><span>domain å‚æ•°ç”¨æ¥æŒ‡å®šåè®®æ—ï¼Œæ¯”å¦‚ AF_INET ç”¨äº IPV4ã€AF_INET6 ç”¨äº IPV6ã€AF_LOCAL/AF_UNIX ç”¨äºæœ¬æœºï¼›</span></p></li><li><p><span>type å‚æ•°ç”¨æ¥æŒ‡å®šé€šä¿¡ç‰¹æ€§ï¼Œæ¯”å¦‚ SOCK_STREAM è¡¨ç¤ºçš„æ˜¯å­—èŠ‚æµï¼Œå¯¹åº” TCPã€SOCK_DGRAM è¡¨ç¤ºçš„æ˜¯æ•°æ®æŠ¥ï¼Œå¯¹åº” UDPã€SOCK_RAW è¡¨ç¤ºçš„æ˜¯åŸå§‹å¥—æ¥å­—ï¼›</span></p></li><li><p><span>protocal å‚æ•°åŸæœ¬æ˜¯ç”¨æ¥æŒ‡å®šé€šä¿¡åè®®çš„ï¼Œä½†ç°åœ¨åŸºæœ¬åºŸå¼ƒã€‚å› ä¸ºåè®®å·²ç»é€šè¿‡å‰é¢ä¸¤ä¸ªå‚æ•°æŒ‡å®šå®Œæˆï¼Œprotocol ç›®å‰ä¸€èˆ¬å†™æˆ 0 å³å¯ï¼›</span></p></li></ul></li></ul><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: currentcolor;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">int socket(int domain, int type, int protocal)</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre><ul><li><p><strong><span>é’ˆå¯¹ TCP åè®®é€šä¿¡çš„ socket ç¼–ç¨‹æ¨¡å‹ã€‚</span></strong></p><p><span>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒæœåŠ¡ç«¯è°ƒç”¨ </span><code>accept</code><span> æ—¶ï¼Œè¿æ¥æˆåŠŸäº†ä¼šè¿”å›ä¸€ä¸ªå·²å®Œæˆè¿æ¥çš„ socketï¼Œåç»­ç”¨æ¥ä¼ è¾“æ•°æ®ã€‚æ‰€ä»¥ï¼Œç›‘å¬çš„ socket å’ŒçœŸæ­£ç”¨æ¥ä¼ é€æ•°æ®çš„ socketï¼Œæ˜¯ã€Œ</span><strong><span>ä¸¤ä¸ª</span></strong><span>ã€ socketï¼Œä¸€ä¸ªå«ä½œ</span><strong><span>ç›‘å¬ socket</span></strong><span>ï¼Œä¸€ä¸ªå«ä½œ</span><strong><span>å·²å®Œæˆè¿æ¥ socket</span></strong><span>ã€‚</span></p><p><img src="assets/image-20240614150107857.png" alt="image-20240614150107857" style="zoom:33%;" /></p><ul><li><p><span>æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯åˆå§‹åŒ– </span><code>socket</code><span>ï¼Œå¾—åˆ°æ–‡ä»¶æè¿°ç¬¦ï¼›</span></p></li><li><p><span>æœåŠ¡ç«¯è°ƒç”¨ </span><code>bind</code><span>ï¼Œå°†ç»‘å®šåœ¨ IP åœ°å€å’Œç«¯å£;</span></p></li><li><p><span>æœåŠ¡ç«¯è°ƒç”¨ </span><code>listen</code><span>ï¼Œè¿›è¡Œç›‘å¬ï¼›</span></p></li><li><p><span>æœåŠ¡ç«¯è°ƒç”¨ </span><code>accept</code><span>ï¼Œç­‰å¾…å®¢æˆ·ç«¯è¿æ¥ï¼›</span></p></li><li><p><span>å®¢æˆ·ç«¯è°ƒç”¨ </span><code>connect</code><span>ï¼Œå‘æœåŠ¡å™¨ç«¯çš„åœ°å€å’Œç«¯å£å‘èµ·è¿æ¥è¯·æ±‚ï¼›</span></p></li><li><p><span>æœåŠ¡ç«¯ </span><code>accept</code><span> è¿”å›ç”¨äºä¼ è¾“çš„ </span><code>socket</code><span> çš„æ–‡ä»¶æè¿°ç¬¦ï¼›</span></p></li><li><p><span>å®¢æˆ·ç«¯è°ƒç”¨ </span><code>write</code><span> å†™å…¥æ•°æ®ï¼›æœåŠ¡ç«¯è°ƒç”¨ </span><code>read</code><span> è¯»å–æ•°æ®ï¼›</span></p></li><li><p><span>å®¢æˆ·ç«¯æ–­å¼€è¿æ¥æ—¶ï¼Œä¼šè°ƒç”¨ </span><code>close</code><span>ï¼Œé‚£ä¹ˆæœåŠ¡ç«¯ </span><code>read</code><span> è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œå°±ä¼šè¯»å–åˆ°äº† </span><code>EOF</code><span>ï¼Œå¾…å¤„ç†å®Œæ•°æ®åï¼ŒæœåŠ¡ç«¯è°ƒç”¨ </span><code>close</code><span>ï¼Œè¡¨ç¤ºè¿æ¥å…³é—­ã€‚</span></p></li></ul></li><li><p><strong><span>é’ˆå¯¹ UDP åè®®é€šä¿¡çš„ socket ç¼–ç¨‹æ¨¡å‹</span></strong></p><p><img src="assets/image-20240614150204936.png" alt="image-20240614150204936" style="zoom:25%;" /></p><p><span>UDP æ˜¯æ²¡æœ‰è¿æ¥çš„ï¼Œæ‰€ä»¥ä¸éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œä¹Ÿå°±ä¸éœ€è¦åƒ TCP è°ƒç”¨ listen å’Œ connectï¼Œä½†æ˜¯ UDP çš„äº¤äº’ä»ç„¶éœ€è¦ IP åœ°å€å’Œç«¯å£å·ï¼Œå› æ­¤ä¹Ÿéœ€è¦ bindã€‚</span></p><p><span>å¯¹äº UDP æ¥è¯´ï¼Œä¸éœ€è¦è¦ç»´æŠ¤è¿æ¥ï¼Œé‚£ä¹ˆä¹Ÿå°±æ²¡æœ‰æ‰€è°“çš„å‘é€æ–¹å’Œæ¥æ”¶æ–¹ï¼Œç”šè‡³éƒ½ä¸å­˜åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„æ¦‚å¿µï¼Œåªè¦æœ‰ä¸€ä¸ª socket å¤šå°æœºå™¨å°±å¯ä»¥ä»»æ„é€šä¿¡ï¼Œå› æ­¤æ¯ä¸€ä¸ª UDP çš„ socket éƒ½éœ€è¦ bindã€‚</span></p><p><span>å¦å¤–ï¼Œæ¯æ¬¡é€šä¿¡æ—¶ï¼Œè°ƒç”¨ sendto å’Œ recvfromï¼Œéƒ½è¦ä¼ å…¥ç›®æ ‡ä¸»æœºçš„ IP åœ°å€å’Œç«¯å£ã€‚</span></p></li><li><p><strong><span>é’ˆå¯¹æœ¬åœ°è¿›ç¨‹é—´é€šä¿¡çš„ socket ç¼–ç¨‹æ¨¡å‹</span></strong></p></li></ul><p><span>æœ¬åœ° socket è¢«ç”¨äºåœ¨</span><strong><span>åŒä¸€å°ä¸»æœºä¸Šè¿›ç¨‹é—´é€šä¿¡</span></strong><span>çš„åœºæ™¯ï¼š</span></p><ul><li><p><span>æœ¬åœ° socket çš„ç¼–ç¨‹æ¥å£å’Œ IPv4 ã€IPv6 å¥—æ¥å­—ç¼–ç¨‹æ¥å£æ˜¯ä¸€è‡´çš„ï¼Œå¯ä»¥æ”¯æŒã€Œå­—èŠ‚æµã€å’Œã€Œæ•°æ®æŠ¥ã€ä¸¤ç§åè®®ï¼›</span></p></li><li><p><span>æœ¬åœ° socket çš„å®ç°æ•ˆç‡å¤§å¤§é«˜äº IPv4 å’Œ IPv6 çš„å­—èŠ‚æµã€æ•°æ®æŠ¥ socket å®ç°ï¼›</span></p></li></ul><p><span>å¯¹äºæœ¬åœ°å­—èŠ‚æµ socketï¼Œå…¶ socket ç±»å‹æ˜¯ AF_LOCAL å’Œ SOCK_STREAMã€‚</span></p><p><span>å¯¹äºæœ¬åœ°æ•°æ®æŠ¥ socketï¼Œå…¶ socket ç±»å‹æ˜¯ AF_LOCAL å’Œ SOCK_DGRAMã€‚</span></p><p><span>æœ¬åœ°å­—èŠ‚æµ socket å’Œ æœ¬åœ°æ•°æ®æŠ¥ socket åœ¨ bind çš„æ—¶å€™ï¼Œä¸åƒ TCP å’Œ UDP è¦ç»‘å®š IP åœ°å€å’Œç«¯å£ï¼Œè€Œæ˜¯</span><strong><span>ç»‘å®šä¸€ä¸ªæœ¬åœ°æ–‡ä»¶</span></strong><span>ï¼Œè¿™ä¹Ÿå°±æ˜¯å®ƒä»¬ä¹‹é—´çš„æœ€å¤§åŒºåˆ«ã€‚</span></p><h2 id='çº¿ç¨‹'><span>çº¿ç¨‹</span></h2><h3 id='ä¸ºä»€ä¹ˆéœ€è¦çº¿ç¨‹'><span>ä¸ºä»€ä¹ˆéœ€è¦çº¿ç¨‹ï¼Ÿ</span></h3><ul><li><p><span>å•è¿›ç¨‹æ²¡æœ‰åŠæ³•å¹¶å‘æ‰§è¡Œï¼Œå½±å“èµ„æºçš„ä½¿ç”¨æ•ˆç‡ï¼›</span></p></li><li><p><span>å¤šè¿›ç¨‹è¿›ç¨‹é—´é€šä¿¡æ•ˆç‡ä½ã€‚</span></p></li><li><p><span>ç»´æŠ¤è¿›ç¨‹çš„ç³»ç»Ÿå¼€é”€è¾ƒå¤§ï¼Œå¦‚åˆ›å»ºè¿›ç¨‹æ—¶ï¼Œåˆ†é…èµ„æºã€å»ºç«‹ PCBï¼›ç»ˆæ­¢è¿›ç¨‹æ—¶ï¼Œå›æ”¶èµ„æºã€æ’¤é”€ PCBï¼›è¿›ç¨‹åˆ‡æ¢æ—¶ï¼Œä¿å­˜å½“å‰è¿›ç¨‹çš„çŠ¶æ€ä¿¡æ¯ã€‚</span></p></li></ul><p><strong><span>çº¿ç¨‹æ˜¯è¿›ç¨‹å½“ä¸­çš„ä¸€æ¡æ‰§è¡Œæµç¨‹ã€‚</span></strong><span>åŒä¸€ä¸ªè¿›ç¨‹å†…å¤šä¸ªçº¿ç¨‹ä¹‹é—´å¯ä»¥å…±äº«ä»£ç æ®µã€æ•°æ®æ®µã€æ‰“å¼€çš„æ–‡ä»¶ç­‰èµ„æºï¼Œä½†æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ç‹¬ç«‹ä¸€å¥—çš„å¯„å­˜å™¨å’Œæ ˆï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿çº¿ç¨‹çš„æ§åˆ¶æµæ˜¯ç›¸å¯¹ç‹¬ç«‹çš„ã€‚</span></p><h3 id='çº¿ç¨‹çš„ä¼˜ç¼ºç‚¹'><span>çº¿ç¨‹çš„ä¼˜ç¼ºç‚¹</span></h3><ul><li><p><span>ä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥æœ‰å¤šæ¡çº¿ç¨‹ï¼Œå¤šæ¡çº¿ç¨‹å¯ä»¥å¹¶å‘æ‰§è¡Œï¼Œæé«˜æ‰§è¡Œæ•ˆç‡ã€‚</span></p></li><li><p><span>å„ä¸ªçº¿ç¨‹ä¹‹é—´å¯ä»¥å…±äº«åœ°å€ç©ºé—´å’Œæ–‡ä»¶ç­‰èµ„æºã€‚</span></p></li><li><p><span>å½“è¿›ç¨‹ä¸­çš„ä¸€ä¸ªçº¿ç¨‹å´©æºƒæ—¶ï¼Œä¼šå¯¼è‡´å…¶æ‰€å±è¿›ç¨‹çš„æ‰€æœ‰çº¿ç¨‹å´©æºƒï¼ˆè¿™é‡Œæ˜¯é’ˆå¯¹ C/C++ è¯­è¨€ï¼ŒJavaè¯­è¨€ä¸­çš„çº¿ç¨‹å¥”æºƒä¸ä¼šé€ æˆè¿›ç¨‹å´©æºƒï¼‰å¦‚ï¼Œå¯¹äºæ¸¸æˆçš„ç”¨æˆ·è®¾è®¡ï¼Œåˆ™ä¸åº”è¯¥ä½¿ç”¨å¤šçº¿ç¨‹çš„æ–¹å¼ï¼Œå¦åˆ™ä¸€ä¸ªç”¨æˆ·æŒ‚äº†ï¼Œä¼šå½±å“å…¶ä»–åŒä¸ªè¿›ç¨‹çš„çº¿ç¨‹ã€‚</span></p></li></ul><h3 id='çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢'><span>çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢</span></h3><p><span>è¿™è¿˜å¾—çœ‹çº¿ç¨‹æ˜¯ä¸æ˜¯å±äºåŒä¸€ä¸ªè¿›ç¨‹ï¼š</span></p><ul><li><p><span>å½“ä¸¤ä¸ªçº¿ç¨‹ä¸æ˜¯å±äºåŒä¸€ä¸ªè¿›ç¨‹ï¼Œåˆ™åˆ‡æ¢çš„è¿‡ç¨‹å°±è·Ÿè¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ä¸€æ ·ï¼›</span></p></li><li><p><strong><span>å½“ä¸¤ä¸ªçº¿ç¨‹æ˜¯å±äºåŒä¸€ä¸ªè¿›ç¨‹ï¼Œå› ä¸ºè™šæ‹Ÿå†…å­˜æ˜¯å…±äº«çš„ï¼Œæ‰€ä»¥åœ¨åˆ‡æ¢æ—¶ï¼Œè™šæ‹Ÿå†…å­˜è¿™äº›èµ„æºå°±ä¿æŒä¸åŠ¨ï¼Œåªéœ€è¦åˆ‡æ¢çº¿ç¨‹çš„ç§æœ‰æ•°æ®ã€å¯„å­˜å™¨ç­‰ä¸å…±äº«çš„æ•°æ®</span></strong><span>ï¼›</span></p></li></ul><p><span>æ‰€ä»¥ï¼Œçº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ç›¸æ¯”è¿›ç¨‹ï¼Œå¼€é”€è¦å°å¾ˆå¤šã€‚</span></p><h3 id='çº¿ç¨‹çš„å®ç°'><span>çº¿ç¨‹çš„å®ç°</span></h3><p><span>ä¸»è¦æœ‰ä¸‰ç§çº¿ç¨‹çš„å®ç°æ–¹å¼ï¼š</span></p><ul><li><p><strong><span>ç”¨æˆ·çº¿ç¨‹ï¼ˆUser Threadï¼‰</span></strong><span>ï¼šç”¨æˆ·çº¿ç¨‹æ˜¯åŸºäºç”¨æˆ·æ€çš„çº¿ç¨‹ç®¡ç†åº“æ¥å®ç°çš„ï¼Œé‚£ä¹ˆ</span><strong><span>çº¿ç¨‹æ§åˆ¶å—ï¼ˆThread Control Block, TCBï¼‰</span></strong><span> ä¹Ÿæ˜¯åœ¨åº“é‡Œé¢æ¥å®ç°çš„ï¼Œå¯¹äºæ“ä½œç³»ç»Ÿè€Œè¨€æ˜¯çœ‹ä¸åˆ°è¿™ä¸ª TCB çš„ï¼Œå®ƒåªèƒ½çœ‹åˆ°æ•´ä¸ªè¿›ç¨‹çš„ PCBã€‚æ‰€ä»¥ï¼Œ</span><strong><span>ç”¨æˆ·çº¿ç¨‹çš„æ•´ä¸ªçº¿ç¨‹ç®¡ç†å’Œè°ƒåº¦ï¼Œæ“ä½œç³»ç»Ÿæ˜¯ä¸ç›´æ¥å‚ä¸çš„ï¼Œè€Œæ˜¯ç”±ç”¨æˆ·çº§çº¿ç¨‹åº“å‡½æ•°æ¥å®Œæˆçº¿ç¨‹çš„ç®¡ç†ï¼ŒåŒ…æ‹¬çº¿ç¨‹çš„åˆ›å»ºã€ç»ˆæ­¢ã€åŒæ­¥å’Œè°ƒåº¦ç­‰</span></strong></p><ul><li><p><span>ä¼˜åŠ¿</span></p><ul><li><p><span>æ¯ä¸ªè¿›ç¨‹éƒ½éœ€è¦æœ‰å®ƒç§æœ‰çš„çº¿ç¨‹æ§åˆ¶å—ï¼ˆTCBï¼‰åˆ—è¡¨ï¼Œç”¨æ¥è·Ÿè¸ªè®°å½•å®ƒå„ä¸ªçº¿ç¨‹çŠ¶æ€ä¿¡æ¯ï¼ˆPCã€æ ˆæŒ‡é’ˆã€å¯„å­˜å™¨ï¼‰ï¼ŒTCB ç”±ç”¨æˆ·çº§çº¿ç¨‹åº“å‡½æ•°æ¥ç»´æŠ¤ï¼Œå¯ç”¨äºä¸æ”¯æŒçº¿ç¨‹æŠ€æœ¯çš„æ“ä½œç³»ç»Ÿï¼›</span></p></li><li><p><span>ç”¨æˆ·çº¿ç¨‹çš„åˆ‡æ¢ä¹Ÿæ˜¯ç”±çº¿ç¨‹åº“å‡½æ•°æ¥å®Œæˆçš„ï¼Œæ— éœ€ç”¨æˆ·æ€ä¸å†…æ ¸æ€çš„åˆ‡æ¢ï¼Œæ‰€ä»¥é€Ÿåº¦ç‰¹åˆ«å¿«ï¼›</span></p></li></ul></li><li><p><span>ç¼ºé™·</span></p><ul><li><p><span>ç”±äºæ“ä½œç³»ç»Ÿä¸å‚ä¸çº¿ç¨‹çš„è°ƒåº¦ï¼Œå¦‚æœä¸€ä¸ªçº¿ç¨‹å‘èµ·äº†ç³»ç»Ÿè°ƒç”¨è€Œé˜»å¡ï¼Œé‚£è¿›ç¨‹æ‰€åŒ…å«çš„ç”¨æˆ·çº¿ç¨‹éƒ½ä¸èƒ½æ‰§è¡Œäº†ã€‚</span></p></li><li><p><span>å½“ä¸€ä¸ªçº¿ç¨‹å¼€å§‹è¿è¡Œåï¼Œé™¤éå®ƒä¸»åŠ¨åœ°äº¤å‡º CPU çš„ä½¿ç”¨æƒï¼Œå¦åˆ™å®ƒæ‰€åœ¨çš„è¿›ç¨‹å½“ä¸­çš„å…¶ä»–çº¿ç¨‹æ— æ³•è¿è¡Œï¼Œå› ä¸ºç”¨æˆ·æ€çš„çº¿ç¨‹æ²¡æ³•æ‰“æ–­å½“å‰è¿è¡Œä¸­çš„çº¿ç¨‹ï¼Œå®ƒæ²¡æœ‰è¿™ä¸ªç‰¹æƒï¼Œåªæœ‰æ“ä½œç³»ç»Ÿæ‰æœ‰ï¼Œä½†æ˜¯ç”¨æˆ·çº¿ç¨‹ä¸æ˜¯ç”±æ“ä½œç³»ç»Ÿç®¡ç†çš„ã€‚</span></p></li><li><p><span>ç”±äºæ—¶é—´ç‰‡åˆ†é…ç»™è¿›ç¨‹ï¼Œæ•…ä¸å…¶ä»–è¿›ç¨‹æ¯”ï¼Œåœ¨å¤šçº¿ç¨‹æ‰§è¡Œæ—¶ï¼Œæ¯ä¸ªçº¿ç¨‹å¾—åˆ°çš„æ—¶é—´ç‰‡è¾ƒå°‘ï¼Œæ‰§è¡Œä¼šæ¯”è¾ƒæ…¢ï¼›</span></p></li></ul></li></ul></li><li><p><strong><span>å†…æ ¸çº¿ç¨‹ï¼ˆKernel Threadï¼‰</span></strong><span>ï¼š</span><strong><span>å†…æ ¸çº¿ç¨‹æ˜¯ç”±æ“ä½œç³»ç»Ÿç®¡ç†çš„ï¼Œçº¿ç¨‹å¯¹åº”çš„ TCB è‡ªç„¶æ˜¯æ”¾åœ¨æ“ä½œç³»ç»Ÿé‡Œçš„ï¼Œè¿™æ ·çº¿ç¨‹çš„åˆ›å»ºã€ç»ˆæ­¢å’Œç®¡ç†éƒ½æ˜¯ç”±æ“ä½œç³»ç»Ÿè´Ÿè´£ã€‚</span></strong></p><ul><li><p><span>ä¼˜ç‚¹</span></p><ul><li><p><span>åœ¨ä¸€ä¸ªè¿›ç¨‹å½“ä¸­ï¼Œå¦‚æœæŸä¸ªå†…æ ¸çº¿ç¨‹å‘èµ·ç³»ç»Ÿè°ƒç”¨è€Œè¢«é˜»å¡ï¼Œå¹¶ä¸ä¼šå½±å“å…¶ä»–å†…æ ¸çº¿ç¨‹çš„è¿è¡Œï¼›</span></p></li><li><p><span>åˆ†é…ç»™çº¿ç¨‹ï¼Œå¤šçº¿ç¨‹çš„è¿›ç¨‹è·å¾—æ›´å¤šçš„ CPU è¿è¡Œæ—¶é—´ï¼›</span></p></li></ul></li><li><p><span>ç¼ºé™·</span></p><ul><li><p><span>åœ¨æ”¯æŒå†…æ ¸çº¿ç¨‹çš„æ“ä½œç³»ç»Ÿä¸­ï¼Œç”±å†…æ ¸æ¥ç»´æŠ¤è¿›ç¨‹å’Œçº¿ç¨‹çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œå¦‚ PCB å’Œ TCBï¼›</span></p></li><li><p><span>çº¿ç¨‹çš„åˆ›å»ºã€ç»ˆæ­¢å’Œåˆ‡æ¢éƒ½æ˜¯é€šè¿‡ç³»ç»Ÿè°ƒç”¨çš„æ–¹å¼æ¥è¿›è¡Œï¼Œå› æ­¤å¯¹äºç³»ç»Ÿæ¥è¯´ï¼Œç³»ç»Ÿå¼€é”€æ¯”è¾ƒå¤§ï¼›</span></p></li></ul></li></ul></li><li><p><strong><span>è½»é‡çº§è¿›ç¨‹ï¼ˆLightWeight Processï¼‰</span></strong><span>ï¼š</span><strong><span>æ˜¯å†…æ ¸æ”¯æŒçš„ç”¨æˆ·çº¿ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹å¯æœ‰ä¸€ä¸ªæˆ–å¤šä¸ª LWPï¼Œæ¯ä¸ª LWP æ˜¯è·Ÿå†…æ ¸çº¿ç¨‹ä¸€å¯¹ä¸€æ˜ å°„çš„ï¼Œä¹Ÿå°±æ˜¯ LWP éƒ½æ˜¯ç”±ä¸€ä¸ªå†…æ ¸çº¿ç¨‹æ”¯æŒï¼Œè€Œä¸” LWP æ˜¯ç”±å†…æ ¸ç®¡ç†å¹¶åƒæ™®é€šè¿›ç¨‹ä¸€æ ·è¢«è°ƒåº¦</span></strong><span>ã€‚</span></p><ul><li><p><span>åœ¨å¤§å¤šæ•°ç³»ç»Ÿä¸­ï¼Œ</span><strong><span>LWPä¸æ™®é€šè¿›ç¨‹çš„åŒºåˆ«ä¹Ÿåœ¨äºå®ƒåªæœ‰ä¸€ä¸ªæœ€å°çš„æ‰§è¡Œä¸Šä¸‹æ–‡å’Œè°ƒåº¦ç¨‹åºæ‰€éœ€çš„ç»Ÿè®¡ä¿¡æ¯</span></strong><span>ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œä¸€ä¸ªè¿›ç¨‹ä»£è¡¨ç¨‹åºçš„ä¸€ä¸ªå®ä¾‹ï¼Œè€Œ LWP ä»£è¡¨ç¨‹åºçš„æ‰§è¡Œçº¿ç¨‹ï¼Œå› ä¸ºä¸€ä¸ªæ‰§è¡Œçº¿ç¨‹ä¸åƒè¿›ç¨‹é‚£æ ·éœ€è¦é‚£ä¹ˆå¤šçŠ¶æ€ä¿¡æ¯ï¼Œæ‰€ä»¥ LWP ä¹Ÿä¸å¸¦æœ‰è¿™æ ·çš„ä¿¡æ¯ã€‚</span></p></li></ul></li></ul><p><span>ç”¨æˆ·çº¿ç¨‹å’Œå†…æ ¸çº¿ç¨‹çš„å¯¹åº”å…³ç³»</span></p><ul><li><p><strong><span>å¤šå¯¹ä¸€</span></strong><span>çš„å…³ç³»ï¼Œä¹Ÿå°±æ˜¯å¤šä¸ªç”¨æˆ·çº¿ç¨‹å¯¹åº”åŒä¸€ä¸ªå†…æ ¸çº¿ç¨‹</span></p></li><li><p><strong><span>ä¸€å¯¹ä¸€</span></strong><span>çš„å…³ç³»ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªç”¨æˆ·çº¿ç¨‹å¯¹åº”ä¸€ä¸ªå†…æ ¸çº¿ç¨‹</span></p></li><li><p><strong><span>å¤šå¯¹å¤š</span></strong><span>çš„å…³ç³»ï¼Œä¹Ÿå°±æ˜¯å¤šä¸ªç”¨æˆ·çº¿ç¨‹å¯¹åº”åˆ°å¤šä¸ªå†…æ ¸çº¿ç¨‹</span></p></li></ul><p>&nbsp;</p><h3 id='å¤šçº¿ç¨‹åŒæ­¥'><span>å¤šçº¿ç¨‹åŒæ­¥</span></h3><h4 id='äº’æ–¥ä¸åŒæ­¥'><span>äº’æ–¥ä¸åŒæ­¥</span></h4><p><span>äº’æ–¥ï¼šå½“å¤šçº¿ç¨‹ç›¸äº’ç«äº‰æ“ä½œå…±äº«å˜é‡æ—¶ï¼Œåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿäº†ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œå°±æœ‰å¯èƒ½å¾—åˆ°ä¸ç¡®å®šçš„ç»“æœï¼Œè¿™æ®µä»£ç å°±è¢«ç§°ä¸ºä¸´ç•ŒåŒºï¼Œä¸ºäº†èƒ½å¤Ÿå¾—åˆ°æ­£ç¡®çš„ç»“æœï¼Œéœ€è¦ä¿è¯ä¸€ä¸ªçº¿ç¨‹åœ¨ä¸´ç•ŒåŒºæ‰§è¡Œæ—¶ï¼Œå…¶ä»–çº¿ç¨‹åº”è¯¥è¢«é˜»æ­¢è¿›å…¥ä¸´ç•ŒåŒºã€‚</span></p><p><span>åŒæ­¥ï¼šå°±æ˜¯å¹¶å‘è¿›ç¨‹/çº¿ç¨‹åœ¨â¼€äº›å…³é”®ç‚¹ä¸Šå¯èƒ½éœ€è¦äº’ç›¸ç­‰å¾…ä¸äº’é€šæ¶ˆæ¯ï¼Œè¿™ç§ç›¸äº’åˆ¶çº¦çš„ç­‰å¾…ä¸äº’é€šä¿¡æ¯ç§°ä¸ºè¿›ç¨‹/çº¿ç¨‹åŒæ­¥ã€‚</span></p><p><span>åŒæ­¥å°±å¥½æ¯”ï¼šã€Œæ“ä½œ A åº”åœ¨æ“ä½œ B ä¹‹å‰æ‰§è¡Œã€ï¼Œã€Œæ“ä½œ C å¿…é¡»åœ¨æ“ä½œ A å’Œæ“ä½œ B éƒ½å®Œæˆä¹‹åæ‰èƒ½æ‰§è¡Œã€ç­‰ï¼›</span></p><p><span>äº’æ–¥å°±å¥½æ¯”ï¼šã€Œæ“ä½œ A å’Œæ“ä½œ B ä¸èƒ½åœ¨åŒä¸€æ—¶åˆ»æ‰§è¡Œã€ï¼›</span></p><h4 id='äº’æ–¥å’ŒåŒæ­¥çš„å®ç°'><span>äº’æ–¥å’ŒåŒæ­¥çš„å®ç°</span></h4><ul><li><p><strong><span>äº’æ–¥é‡ï¼š</span></strong><span> æœ¬è´¨æ˜¯ä¸€æŠŠé”ï¼Œåœ¨è®¿é—®å…¬å…±èµ„æºå‰å¯¹äº’æ–¥é‡è¿›è¡ŒåŠ é”ï¼Œåœ¨è®¿é—®å®Œæˆåé‡Šæ”¾äº’æ–¥é‡ä¸Šçš„é”ã€‚æ¯”å¦‚è‡ªæ—‹é”å’Œæ— ç­‰å¾…é”ã€‚</span></p></li><li><p><strong><span>ä¿¡å·é‡ï¼š</span></strong><span> ä¿¡å·é‡æ˜¯æ“ä½œç³»ç»Ÿæä¾›çš„ä¸€ç§åè°ƒå…±äº«èµ„æºè®¿é—®çš„åŠæ³•ã€‚é€šå¸¸ä¿¡å·é‡è¡¨ç¤ºèµ„æºçš„æ•°é‡ï¼Œå¯¹åº”çš„æ˜¯ä¸€ä¸ªæ•´å½¢å˜é‡ã€‚å¦å¤–ï¼Œè¿˜æœ‰ä¸¤ä¸ªåŸå­æ“ä½œçš„ç³»ç»Ÿè°ƒç”¨å‡½æ•°æ¥æ§åˆ¶ä¿¡å·é‡çš„ï¼Œåˆ†åˆ«æ˜¯ï¼š</span></p><ul><li><p><span>P æ“ä½œï¼šå°† sem å‡ 1 ï¼Œç›¸å‡åï¼Œå¦‚æœ sem &lt; 0 ï¼Œåˆ™è¿›ç¨‹/çº¿ç¨‹è¿›â¼Šé˜»å¡ç­‰å¾…ï¼Œå¦åˆ™ç»§ç»­ï¼Œè¡¨æ˜ P æ“ä½œå¯èƒ½ä¼šé˜»å¡ï¼›</span></p></li><li><p><span>V æ“ä½œï¼šå°† sem åŠ  1 ï¼Œç›¸åŠ åï¼Œå¦‚æœ sem &lt;= 0 ï¼Œå”¤é†’â¼€ä¸ªç­‰å¾…ä¸­çš„è¿›ç¨‹/çº¿ç¨‹ï¼Œè¡¨æ˜ V æ“ä½œä¸ ä¼šé˜»å¡ï¼›</span></p></li><li><p><span>P æ“ä½œæ˜¯â½¤åœ¨è¿›â¼Šä¸´ç•ŒåŒºä¹‹å‰ï¼ŒV æ“ä½œæ˜¯â½¤åœ¨ç¦»å¼€ä¸´ç•ŒåŒºä¹‹åï¼Œè¿™ä¸¤ä¸ªæ“ä½œæ˜¯å¿…é¡»æˆå¯¹å‡ºç°çš„ã€‚</span></p></li></ul><blockquote><p><span>ä¸ºæ¯ç±»å…±äº«èµ„æºè®¾ç½®â¼€ä¸ªä¿¡å·é‡ s ï¼Œå…¶åˆå€¼ä¸º 1 ï¼Œè¡¨ç¤ºè¯¥ä¸´ç•Œèµ„æºæœªè¢«å â½¤ã€‚</span></p><p><span>æ­¤æ—¶ï¼Œä»»ä½•æƒ³è¿›â¼Šä¸´ç•ŒåŒºçš„çº¿ç¨‹ï¼Œå¿…å…ˆåœ¨äº’æ–¥ä¿¡å·é‡ä¸Šæ‰§â¾ P æ“ä½œï¼Œåœ¨å®Œæˆå¯¹ä¸´ç•Œèµ„æºçš„è®¿é—®åå†æ‰§â¾ V æ“ä½œã€‚ç”±äºäº’æ–¥ä¿¡å·é‡çš„åˆå§‹å€¼ä¸º 1ï¼Œæ•…åœ¨ç¬¬â¼€ä¸ªçº¿ç¨‹æ‰§â¾ P æ“ä½œå s å€¼å˜ä¸º 0ï¼Œè¡¨ç¤ºä¸´ç•Œèµ„æºä¸ºç©ºé—²ï¼Œå¯åˆ†é…ç»™è¯¥çº¿ç¨‹ï¼Œä½¿ä¹‹è¿›â¼Šä¸´ç•ŒåŒºã€‚</span></p><p><span>è‹¥æ­¤æ—¶â¼œæœ‰ç¬¬â¼†ä¸ªçº¿ç¨‹æƒ³è¿›â¼Šä¸´ç•ŒåŒºï¼Œä¹Ÿåº”å…ˆæ‰§â¾ P æ“ä½œï¼Œç»“æœä½¿ s å˜ä¸ºè´Ÿå€¼ï¼Œè¿™å°±æ„å‘³ç€ä¸´ç•Œèµ„æºå·²è¢« å â½¤ï¼Œå› æ­¤ï¼Œç¬¬â¼†ä¸ªçº¿ç¨‹è¢«é˜»å¡ã€‚</span></p><p><span>å¹¶ä¸”ï¼Œç›´åˆ°ç¬¬â¼€ä¸ªçº¿ç¨‹æ‰§â¾ V æ“ä½œï¼Œé‡Šæ”¾ä¸´ç•Œèµ„æºâ½½æ¢å¤ s å€¼ä¸º 0 åï¼Œæ‰å”¤é†’ç¬¬â¼†ä¸ªçº¿ç¨‹ï¼Œä½¿ä¹‹è¿›â¼Šä¸´ç•Œ åŒºï¼Œå¾…å®ƒå®Œæˆä¸´ç•Œèµ„æºçš„è®¿é—®åï¼Œâ¼œæ‰§â¾ V æ“ä½œï¼Œä½¿ s æ¢å¤åˆ°åˆå§‹å€¼ 1ã€‚</span></p></blockquote></li><li><p><strong><span>äº‹ä»¶ï¼š</span></strong><span> é€šè¿‡é€šçŸ¥æ“ä½œçš„æ–¹å¼æ¥ä¿æŒå¤šçº¿ç¨‹åŒæ­¥ã€‚</span></p></li></ul><h4 id='æ­»é”'><span>æ­»é”</span></h4><p><span>å‘ç”Ÿæ­»é”çš„æ¡ä»¶ï¼š</span></p><ul><li><p><strong><span>äº’æ–¥æ¡ä»¶</span></strong><span>ï¼šäº’æ–¥æ¡ä»¶æ˜¯æŒ‡å¤šä¸ªçº¿ç¨‹ä¸èƒ½åŒæ—¶ä½¿â½¤åŒâ¼€ä¸ªèµ„æºã€‚</span></p></li><li><p><strong><span>æŒæœ‰å¹¶ç­‰å¾…æ¡ä»¶</span></strong><span>ï¼šæŒæœ‰å¹¶ç­‰å¾…æ¡ä»¶æ˜¯æŒ‡ï¼Œå½“çº¿ç¨‹ A å·²ç»æŒæœ‰äº†èµ„æº 1ï¼Œâ¼œæƒ³ç”³è¯·èµ„æº 2ï¼Œâ½½èµ„æº 2 å·²ç»è¢«çº¿ç¨‹ C æŒæœ‰äº†ï¼Œæ‰€ ä»¥çº¿ç¨‹ A å°±ä¼šå¤„äºç­‰å¾…çŠ¶æ€ï¼Œä½†æ˜¯çº¿ç¨‹ A åœ¨ç­‰å¾…èµ„æº 2 çš„åŒæ—¶å¹¶ä¸ä¼šé‡Šæ”¾â¾ƒâ¼°å·²ç»æŒæœ‰çš„èµ„æº 1ã€‚</span></p></li><li><p><strong><span>ä¸å¯å‰¥å¤ºæ¡ä»¶</span></strong><span>ï¼šä¸å¯å‰¥å¤ºæ¡ä»¶æ˜¯æŒ‡ï¼Œå½“çº¿ç¨‹å·²ç»æŒæœ‰äº†èµ„æº ï¼Œåœ¨â¾ƒâ¼°ä½¿â½¤å®Œä¹‹å‰ä¸èƒ½è¢«å…¶ä»–çº¿ç¨‹è·å–ï¼Œçº¿ç¨‹ B å¦‚æœä¹Ÿæƒ³ä½¿ â½¤æ­¤èµ„æºï¼Œåˆ™åªèƒ½åœ¨çº¿ç¨‹ A ä½¿â½¤å®Œå¹¶é‡Šæ”¾åæ‰èƒ½è·å–ã€‚</span></p></li><li><p><strong><span>ç¯è·¯ç­‰å¾…æ¡ä»¶</span></strong><span>ï¼šç¯è·¯ç­‰å¾…æ¡ä»¶æŒ‡éƒ½æ˜¯ï¼Œåœ¨æ­»é”å‘â½£çš„æ—¶å€™ï¼Œä¸¤ä¸ªçº¿ç¨‹è·å–èµ„æºçš„é¡ºåºæ„æˆäº†ç¯å½¢é“¾ã€‚â½å¦‚ï¼Œçº¿ç¨‹ A å·²ç»æŒæœ‰èµ„æº 2ï¼Œâ½½æƒ³è¯·æ±‚èµ„æº 1ï¼Œ çº¿ç¨‹ B å·²ç»è·å–äº†èµ„æº 1ï¼Œâ½½æƒ³è¯·æ±‚èµ„æº 2ï¼Œè¿™å°±å½¢æˆ èµ„æºè¯·æ±‚ç­‰å¾…çš„ç¯å½¢å›¾ã€‚</span></p></li></ul><p><span>é¿å…æ­»é”ï¼š</span></p><ul><li><p><strong><span>ç ´åäº’æ–¥æ¡ä»¶</span></strong><span>ï¼šè¿™ä¸ªæ²¡æœ‰åŠæ³•å®ç°ï¼›</span></p></li><li><p><strong><span>ç ´åè¯·æ±‚ä¸ä¿æŒæ¡ä»¶</span></strong><span>ï¼šä¸€æ¬¡æ€§ç”³è¯·æ‰€æœ‰èµ„æºï¼›</span></p></li><li><p><strong><span>ç ´åä¸å‰¥å¤ºæ¡ä»¶</span></strong><span>ï¼šå ç”¨éƒ¨åˆ†èµ„æºçš„çº¿ç¨‹è¿›ä¸€æ­¥ç”³è¯·å…¶ä»–èµ„æºæ—¶ï¼Œå¦‚æœç”³è¯·ä¸åˆ°ï¼Œå¯ä»¥ä¸»åŠ¨é‡Šæ”¾å®ƒå æœ‰çš„èµ„æºã€‚</span></p></li><li><p><strong><span>ç ´åå¾ªç¯ç­‰å¾…æ¡ä»¶</span></strong><span>ï¼šæŒ‰åºç”³è¯·èµ„æº,é‡Šæ”¾èµ„æºåˆ™ååºé‡Šæ”¾ã€‚</span></p></li></ul><h2 id='äº’æ–¥é”è‡ªæ—‹é”è¯»å†™é”æ‚²è§‚é”ä¹è§‚é”'><span>äº’æ–¥é”ã€è‡ªæ—‹é”ã€è¯»å†™é”ã€æ‚²è§‚é”ã€ä¹è§‚é”</span></h2><blockquote><p><span>è§£å†³å¤šçº¿ç¨‹å…±åŒè®¿é—®èµ„æºæ—¶ï¼Œå› ä¸ºèµ„æºç«äº‰é€ æˆçš„æ•°æ®é”™ä¹±çš„é—®é¢˜ã€‚</span>
<a href='https://mp.weixin.qq.com/s/CqIXHowIDT1kxyBOO0x7TQ' target='_blank' class='url'>https://mp.weixin.qq.com/s/CqIXHowIDT1kxyBOO0x7TQ</a></p></blockquote><h3 id='äº’æ–¥é”å’Œè‡ªæ—‹é”'><span>äº’æ–¥é”å’Œè‡ªæ—‹é”</span></h3><p><strong><span>äº’æ–¥é”å’Œè‡ªæ—‹é”éƒ½æ˜¯æœ€åŸºæœ¬çš„é”ï¼Œ</span></strong><span> æ›´é«˜çº§çš„é”éƒ½ä¼šé€‰æ‹©å…¶ä¸­ä¸€ä¸ªæ¥å®ç°ï¼Œ</span></p><p><strong><span>å¦‚æœä½ èƒ½ç¡®å®šè¢«é”ä½çš„ä»£ç æ‰§è¡Œæ—¶é—´å¾ˆçŸ­ï¼Œå°±ä¸åº”è¯¥ç”¨äº’æ–¥é”ï¼Œè€Œåº”è¯¥é€‰ç”¨è‡ªæ—‹é”ï¼Œå¦åˆ™ä½¿ç”¨äº’æ–¥é”ã€‚</span></strong></p><p><span>è‡ªæ—‹é”ä¸äº’æ–¥é”ä½¿ç”¨å±‚é¢æ¯”è¾ƒç›¸ä¼¼ï¼Œä½†å®ç°å±‚é¢ä¸Šå®Œå…¨ä¸åŒï¼š</span><strong><span>å½“åŠ é”å¤±è´¥æ—¶ï¼Œäº’æ–¥é”ç”¨ã€Œçº¿ç¨‹åˆ‡æ¢ã€æ¥åº”å¯¹ï¼Œè‡ªæ—‹é”åˆ™ç”¨ã€Œå¿™ç­‰å¾…ã€æ¥åº”å¯¹</span></strong><span>ã€‚</span></p><ul><li><p><strong><span>äº’æ–¥é”</span></strong></p><ul><li><p><strong><span>åŠ é”å¤±è´¥ä¹‹åï¼Œçº¿ç¨‹ä¼šé‡Šæ”¾CPUã€‚</span></strong></p></li><li><p><span>å¯¹äºäº’æ–¥é”åŠ é”å¤±è´¥è€Œé˜»å¡çš„ç°è±¡ï¼Œæ˜¯ç”±æ“ä½œç³»ç»Ÿå†…æ ¸å®ç°çš„</span><strong><span>ã€‚å½“åŠ é”å¤±è´¥æ—¶ï¼Œå†…æ ¸ä¼šå°†çº¿ç¨‹ç½®ä¸ºã€Œç¡çœ ã€çŠ¶æ€ï¼Œç­‰åˆ°é”è¢«é‡Šæ”¾åï¼Œå†…æ ¸ä¼šåœ¨åˆé€‚çš„æ—¶æœºå”¤é†’çº¿ç¨‹ï¼Œå½“è¿™ä¸ªçº¿ç¨‹æˆåŠŸè·å–åˆ°é”åï¼Œäºæ˜¯å°±å¯ä»¥ç»§ç»­æ‰§è¡Œã€‚</span></strong><span> ä½¿ç”¨çº¿ç¨‹åˆ‡æ¢æ¥åº”å¯¹ï¼Œå½“åŠ é”å¤±è´¥çš„çº¿ç¨‹å†æ¬¡åŠ é”æˆåŠŸæ—¶ï¼Œä¼šæœ‰ä¸¤æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æˆæœ¬ï¼Œæ€§èƒ½æŸè€—è¾ƒå¤§ã€‚é‚£è¿™ä¸ªå¼€é”€æˆæœ¬æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿä¼šæœ‰</span><strong><span>ä¸¤æ¬¡çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æˆæœ¬</span></strong><span>ï¼š</span></p><ul><li><p><span>å½“çº¿ç¨‹åŠ é”å¤±è´¥æ—¶ï¼Œå†…æ ¸ä¼šæŠŠçº¿ç¨‹çš„çŠ¶æ€ä»ã€Œè¿è¡Œã€çŠ¶æ€è®¾ç½®ä¸ºã€Œç¡çœ ã€çŠ¶æ€ï¼Œç„¶åæŠŠ CPU åˆ‡æ¢ç»™å…¶ä»–çº¿ç¨‹è¿è¡Œï¼›</span></p></li><li><p><span>å½“é”è¢«é‡Šæ”¾æ—¶ï¼Œä¹‹å‰ã€Œç¡çœ ã€çŠ¶æ€çš„çº¿ç¨‹ä¼šå˜ä¸ºã€Œå°±ç»ªã€çŠ¶æ€ï¼Œç„¶åå†…æ ¸ä¼šåœ¨åˆé€‚çš„æ—¶é—´ï¼ŒæŠŠ CPU åˆ‡æ¢ç»™è¯¥çº¿ç¨‹è¿è¡Œã€‚</span></p></li></ul></li></ul></li><li><p><strong><span>è‡ªæ—‹é”</span></strong></p><ul><li><p><span>è‡ªæ—‹é”æ˜¯é€šè¿‡ CPU æä¾›çš„ </span><code>CAS</code><span> å‡½æ•°ï¼ˆ</span><em><span>Compare And Swap</span></em><span>ï¼‰ï¼Œåœ¨ã€Œç”¨æˆ·æ€ã€å®ŒæˆåŠ é”å’Œè§£é”æ“ä½œï¼Œä¸ä¼šä¸»åŠ¨äº§ç”Ÿçº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œæ‰€ä»¥ç›¸æ¯”äº’æ–¥é”æ¥è¯´ï¼Œä¼šå¿«ä¸€äº›ï¼Œå¼€é”€ä¹Ÿå°ä¸€äº›ã€‚</span></p></li><li><p><strong><span>è‡ªæ—‹é”åŠ é”å¤±è´¥åï¼Œä¼šä¸€ç›´å¿™ç­‰å¾…ï¼Œç›´åˆ°è·å–åˆ°é”ã€‚</span></strong><span> åœ¨ã€Œç”¨æˆ·æ€ã€å®ŒæˆåŠ é”å’Œè§£é”æ“ä½œï¼Œä¸ä¼šä¸»åŠ¨äº§ç”Ÿçº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œæ‰€ä»¥ç›¸æ¯”äº’æ–¥é”æ¥è¯´ï¼Œä¼šå¿«ä¸€äº›ï¼Œå¼€é”€ä¹Ÿå°ä¸€äº›ã€‚</span><strong><span>é€‚åˆç”¨äºè¢«é”ä½çš„ä»£ç è¿è¡Œæ—¶é—´å¾ˆçŸ­çš„åœºæ™¯ã€‚</span></strong></p></li></ul></li></ul><h3 id='è¯»å†™é”'><span>è¯»å†™é”</span></h3><ul><li><p><strong><span>å·¥ä½œåŸç†</span></strong></p><ul><li><p><span>å½“ã€Œå†™é”ã€æ²¡æœ‰è¢«çº¿ç¨‹æŒæœ‰æ—¶ï¼Œå¤šä¸ªçº¿ç¨‹èƒ½å¤Ÿå¹¶å‘åœ°æŒæœ‰è¯»é”ï¼Œè¿™å¤§å¤§æé«˜äº†å…±äº«èµ„æºçš„è®¿é—®æ•ˆç‡ï¼Œå› ä¸ºã€Œè¯»é”ã€æ˜¯ç”¨äºè¯»å–å…±äº«èµ„æºçš„åœºæ™¯ï¼Œæ‰€ä»¥å¤šä¸ªçº¿ç¨‹åŒæ—¶æŒæœ‰è¯»é”ä¹Ÿä¸ä¼šç ´åå…±äº«èµ„æºçš„æ•°æ®ã€‚</span></p></li><li><p><span>ä½†æ˜¯ï¼Œä¸€æ—¦ã€Œå†™é”ã€è¢«çº¿ç¨‹æŒæœ‰åï¼Œè¯»çº¿ç¨‹çš„è·å–è¯»é”çš„æ“ä½œä¼šè¢«é˜»å¡ï¼Œè€Œä¸”å…¶ä»–å†™çº¿ç¨‹çš„è·å–å†™é”çš„æ“ä½œä¹Ÿä¼šè¢«é˜»å¡ã€‚</span></p></li></ul></li><li><p><strong><span>å†™é”æ˜¯ç‹¬å é”</span></strong><span>ï¼Œå› ä¸ºä»»ä½•ä¸€ä¸ªæ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹æŒæœ‰å†™é”ã€‚</span><strong><span>è¯»é”æ˜¯å…±äº«é”</span></strong><span>ï¼Œå› ä¸ºè¯»é”å¯ä»¥è¢«å¤šä¸ªçº¿ç¨‹åŒæ—¶æŒæœ‰ã€‚</span></p></li><li><p><span>å¯ä»¥åˆ†ä¸º</span><strong><span>è¯»ä¼˜å…ˆé”</span></strong><span>å’Œ</span><strong><span>å†™ä¼˜å…ˆé”</span></strong><span>ä»¥åŠ</span><strong><span>å…¬å¹³è¯»å†™é”</span></strong><span>ï¼šè¯»ä¼˜å…ˆé”ä¼˜å…ˆæœåŠ¡è¯»çº¿ç¨‹ï¼Œå†™ä¼˜å…ˆé”ä¼˜å…ˆæœåŠ¡å†™çº¿ç¨‹ã€‚å…¬å¹³è¯»å†™é”ç”¨é˜Ÿåˆ—å°†è·å–é”çš„çº¿ç¨‹æ’é˜Ÿï¼ŒæŒ‰ç…§å…ˆå…¥å…ˆå‡ºçš„åŸåˆ™åŠ é”ã€‚</span></p></li><li><p><strong><span>é€‚åˆç”¨äºèƒ½æ˜ç¡®åŒºåˆ†è¯»æ“ä½œå’Œå†™æ“ä½œçš„åœºæ™¯ã€‚</span></strong><span> è¯»å†™é”åœ¨è¯»å¤šå†™å°‘çš„åœºæ™¯ä¸­èƒ½å‘æŒ¥ä¼˜åŠ¿ã€‚</span></p></li></ul><h3 id='ä¹è§‚é”ä¸æ‚²è§‚é”'><span>ä¹è§‚é”ä¸æ‚²è§‚é”</span></h3><ul><li><p><strong><span>æ‚²è§‚é”</span></strong><span> è®¤ä¸ºå¤šçº¿ç¨‹åŒæ—¶ä¿®æ”¹å…±äº«èµ„æºçš„æ¦‚ç‡æ¯”è¾ƒé«˜ï¼Œäºæ˜¯å¾ˆå®¹æ˜“å‡ºç°å†²çªï¼Œæ‰€ä»¥è®¿é—®èµ„æºå‰éœ€è¦å…ˆåŠ é”ã€‚äº’æ–¥é”ï¼Œè‡ªæ—‹é”å’Œè¯»å†™é”éƒ½å±äºæ‚²è§‚é”ã€‚</span><strong><span>é€‚åˆç”¨äºå‘ç”Ÿå†²çªæ¦‚ç‡éå¸¸é«˜çš„æƒ…å†µã€‚</span></strong></p></li><li><p><strong><span>ä¹è§‚é”</span></strong><span> åœ¨è®¿é—®å…¬å…±èµ„æºæ—¶ï¼Œå…ˆä¸åŠ é”ï¼Œä¿®æ”¹å®Œå…±äº«èµ„æºæ—¶ï¼Œå†éªŒè¯è¿™æ®µæ—¶é—´å†…æœ‰æ²¡æœ‰å‘ç”Ÿå†²çªï¼Œå¦‚æœæ²¡æœ‰å†ä¿®æ”¹èµ„æºï¼Œå¦‚æœæœ‰åˆ™æ”¾å¼ƒæœ¬æ¬¡æ“ä½œã€‚</span><strong><span>é€‚åˆç”¨äºå‘ç”Ÿå†²çªæ¦‚ç‡éå¸¸ä½çš„æƒ…å†µ</span></strong><span>ã€‚</span></p></li></ul><h1 id='å†…å­˜ç®¡ç†'><span>å†…å­˜ç®¡ç†</span></h1><blockquote><p><span>æ“ä½œç³»ç»Ÿçš„å†…å­˜ç®¡ç†ä¸»è¦è´Ÿè´£</span><strong><span>å†…å­˜çš„åˆ†é…ä¸å›æ”¶</span></strong><span>(ç”³è¯·å†…å­˜ï¼Œé‡Šæ”¾å†…å­˜)ï¼Œ</span><strong><span>åœ°å€è½¬æ¢</span></strong><span>ä¹Ÿå°±æ˜¯å°†é€»è¾‘åœ°å€è½¬æ¢ä¸ºç›¸åº”çš„ç‰©ç†åœ°å€ç­‰åŠŸèƒ½ä¹Ÿæ˜¯æ“ä½œç³»ç»Ÿå†…å­˜ç®¡ç†è¦åšçš„äº‹æƒ…ã€‚</span></p></blockquote><h2 id='ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿåœ°å€'><span>ä¸ºä»€ä¹ˆéœ€è¦è™šæ‹Ÿåœ°å€ï¼Ÿ</span></h2><ul><li><p><span>å¦‚æœç›´æ¥ä½¿ç”¨ç‰©ç†åœ°å€ï¼Œç”¨æˆ·å¯ä»¥è®¿é—®ä»»æ„å†…å­˜ï¼Œè¿™æ ·å°±å¾ˆå®¹æ˜“ç ´åæ“ä½œç³»ç»Ÿã€‚</span></p></li><li><p><span>ç»™è¿è¡Œå¤šä¸ªç¨‹åºé€ æˆå›°éš¾ï¼Œå¦‚æœç¬¬â¼€ä¸ªç¨‹åºç‰©ç†å†…å­˜çš„æŸä¸ªåœ°å€å†™â¼Šâ¼€ä¸ªæ–°çš„å€¼ï¼Œå°†ä¼šæ“¦æ‰ç¬¬â¼†ä¸ªç¨‹åºå­˜æ”¾åœ¨ç›¸åŒä½ç½®ä¸Šçš„æ‰€æœ‰å†…å®¹ï¼Œæ‰€ä»¥åŒæ—¶è¿â¾ä¸¤ä¸ªç¨‹åºæ˜¯æ ¹æœ¬â¾ä¸é€šçš„ï¼Œè¿™ä¸¤ä¸ªç¨‹åºä¼šâ½´åˆ»å´©æºƒã€‚</span></p></li><li><p><span>ç¨‹åºå¯ä»¥ä½¿ç”¨ä¸€ç³»åˆ—ç›¸é‚»çš„è™šæ‹Ÿåœ°å€æ¥è®¿é—®ç‰©ç†å†…å­˜ä¸­ä¸ç›¸é‚»çš„å¤§å†…å­˜ç¼“å†²åŒºã€‚</span></p></li><li><p><span>ä¸åŒè¿›ç¨‹ä½¿ç”¨çš„è™šæ‹Ÿåœ°å€å½¼æ­¤éš”ç¦»ï¼Œäº’ä¸å¹²æ‰°ã€‚</span></p></li></ul><h2 id='è™šæ‹Ÿå†…å­˜åœ°å€å’Œç‰©ç†å†…å­˜åœ°å€'><span>è™šæ‹Ÿå†…å­˜åœ°å€å’Œç‰©ç†å†…å­˜åœ°å€</span></h2><p><span>æ“ä½œç³»ç»Ÿä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…ç‹¬ç«‹çš„ä¸€å¥—è™šæ‹Ÿå†…å­˜ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½ä¸èƒ½è®¿é—®ç‰©ç†åœ°å€ï¼Œæ“ä½œç³»ç»Ÿä¼šæä¾›ä¸€ç§æœºåˆ¶ï¼Œå°†ä¸åŒè¿›ç¨‹çš„è™šæ‹Ÿåœ°å€å’Œä¸åŒå†…å­˜çš„ç‰©ç†åœ°å€æ˜ å°„èµ·æ¥ã€‚è¿™æ ·ä¸åŒçš„è¿›ç¨‹è¿è¡Œçš„æ—¶å€™ï¼Œå†™å…¥çš„æ˜¯ä¸åŒçš„ç‰©ç†åœ°å€ï¼Œè¿™æ ·å°±ä¸ä¼šå†²çªäº†ã€‚</span></p><ul><li><p><span>æˆ‘ä»¬ç¨‹åºæ‰€ä½¿ç”¨çš„å†…å­˜åœ°å€å«åšè™šæ‹Ÿå†…å­˜åœ°å€ã€‚</span></p></li><li><p><span>å®é™…å­˜åœ¨ç¡¬ä»¶é‡Œé¢çš„ç©ºé—´åœ°å€å«ç‰©ç†å†…å­˜åœ°å€ã€‚</span></p></li></ul><p><img src="images/å†…å­˜ç®¡ç†.png" referrerpolicy="no-referrer" alt="å†…å­˜ç®¡ç†"></p><h2 id='å¸¸è§çš„å‡ ç§å†…å­˜ç®¡ç†æœºåˆ¶'><span>å¸¸è§çš„å‡ ç§å†…å­˜ç®¡ç†æœºåˆ¶ </span></h2><p><a href='https://mp.weixin.qq.com/s/HJB_ATQFNqG82YBCRr97CA'><span>å‚è€ƒé“¾æ¥</span></a></p><h3 id='å†…å­˜åˆ†æ®µ'><span>å†…å­˜åˆ†æ®µ</span></h3><ul><li><p><span>ç¨‹åºæ˜¯ç”±è‹¥å¹²ä¸ªé€»è¾‘åˆ†æ®µç»„æˆï¼Œå¦‚å¯ç”±ä»£ç åˆ†æ®µï¼Œæ•°æ®åˆ†æ®µï¼Œæ ˆæ®µå’Œå †æ®µç»„æˆï¼Œä¸åŒæ®µæ˜¯ç”±ä¸åŒçš„å±æ€§ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨åˆ†æ®µçš„å½¢å¼å°†è¿™äº›æ®µåˆ†ç¦»å¼€æ¥ã€‚</span></p></li><li><p><span>è™šæ‹Ÿåœ°å€æ˜¯é€šè¿‡æ®µè¡¨ä¸ç‰©ç†åœ°å€è¿›è¡Œæ˜ å°„ï¼Œè§£å†³äº†ç¨‹åºæœ¬èº«ä¸éœ€è¦å…³å¿ƒå…·ä½“çš„ç‰©ç†å†…å­˜åœ°å€çš„é—®é¢˜ã€‚</span></p></li></ul><p><img src="assets/image-20240613212619197.png" alt="image-20240613212619197" style="zoom:25%;" /></p><ul><li><p><strong><span>è™šæ‹Ÿåœ°å€å’Œç‰©ç†åœ°å€æ˜ å°„è¿‡ç¨‹</span></strong><span>ï¼š</span></p><ul><li><p><span>åˆ†æ®µæœºåˆ¶ä¸‹çš„è™šæ‹Ÿåœ°å€ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œæ®µé€‰æ‹©å­ï¼ˆæ®µå·å’Œç‰¹æƒç­‰æ ‡å¿—ä½ï¼‰å’Œæ®µå†…åç§»é‡ã€‚æ®µé€‰æ‹©å­å­˜æ”¾åœ¨å¯„å­˜å™¨ä¸­ã€‚</span></p><ul><li><p><strong><span>æ®µé€‰æ‹©å­</span></strong><span>å°±ä¿å­˜åœ¨æ®µå¯„å­˜å™¨é‡Œé¢ã€‚æ®µé€‰æ‹©å­é‡Œé¢æœ€é‡è¦çš„æ˜¯</span><strong><span>æ®µå·</span></strong><span>ï¼Œç”¨ä½œæ®µè¡¨çš„ç´¢å¼•ã€‚</span><strong><span>æ®µè¡¨</span></strong><span>é‡Œé¢ä¿å­˜çš„æ˜¯è¿™ä¸ª</span><strong><span>æ®µçš„åŸºåœ°å€ã€æ®µçš„ç•Œé™å’Œç‰¹æƒç­‰çº§</span></strong><span>ç­‰ã€‚</span></p></li><li><p><span>è™šæ‹Ÿåœ°å€ä¸­çš„</span><strong><span>æ®µå†…åç§»é‡</span></strong><span>åº”è¯¥ä½äº 0 å’Œæ®µç•Œé™ä¹‹é—´ï¼Œå¦‚æœæ®µå†…åç§»é‡æ˜¯åˆæ³•çš„ï¼Œå°±å°†æ®µåŸºåœ°å€åŠ ä¸Šæ®µå†…åç§»é‡å¾—åˆ°ç‰©ç†å†…å­˜åœ°å€ã€‚</span></p></li></ul></li><li><p><span>æ®µå·ä½œä¸ºç´¢å¼•å¯ä»¥é€šè¿‡æ®µè¡¨å°†è™šæ‹Ÿåœ°å€æ˜ å°„ä¸ºç‰©ç†åœ°å€ã€‚æ®µè¡¨ä¿å­˜çš„æ˜¯è¿™ä¸ªæ®µçš„åŸºåœ°å€ï¼Œæ®µçš„ç•Œé™å’Œç‰¹æƒç­‰çº§ã€‚</span></p></li><li><p><span>çœŸå®ç‰©ç†åœ°å€= æ®µçš„åŸºåœ°å€ + æ®µå†…åç§»é‡ã€‚</span></p></li></ul></li><li><p><span>ä¸¤ä¸ªä¸è¶³ï¼šç¬¬ä¸€ä¸ªæ˜¯</span><strong><span>å¤–éƒ¨å†…å­˜ç¢ç‰‡çš„é—®é¢˜</span></strong><span>ï¼Œç¬¬äºŒä¸ªæ˜¯</span><strong><span>å†…å­˜äº¤æ¢æ•ˆç‡ä½</span></strong><span>çš„é—®é¢˜ã€‚</span></p><ul><li><p><span>å¤–éƒ¨å†…å­˜ç¢ç‰‡ï¼šæ¯”å¦‚ç‰©ç†å†…å­˜è¿ç»­çš„å››æ®µï¼Œåé¢å¦‚æœç¬¬ä¸€æ®µå’Œç¬¬ä¸‰æ®µçš„è¢«é‡Šæ”¾æ‰äº†ï¼Œè¿™æ ·å°±å‡ºç°äº†ä¸è¿ç»­çš„ä¸¤æ®µç©ºé—²å†…å­˜ï¼Œå¦‚æœç°åœ¨æœ‰ä¸€ä¸ªç¨‹åºéœ€è¦åŠ è½½è¿›æ¥ï¼Œä½†æ˜¯è¯¥ç¨‹åºçš„å†…å­˜å¤§äºç¬¬ä¸€æ®µå’Œç¬¬ä¸‰æ®µçš„å†…å­˜ï¼Œå°±é€ æˆäº†æ–°çš„ç¨‹åºæ— æ³•è¿›è¡Œè£…è½½ã€‚</span></p></li><li><p><span>è§£å†³çš„åŠæ³•å°±æ˜¯ï¼šå†…å­˜äº¤æ¢ï¼Œä¹Ÿå°±æ˜¯å°†ç¬¬äºŒæ®µå ç”¨çš„å†…å­˜å†™åˆ°ç¡¬ç›˜ä¸Šï¼Œç„¶åå†ä»ç¡¬ç›˜è¯»ä¼šåˆ°å†…å­˜é‡Œç´§æŒ¨ç¬¬å››æ®µçš„å†…å­˜ã€‚è¿™æ ·æ–°çš„ç¨‹åºå°±å¯ä»¥è£…è½½è¿›æ¥ã€‚</span></p></li></ul></li></ul><blockquote><p><strong><span>å¤–éƒ¨å†…å­˜ç¢ç‰‡</span></strong><span>ï¼šä¹Ÿå°±æ˜¯äº§ç”Ÿäº†å¤šä¸ªä¸è¿ç»­çš„å°ç‰©ç†å†…å­˜ï¼Œå¯¼è‡´æ–°çš„ç¨‹åºæ— æ³•è£…è½½; è§£å†³æ–¹æ³•æ˜¯ä½¿ç”¨</span><strong><span>å†…å­˜äº¤æ¢</span></strong><span>ã€‚</span>
<strong><span>å†…éƒ¨å†…å­˜ç¢ç‰‡</span></strong><span>ï¼šå³ä½¿ç¨‹åºä¸è¶³ä¸€é¡µå¤§å°ï¼Œæˆ‘ä»¬æœ€å°‘åªèƒ½åˆ†é…ä¸€ä¸ªé¡µï¼Œæ‰€ä»¥é¡µå†…ä¼šå‡ºç°å†…å­˜æµªè´¹ã€‚</span>
<strong><span>ä¸ºä»€ä¹ˆä¼šå†…å­˜äº¤æ¢æ•ˆç‡ä½?</span></strong><span> å› ä¸ºç¡¬ç›˜çš„è®¿é—®é€Ÿåº¦è¦æ…¢çš„å¤šï¼Œæ¯ä¸€æ¬¡å†…å­˜äº¤æ¢ï¼Œéƒ½éœ€è¦æŠŠä¸€å¤§æ®µè¿ç»­çš„å†…å­˜æ•°æ®å†™åˆ°ç¡¬ç›˜ä¸Šã€‚</span></p></blockquote><h3 id='å†…å­˜åˆ†é¡µ'><span>å†…å­˜åˆ†é¡µ</span></h3><ul><li><p><strong><span>åˆ†é¡µå¼æ˜¯æŠŠæ•´ä¸ªè™šæ‹Ÿå’Œç‰©ç†å†…å­˜åˆ‡æˆä¸€æ®µæ®µå›ºå®šå°ºå¯¸çš„å¤§å°ã€‚</span></strong><span>  Linux ä¸‹ï¼Œæ¯ä¸€é¡µçš„å¤§å°ä¸º </span><code>4KB</code><span>ã€‚</span></p></li><li><p><strong><span>è§£å†³æ®µå¼ç®¡ç†äº§ç”Ÿçš„å¤–éƒ¨å†…å­˜ç¢ç‰‡å’Œå†…å­˜äº¤æ¢çš„æ•ˆç‡ä½çš„é—®é¢˜ã€‚</span></strong></p><ul><li><p><span>å†…å­˜åˆ†é¡µç”±äºå†…å­˜ç©ºé—´éƒ½æ˜¯é¢„å…ˆåˆ’åˆ†å¥½çš„ï¼Œä¹Ÿå°±ä¸ä¼šåƒå†…å­˜åˆ†æ®µä¸€æ ·ï¼Œåœ¨æ®µä¸æ®µä¹‹é—´ä¼šäº§ç”Ÿé—´éš™éå¸¸å°çš„å†…å­˜ï¼Œè¿™æ­£æ˜¯åˆ†æ®µä¼šäº§ç”Ÿå¤–éƒ¨å†…å­˜ç¢ç‰‡çš„åŸå› ã€‚è€Œ</span><strong><span>é‡‡ç”¨äº†åˆ†é¡µï¼Œé¡µä¸é¡µä¹‹é—´æ˜¯ç´§å¯†æ’åˆ—çš„ï¼Œæ‰€ä»¥ä¸ä¼šæœ‰å¤–éƒ¨ç¢ç‰‡ã€‚</span></strong></p></li><li><p><span>ä½†æ˜¯ï¼Œå› ä¸ºå†…å­˜åˆ†é¡µæœºåˆ¶åˆ†é…å†…å­˜çš„æœ€å°å•ä½æ˜¯ä¸€é¡µï¼Œå³ä½¿ç¨‹åºä¸è¶³ä¸€é¡µå¤§å°ï¼Œæˆ‘ä»¬æœ€å°‘åªèƒ½åˆ†é…ä¸€ä¸ªé¡µï¼Œæ‰€ä»¥é¡µå†…ä¼šå‡ºç°å†…å­˜æµªè´¹ï¼Œæ‰€ä»¥é’ˆå¯¹</span><strong><span>å†…å­˜åˆ†é¡µæœºåˆ¶ä¼šæœ‰å†…éƒ¨å†…å­˜ç¢ç‰‡</span></strong><span>çš„ç°è±¡ã€‚</span></p></li><li><p><span>å¦‚æœå†…å­˜ç©ºé—´ä¸å¤Ÿï¼Œæ“ä½œç³»ç»Ÿä¼šæŠŠå…¶ä»–æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ä¸­çš„ã€Œæœ€è¿‘æ²¡è¢«ä½¿ç”¨ã€çš„å†…å­˜é¡µé¢ç»™é‡Šæ”¾æ‰ï¼Œä¹Ÿå°±æ˜¯æš‚æ—¶å†™åœ¨ç¡¬ç›˜ä¸Šï¼Œç§°ä¸º</span><strong><span>æ¢å‡º</span></strong><span>ï¼ˆ</span><em><span>Swap Out</span></em><span>ï¼‰ã€‚ä¸€æ—¦éœ€è¦çš„æ—¶å€™ï¼Œå†åŠ è½½è¿›æ¥ï¼Œç§°ä¸º</span><strong><span>æ¢å…¥</span></strong><span>ï¼ˆ</span><em><span>Swap In</span></em><span>ï¼‰ã€‚æ‰€ä»¥ï¼Œä¸€æ¬¡æ€§å†™å…¥ç£ç›˜çš„ä¹Ÿåªæœ‰å°‘æ•°çš„ä¸€ä¸ªé¡µæˆ–è€…å‡ ä¸ªé¡µï¼Œä¸ä¼šèŠ±å¤ªå¤šæ—¶é—´ï¼Œ</span><strong><span>å†…å­˜äº¤æ¢çš„æ•ˆç‡å°±ç›¸å¯¹æ¯”è¾ƒé«˜ã€‚</span></strong></p></li><li><p><span>åˆ†é¡µçš„æ–¹å¼ä½¿å¾—æˆ‘ä»¬åœ¨åŠ è½½ç¨‹åºçš„æ—¶å€™ï¼Œä¸å†éœ€è¦ä¸€æ¬¡æ€§éƒ½æŠŠç¨‹åºåŠ è½½åˆ°ç‰©ç†å†…å­˜ä¸­ã€‚æˆ‘ä»¬å®Œå…¨å¯ä»¥åœ¨è¿›è¡Œè™šæ‹Ÿå†…å­˜å’Œç‰©ç†å†…å­˜çš„é¡µä¹‹é—´çš„æ˜ å°„ä¹‹åï¼Œå¹¶ä¸çœŸçš„æŠŠé¡µåŠ è½½åˆ°ç‰©ç†å†…å­˜é‡Œï¼Œè€Œæ˜¯</span><strong><span>åªæœ‰åœ¨ç¨‹åºè¿è¡Œä¸­ï¼Œéœ€è¦ç”¨åˆ°å¯¹åº”è™šæ‹Ÿå†…å­˜é¡µé‡Œé¢çš„æŒ‡ä»¤å’Œæ•°æ®æ—¶ï¼Œå†åŠ è½½åˆ°ç‰©ç†å†…å­˜é‡Œé¢å»ã€‚</span></strong></p></li></ul></li></ul><p><img src="assets/image-20240613214314466.png" alt="image-20240613214314466" style="zoom:25%;" /></p><ul><li><p><strong><span>è™šæ‹Ÿåœ°å€ä¸ç‰©ç†åœ°å€ä¹‹é—´é€šè¿‡é¡µè¡¨æ¥æ˜ å°„ã€‚</span></strong><span> å› ä¸ºæ“ä½œç³»ç»Ÿæ˜¯å¯ä»¥åŒæ—¶è¿è¡Œéå¸¸å¤šçš„å†…å­˜çš„ï¼Œæ‰€ä»¥é¡µè¡¨ä¼šå ç”¨å¤§é‡çš„å†…å­˜ã€‚</span></p><ul><li><p><span>æŠŠè™šæ‹Ÿå†…å­˜åœ°å€ï¼Œåˆ‡åˆ†æˆ</span><strong><span>é¡µå·</span></strong><span>å’Œ</span><strong><span>åç§»é‡</span></strong><span>ï¼›</span></p></li><li><p><span>æ ¹æ®é¡µå·ï¼Œä»é¡µè¡¨é‡ŒæŸ¥è¯¢å¯¹åº”çš„ç‰©ç†é¡µå·ã€‚</span></p></li><li><p><span>ç›´æ¥æ‹¿ç‰©ç†é¡µå·ï¼ŒåŠ ä¸Šå‰é¢çš„åç§»é‡ï¼Œå°±å¾—åˆ°äº†ç‰©ç†å†…å­˜åœ°å€ã€‚</span></p></li></ul></li><li><p><span>é¡µè¡¨æ˜¯å­˜å‚¨åœ¨å†…å­˜é‡Œçš„ï¼Œ</span><strong><span>å†…å­˜ç®¡ç†å•å…ƒ</span></strong><span> ï¼ˆ</span><em><span>MMU</span></em><span>ï¼‰å°±åšå°†è™šæ‹Ÿå†…å­˜åœ°å€è½¬æ¢æˆç‰©ç†åœ°å€çš„å·¥ä½œã€‚</span></p></li><li><p><span>ç®€å•åˆ†é¡µçš„ç¼ºç‚¹</span></p><ul><li><p><span>æ“ä½œç³»ç»Ÿå¯ä»¥åŒæ—¶è¿è¡Œéå¸¸å¤šçš„è¿›ç¨‹çš„ï¼Œè¿™æ ·å°±æ„å‘³ç€é¡µè¡¨ä¼šéå¸¸çš„åºå¤§ã€‚</span></p><ul><li><p><span>åœ¨ 32 ä½çš„ç¯å¢ƒä¸‹ï¼Œè™šæ‹Ÿåœ°å€ç©ºé—´å…±æœ‰ 4GBï¼Œå‡è®¾ä¸€ä¸ªé¡µçš„å¤§å°æ˜¯ 4KBï¼ˆ2^12ï¼‰ï¼Œé‚£ä¹ˆå°±éœ€è¦å¤§çº¦ 100 ä¸‡ ï¼ˆ2^20ï¼‰ ä¸ªé¡µï¼Œæ¯ä¸ªã€Œé¡µè¡¨é¡¹ã€éœ€è¦ 4 ä¸ªå­—èŠ‚å¤§å°æ¥å­˜å‚¨ï¼Œé‚£ä¹ˆæ•´ä¸ª 4GB ç©ºé—´çš„æ˜ å°„å°±éœ€è¦æœ‰ </span><code>4MB</code><span> çš„å†…å­˜æ¥å­˜å‚¨é¡µè¡¨ã€‚</span></p></li><li><p><span>è¿™ 4MB å¤§å°çš„é¡µè¡¨ï¼Œçœ‹èµ·æ¥ä¹Ÿä¸æ˜¯å¾ˆå¤§ã€‚ä½†æ˜¯è¦çŸ¥é“æ¯ä¸ªè¿›ç¨‹éƒ½æ˜¯æœ‰è‡ªå·±çš„è™šæ‹Ÿåœ°å€ç©ºé—´çš„ï¼Œä¹Ÿå°±è¯´éƒ½æœ‰è‡ªå·±çš„é¡µè¡¨ã€‚</span></p></li><li><p><span>é‚£ä¹ˆï¼Œ</span><code>100</code><span> ä¸ªè¿›ç¨‹çš„è¯ï¼Œå°±éœ€è¦ </span><code>400MB</code><span> çš„å†…å­˜æ¥å­˜å‚¨é¡µè¡¨ï¼Œè¿™æ˜¯éå¸¸å¤§çš„å†…å­˜äº†ï¼Œæ›´åˆ«è¯´ 64 ä½çš„ç¯å¢ƒäº†ã€‚</span></p></li></ul></li><li><p><span>è§£å†³æ–¹æ³•å°±æ˜¯å¤šçº§é¡µè¡¨ã€‚</span></p></li></ul></li></ul><h4 id='å¤šçº§é¡µè¡¨'><span>å¤šçº§é¡µè¡¨</span></h4><blockquote><p><span>ä¸€ä¸ªä¾‹å­</span></p><p><span>å¯¹äºå•é¡µè¡¨çš„å®ç°ï¼Œåœ¨32ä½(4GBè™šæ‹Ÿå†…å­˜)å’Œé¡µå¤§å°ä¸º4kBç¯å¢ƒä¸‹ï¼Œä¸€ä¸ªè¿›ç¨‹éœ€è¦2^20ä¸ªé¡µï¼Œæ¯ä¸ªé¡µè¡¨é¡¹éœ€è¦4ä¸ªå­—èŠ‚ï¼Œé‚£ä¹ˆæ˜ å°„æ•´ä¸ª4GBç©ºé—´å°±éœ€è¦æœ‰4MBçš„å†…å­˜æ¥å­˜å‚¨é¡µè¡¨ã€‚å¦‚æœå¤šä¸ªè¿›ç¨‹çš„è¯ï¼Œä¼šæ›´å¤šã€‚</span></p><p><span>å¯¹äºäºŒçº§é¡µè¡¨ï¼ˆ2^20ä¸ªï¼‰ï¼Œå¯ä»¥åˆ†ä¸º1024ä¸ªä¸€çº§é¡µè¡¨ï¼Œæ¯ä¸ªä¸€çº§é¡µè¡¨åŒ…å«1024ä¸ªé¡µè¡¨é¡¹ï¼Œå½¢æˆäºŒçº§é¡µè¡¨ï¼Œè¿™æ ·ä¸€çº§é¡µè¡¨å°±å¯ä»¥è¦†ç›–æ•´ä¸ª4GBè™šæ‹Ÿå†…å­˜ï¼ŒäºŒçº§é¡µè¡¨æ˜¯ä½¿ç”¨åˆ°äº†å†åˆ›å»ºã€‚</span></p><p><img src="assets/image-20240613215154855.png" alt="image-20240613215154855" style="zoom:33%;" /></p><p><span>å•é¡µè¡¨ä¸ºä»€ä¹ˆä¸èƒ½ä½¿ç”¨æ—¶å†åˆ›å»ºï¼Ÿ</span></p><p><span>é¡µè¡¨æ‰¿æ‹…çš„èŒè´£æ˜¯å°†è™šæ‹Ÿåœ°å€æ˜ å°„ä¸ºç‰©ç†åœ°å€ï¼Œå‡å¦‚è™šæ‹Ÿåœ°å€åœ¨é¡µè¡¨ä¸­æ‰¾ä¸åˆ°å¯¹åº”çš„é¡µè¡¨é¡¹ï¼Œè®¡ç®—æœºç³»ç»Ÿå°±ä¸èƒ½å·¥ä½œäº†ã€‚</span></p></blockquote><ul><li><p><strong><span>è§£å†³ç®€å•åˆ†é¡µå¸¦æ¥çš„å ç”¨å†…å­˜å¤§çš„é—®é¢˜</span></strong><span>ã€‚ä¸»è¦ä½“ç°ä¸ºä¸¤ä¸ªæ–¹é¢ï¼šäºŒçº§é¡µè¡¨å¯ä»¥ä¸å­˜åœ¨,äºŒçº§é¡µè¡¨å¯ä»¥ä¸å­˜åœ¨ä¸»å­˜ï¼Œå­˜åœ¨ç£ç›˜ä¸­ã€‚</span></p></li><li><p><strong><span>ç©ºé—´æ¢æ—¶é—´</span></strong><span>ã€‚è§£å†³äº†å†…å­˜é—®é¢˜ï¼Œä½†æ˜¯å¸¦æ¥äº†æ—¶é—´ä¸Šçš„å¼€é”€ã€‚</span></p></li></ul><h4 id='å¿«è¡¨tlb'><span>å¿«è¡¨(TLB)</span></h4><p><span>è§£å†³è™šæ‹Ÿåœ°å€åˆ°ç‰©ç†åœ°å€çš„è½¬æ¢å¤ªæ…¢çš„é—®é¢˜ã€‚</span></p><ul><li><p><span>å°†æœ€å¸¸è®¿é—®çš„å‡ ä¸ªé¡µè¡¨é¡¹å­˜å‚¨åˆ°è®¿é—®é€Ÿåº¦æ›´å¿«çš„ç¡¬ä»¶ï¼Œä¹Ÿå°±æ˜¯ä¸“é—¨å­˜æ”¾ç¨‹åºæœ€å¸¸è®¿é—®çš„é¡µè¡¨é¡¹çš„Cacheï¼Œè¿™ä¸ªCacheå°±æ˜¯TLBï¼Œåœ¨CPUå¯»å€æ—¶ï¼Œä¼šå…ˆæŸ¥å¿«è¡¨ã€‚å¦‚æœæ²¡æœ‰æ‰¾</span></p></li><li><p><span>åˆ°ï¼Œæ‰ç»§ç»­æŸ¥å¸¸è§„çš„é¡µè¡¨ã€‚</span></p></li><li><p><span>æœ‰äº† TLB åï¼Œé‚£ä¹ˆ CPU åœ¨å¯»å€æ—¶ï¼Œä¼šå…ˆæŸ¥ TLBï¼Œå¦‚æœæ²¡æ‰¾åˆ°ï¼Œæ‰ä¼šç»§ç»­æŸ¥å¸¸è§„çš„é¡µè¡¨ã€‚</span></p><p><span>TLB çš„å‘½ä¸­ç‡å…¶å®æ˜¯å¾ˆé«˜çš„ï¼Œå› ä¸ºç¨‹åºæœ€å¸¸è®¿é—®çš„é¡µå°±é‚£ä¹ˆå‡ ä¸ªã€‚</span></p></li></ul><h3 id='æ®µé¡µå¼å†…å­˜ç®¡ç†'><span>æ®µé¡µå¼å†…å­˜ç®¡ç†</span></h3><p><img src="assets/image-20240613215342633.png" alt="image-20240613215342633" style="zoom:30%;" /></p><ul><li><p><span>å…ˆå°†ç¨‹åºåˆ’åˆ†ä¸ºå¤šä¸ªæœ‰é€»è¾‘æ„ä¹‰çš„æ®µï¼Œä¹Ÿå°±æ˜¯å‰é¢æåˆ°çš„åˆ†æ®µæœºåˆ¶ï¼›</span></p></li><li><p><span>æ¥ç€å°†æ¯ä¸ªæ®µåˆ’åˆ†ä¸ºå¤šä¸ªé¡µï¼Œä¹Ÿå°±æ˜¯å¯¹åˆ†æ®µåˆ’åˆ†å‡ºæ¥çš„è¿ç»­ç©ºé—´ï¼Œå†åˆ’åˆ†å›ºå®šå¤§å°çš„é¡µã€‚</span></p></li><li><p><span>æ®µé¡µå¼åœ°å€å˜æ¢ä¸­è¦å¾—åˆ°ç‰©ç†åœ°å€å¿…é¡»ç»è¿‡ä¸‰æ¬¡å†…å­˜è®¿é—®ã€‚</span></p><ul><li><p><span>ç¬¬ä¸€æ¬¡è®¿é—®æ®µè¡¨ï¼Œå¾—åˆ°é¡µèµ·å§‹åœ°å€ã€‚</span></p></li><li><p><span>ç¬¬äºŒæ¬¡è®¿é—®é¡µè¡¨ï¼Œå¾—åˆ°ç‰©ç†é¡µå·ã€‚</span></p></li><li><p><span>ç¬¬ä¸‰æ¬¡å°†ç‰©ç†é¡µå·å’Œé¡µå†…ä½ç§»ç»„åˆï¼Œå¾—åˆ°ç‰©ç†åœ°å€ã€‚</span></p></li></ul></li></ul><h3 id='åˆ†é¡µæœºåˆ¶å’Œåˆ†æ®µæœºåˆ¶çš„å…±åŒç‚¹å’ŒåŒºåˆ«'><span>åˆ†é¡µæœºåˆ¶å’Œåˆ†æ®µæœºåˆ¶çš„å…±åŒç‚¹å’ŒåŒºåˆ«</span></h3><ol start='' ><li><p><strong><span>å…±åŒç‚¹</span></strong><span>ï¼š</span></p></li></ol><ul><li><p><strong><span>åˆ†é¡µæœºåˆ¶å’Œåˆ†æ®µæœºåˆ¶éƒ½æ˜¯ä¸ºäº†æé«˜å†…å­˜çš„åˆ©ç”¨ç‡ï¼Œå‡å°‘å†…å­˜ç¢ç‰‡ã€‚</span></strong></p></li><li><p><strong><span>éƒ½æ˜¯ç¦»æ•£åˆ†é…å†…å­˜çš„æ–¹å¼ã€‚</span></strong><span> é¡µå’Œæ®µéƒ½æ˜¯ç¦»æ•£å­˜å‚¨çš„ï¼Œä½†æ˜¯æ¯ä¸ªé¡µå’Œæ®µä¸­çš„å†…å­˜éƒ½æ˜¯è¿ç»­çš„ã€‚</span></p></li></ul><ol start='2' ><li><p><strong><span>åŒºåˆ«</span></strong><span>ï¼š</span></p></li></ol><ul><li><p><strong><span>é¡µçš„å¤§å°æ˜¯å›ºå®šçš„</span></strong><span>ï¼Œç”±æ“ä½œç³»ç»Ÿå†³å®šï¼›</span><strong><span>æ®µçš„å¤§å°ä¸å›ºå®š</span></strong><span>ï¼Œå–å†³äºå½“å‰çš„ç¨‹åºã€‚</span></p></li></ul><h2 id='linuxå†…å­˜å¸ƒå±€'><span>Linuxå†…å­˜å¸ƒå±€</span></h2><ul><li><p><strong><span>Linux é‡‡ç”¨äº†ä»€ä¹ˆæ–¹å¼ç®¡ç†å†…å­˜ï¼Ÿ</span></strong></p><ul><li><p><strong><span>Linux å†…å­˜ä¸»è¦é‡‡ç”¨çš„æ˜¯é¡µå¼å†…å­˜ç®¡ç†ï¼Œä½†åŒæ—¶ä¹Ÿä¸å¯é¿å…åœ°æ¶‰åŠäº†æ®µæœºåˆ¶</span></strong><span>ã€‚</span></p></li><li><p><span>è¿™ä¸»è¦æ˜¯ä¸Šé¢ Intel å¤„ç†å™¨å‘å±•å†å²å¯¼è‡´çš„ï¼Œå› ä¸º Intel X86 CPU ä¸€å¾‹å¯¹ç¨‹åºä¸­ä½¿ç”¨çš„åœ°å€å…ˆè¿›è¡Œæ®µå¼æ˜ å°„ï¼Œç„¶åæ‰èƒ½è¿›è¡Œé¡µå¼æ˜ å°„ã€‚æ—¢ç„¶ CPU çš„ç¡¬ä»¶ç»“æ„æ˜¯è¿™æ ·ï¼ŒLinux å†…æ ¸ä¹Ÿåªå¥½æœä» Intel çš„é€‰æ‹©ã€‚</span></p></li><li><p><strong><span>Linux ç³»ç»Ÿä¸­çš„æ¯ä¸ªæ®µéƒ½æ˜¯ä» 0 åœ°å€å¼€å§‹çš„æ•´ä¸ª 4GB è™šæ‹Ÿç©ºé—´ï¼ˆ32 ä½ç¯å¢ƒä¸‹ï¼‰ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰çš„æ®µçš„èµ·å§‹åœ°å€éƒ½æ˜¯ä¸€æ ·çš„ã€‚è¿™æ„å‘³ç€ï¼ŒLinux ç³»ç»Ÿä¸­çš„ä»£ç ï¼ŒåŒ…æ‹¬æ“ä½œç³»ç»Ÿæœ¬èº«çš„ä»£ç å’Œåº”ç”¨ç¨‹åºä»£ç ï¼Œæ‰€é¢å¯¹çš„åœ°å€ç©ºé—´éƒ½æ˜¯çº¿æ€§åœ°å€ç©ºé—´ï¼ˆè™šæ‹Ÿåœ°å€ï¼‰ï¼Œè¿™ç§åšæ³•ç›¸å½“äºå±è”½äº†å¤„ç†å™¨ä¸­çš„é€»è¾‘åœ°å€æ¦‚å¿µï¼Œæ®µåªè¢«ç”¨äºè®¿é—®æ§åˆ¶å’Œå†…å­˜ä¿æŠ¤ã€‚</span></strong></p></li></ul></li><li><p><strong><span>Linux çš„è™šæ‹Ÿåœ°å€ç©ºé—´æ˜¯å¦‚ä½•åˆ†å¸ƒçš„ï¼Ÿ</span></strong></p><ul><li><p><span>åœ¨ Linux æ“ä½œç³»ç»Ÿä¸­ï¼Œè™šæ‹Ÿåœ°å€ç©ºé—´çš„å†…éƒ¨åˆè¢«åˆ†ä¸º</span><strong><span>å†…æ ¸ç©ºé—´å’Œç”¨æˆ·ç©ºé—´</span></strong><span>ä¸¤éƒ¨åˆ†ï¼Œä¸åŒä½æ•°çš„ç³»ç»Ÿï¼Œåœ°å€ç©ºé—´çš„èŒƒå›´ä¹Ÿä¸åŒã€‚æ¯”å¦‚æœ€å¸¸è§çš„ 32 ä½å’Œ 64 ä½ç³»ç»Ÿ</span></p></li></ul><p><img src="assets/image-20240613222740633.png" alt="image-20240613222740633" style="zoom:30%;" /></p><p><span>é€šè¿‡è¿™é‡Œå¯ä»¥çœ‹å‡ºï¼š</span></p><ul><li><p><code>32</code><span> ä½ç³»ç»Ÿçš„å†…æ ¸ç©ºé—´å ç”¨ </span><code>1G</code><span>ï¼Œä½äºæœ€é«˜å¤„ï¼Œå‰©ä¸‹çš„ </span><code>3G</code><span> æ˜¯ç”¨æˆ·ç©ºé—´ï¼›</span></p></li><li><p><code>64</code><span> ä½ç³»ç»Ÿçš„å†…æ ¸ç©ºé—´å’Œç”¨æˆ·ç©ºé—´éƒ½æ˜¯ </span><code>128T</code><span>ï¼Œåˆ†åˆ«å æ®æ•´ä¸ªå†…å­˜ç©ºé—´çš„æœ€é«˜å’Œæœ€ä½å¤„ï¼Œå‰©ä¸‹çš„ä¸­é—´éƒ¨åˆ†æ˜¯æœªå®šä¹‰çš„ã€‚</span></p></li><li><p><span>å†…æ ¸ç©ºé—´ä¸ç”¨æˆ·ç©ºé—´çš„åŒºåˆ«ï¼šè¿›ç¨‹åœ¨ç”¨æˆ·æ€æ—¶ï¼Œåªèƒ½è®¿é—®ç”¨æˆ·ç©ºé—´å†…å­˜ï¼›åªæœ‰è¿›å…¥å†…æ ¸æ€åï¼Œæ‰å¯ä»¥è®¿é—®å†…æ ¸ç©ºé—´çš„å†…å­˜ï¼›</span></p></li></ul><p><span>è™½ç„¶æ¯ä¸ªè¿›ç¨‹éƒ½å„è‡ªæœ‰ç‹¬ç«‹çš„è™šæ‹Ÿå†…å­˜ï¼Œä½†æ˜¯</span><strong><span>æ¯ä¸ªè™šæ‹Ÿå†…å­˜ä¸­çš„å†…æ ¸åœ°å€ï¼Œå…¶å®å…³è”çš„éƒ½æ˜¯ç›¸åŒçš„ç‰©ç†å†…å­˜</span></strong><span>ã€‚è¿™æ ·ï¼Œè¿›ç¨‹åˆ‡æ¢åˆ°å†…æ ¸æ€åï¼Œå°±å¯ä»¥å¾ˆæ–¹ä¾¿åœ°è®¿é—®å†…æ ¸ç©ºé—´å†…å­˜ã€‚</span></p></li></ul><h1 id='è°ƒåº¦ç®—æ³•'><span>è°ƒåº¦ç®—æ³•</span></h1><p><span>è¿›ç¨‹éƒ½å¸Œæœ›è‡ªå·±èƒ½å¤Ÿå ç”¨ CPU è¿›è¡Œå·¥ä½œï¼Œé‚£ä¹ˆè¿™æ¶‰åŠåˆ°å‰é¢è¯´è¿‡çš„è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ã€‚</span></p><p><span>ä¸€æ—¦æ“ä½œç³»ç»ŸæŠŠè¿›ç¨‹åˆ‡æ¢åˆ°è¿è¡ŒçŠ¶æ€ï¼Œä¹Ÿå°±æ„å‘³ç€è¯¥è¿›ç¨‹å ç”¨ç€ CPU åœ¨æ‰§è¡Œï¼Œä½†æ˜¯å½“æ“ä½œç³»ç»ŸæŠŠè¿›ç¨‹åˆ‡æ¢åˆ°å…¶ä»–çŠ¶æ€æ—¶ï¼Œé‚£å°±ä¸èƒ½åœ¨ CPU ä¸­æ‰§è¡Œäº†ï¼Œäºæ˜¯æ“ä½œç³»ç»Ÿä¼šé€‰æ‹©ä¸‹ä¸€ä¸ªè¦è¿è¡Œçš„è¿›ç¨‹ã€‚</span></p><p><span>é€‰æ‹©ä¸€ä¸ªè¿›ç¨‹è¿è¡Œè¿™ä¸€åŠŸèƒ½æ˜¯åœ¨æ“ä½œç³»ç»Ÿä¸­å®Œæˆçš„ï¼Œé€šå¸¸ç§°ä¸º</span><strong><span>è°ƒåº¦ç¨‹åº</span></strong><span>ï¼ˆ</span><em><span>scheduler</span></em><span>ï¼‰ã€‚</span></p><h2 id='è°ƒåº¦æ—¶æœº'><span>è°ƒåº¦æ—¶æœº</span></h2><p><span>åœ¨è¿›ç¨‹çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œå½“è¿›ç¨‹ä»ä¸€ä¸ªè¿è¡ŒçŠ¶æ€åˆ°å¦å¤–ä¸€çŠ¶æ€å˜åŒ–çš„æ—¶å€™ï¼Œå…¶å®ä¼šè§¦å‘ä¸€æ¬¡è°ƒåº¦ã€‚</span></p><p><span>æ¯”å¦‚ï¼Œä»¥ä¸‹çŠ¶æ€çš„å˜åŒ–éƒ½ä¼šè§¦å‘æ“ä½œç³»ç»Ÿçš„è°ƒåº¦ï¼š</span></p><ul><li><p><em><span>ä»å°±ç»ªæ€ -&gt; è¿è¡Œæ€</span></em><span>ï¼šå½“è¿›ç¨‹è¢«åˆ›å»ºæ—¶ï¼Œä¼šè¿›å…¥åˆ°å°±ç»ªé˜Ÿåˆ—ï¼Œæ“ä½œç³»ç»Ÿä¼šä»å°±ç»ªé˜Ÿåˆ—é€‰æ‹©ä¸€ä¸ªè¿›ç¨‹è¿è¡Œï¼›</span></p></li><li><p><em><span>ä»è¿è¡Œæ€ -&gt; é˜»å¡æ€</span></em><span>ï¼šå½“è¿›ç¨‹å‘ç”Ÿ I/O äº‹ä»¶è€Œé˜»å¡æ—¶ï¼Œæ“ä½œç³»ç»Ÿå¿…é¡»é€‰æ‹©å¦å¤–ä¸€ä¸ªè¿›ç¨‹è¿è¡Œï¼›</span></p></li><li><p><em><span>ä»è¿è¡Œæ€ -&gt; ç»“æŸæ€</span></em><span>ï¼šå½“è¿›ç¨‹é€€å‡ºç»“æŸåï¼Œæ“ä½œç³»ç»Ÿå¾—ä»å°±ç»ªé˜Ÿåˆ—é€‰æ‹©å¦å¤–ä¸€ä¸ªè¿›ç¨‹è¿è¡Œï¼›</span></p></li></ul><p><span>å› ä¸ºï¼Œè¿™äº›çŠ¶æ€å˜åŒ–çš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿéœ€è¦è€ƒè™‘æ˜¯å¦è¦è®©æ–°çš„è¿›ç¨‹ç»™ CPU è¿è¡Œï¼Œæˆ–è€…æ˜¯å¦è®©å½“å‰è¿›ç¨‹ä» CPU ä¸Šé€€å‡ºæ¥è€Œæ¢å¦ä¸€ä¸ªè¿›ç¨‹è¿è¡Œã€‚</span></p><p><span>å¦å¤–ï¼Œå¦‚æœç¡¬ä»¶æ—¶é’Ÿæä¾›æŸä¸ªé¢‘ç‡çš„å‘¨æœŸæ€§ä¸­æ–­ï¼Œé‚£ä¹ˆå¯ä»¥æ ¹æ®å¦‚ä½•å¤„ç†æ—¶é’Ÿä¸­æ–­ ï¼ŒæŠŠè°ƒåº¦ç®—æ³•åˆ†ä¸ºä¸¤ç±»ï¼š</span></p><ul><li><p><strong><span>éæŠ¢å å¼è°ƒåº¦ç®—æ³•</span></strong><span>æŒ‘é€‰ä¸€ä¸ªè¿›ç¨‹ï¼Œç„¶åè®©è¯¥è¿›ç¨‹è¿è¡Œç›´åˆ°è¢«é˜»å¡ï¼Œæˆ–è€…ç›´åˆ°è¯¥è¿›ç¨‹é€€å‡ºï¼Œæ‰ä¼šè°ƒç”¨å¦å¤–ä¸€ä¸ªè¿›ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ä¼šç†æ—¶é’Ÿä¸­æ–­è¿™ä¸ªäº‹æƒ…ã€‚</span></p></li><li><p><strong><span>æŠ¢å å¼è°ƒåº¦ç®—æ³•</span></strong><span>æŒ‘é€‰ä¸€ä¸ªè¿›ç¨‹ï¼Œç„¶åè®©è¯¥è¿›ç¨‹åªè¿è¡ŒæŸæ®µæ—¶é—´ï¼Œå¦‚æœåœ¨è¯¥æ—¶æ®µç»“æŸæ—¶ï¼Œè¯¥è¿›ç¨‹ä»ç„¶åœ¨è¿è¡Œæ—¶ï¼Œåˆ™ä¼šæŠŠå®ƒæŒ‚èµ·ï¼Œæ¥ç€è°ƒåº¦ç¨‹åºä»å°±ç»ªé˜Ÿåˆ—æŒ‘é€‰å¦å¤–ä¸€ä¸ªè¿›ç¨‹ã€‚è¿™ç§æŠ¢å å¼è°ƒåº¦å¤„ç†ï¼Œéœ€è¦åœ¨æ—¶é—´é—´éš”çš„æœ«ç«¯å‘ç”Ÿ</span><strong><span>æ—¶é’Ÿä¸­æ–­</span></strong><span>ï¼Œä»¥ä¾¿æŠŠ CPU æ§åˆ¶è¿”å›ç»™è°ƒåº¦ç¨‹åºè¿›è¡Œè°ƒåº¦ï¼Œä¹Ÿå°±æ˜¯å¸¸è¯´çš„</span><strong><span>æ—¶é—´ç‰‡æœºåˆ¶</span></strong><span>ã€‚</span></p></li></ul><h2 id='è°ƒåº¦åŸåˆ™'><span>è°ƒåº¦åŸåˆ™</span></h2><p><em><span>åŸåˆ™ä¸€</span></em><span>ï¼šå¦‚æœè¿è¡Œçš„ç¨‹åºï¼Œå‘ç”Ÿäº† I/O äº‹ä»¶çš„è¯·æ±‚ï¼Œé‚£ CPU ä½¿ç”¨ç‡å¿…ç„¶ä¼šå¾ˆä½ï¼Œå› ä¸ºæ­¤æ—¶è¿›ç¨‹åœ¨é˜»å¡ç­‰å¾…ç¡¬ç›˜çš„æ•°æ®è¿”å›ã€‚è¿™æ ·çš„è¿‡ç¨‹ï¼ŒåŠ¿å¿…ä¼šé€ æˆ CPU çªç„¶çš„ç©ºé—²ã€‚æ‰€ä»¥ï¼Œ</span><strong><span>ä¸ºäº†æé«˜ CPU åˆ©ç”¨ç‡ï¼Œåœ¨è¿™ç§å‘é€ I/O äº‹ä»¶è‡´ä½¿ CPU ç©ºé—²çš„æƒ…å†µä¸‹ï¼Œè°ƒåº¦ç¨‹åºéœ€è¦ä»å°±ç»ªé˜Ÿåˆ—ä¸­é€‰æ‹©ä¸€ä¸ªè¿›ç¨‹æ¥è¿è¡Œã€‚</span></strong></p><p><em><span>åŸåˆ™äºŒ</span></em><span>ï¼šæœ‰çš„ç¨‹åºæ‰§è¡ŒæŸä¸ªä»»åŠ¡èŠ±è´¹çš„æ—¶é—´ä¼šæ¯”è¾ƒé•¿ï¼Œå¦‚æœè¿™ä¸ªç¨‹åºä¸€ç›´å ç”¨ç€ CPUï¼Œä¼šé€ æˆç³»ç»Ÿååé‡ï¼ˆCPU åœ¨å•ä½æ—¶é—´å†…å®Œæˆçš„è¿›ç¨‹æ•°é‡ï¼‰çš„é™ä½ã€‚æ‰€ä»¥ï¼Œ</span><strong><span>è¦æé«˜ç³»ç»Ÿçš„ååç‡ï¼Œè°ƒåº¦ç¨‹åºè¦æƒè¡¡é•¿ä»»åŠ¡å’ŒçŸ­ä»»åŠ¡è¿›ç¨‹çš„è¿è¡Œå®Œæˆæ•°é‡ã€‚</span></strong></p><p><em><span>åŸåˆ™ä¸‰</span></em><span>ï¼šä»è¿›ç¨‹å¼€å§‹åˆ°ç»“æŸçš„è¿‡ç¨‹ä¸­ï¼Œå®é™…ä¸Šæ˜¯åŒ…å«ä¸¤ä¸ªæ—¶é—´ï¼Œåˆ†åˆ«æ˜¯è¿›ç¨‹è¿è¡Œæ—¶é—´å’Œè¿›ç¨‹ç­‰å¾…æ—¶é—´ï¼Œè¿™ä¸¤ä¸ªæ—¶é—´æ€»å’Œå°±ç§°ä¸ºå‘¨è½¬æ—¶é—´ã€‚è¿›ç¨‹çš„å‘¨è½¬æ—¶é—´è¶Šå°è¶Šå¥½ï¼Œ</span><strong><span>å¦‚æœè¿›ç¨‹çš„ç­‰å¾…æ—¶é—´å¾ˆé•¿è€Œè¿è¡Œæ—¶é—´å¾ˆçŸ­ï¼Œé‚£å‘¨è½¬æ—¶é—´å°±å¾ˆé•¿ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æ‰€æœŸæœ›çš„ï¼Œè°ƒåº¦ç¨‹åºåº”è¯¥é¿å…è¿™ç§æƒ…å†µå‘ç”Ÿã€‚</span></strong></p><p><em><span>åŸåˆ™å››</span></em><span>ï¼šå¤„äºå°±ç»ªé˜Ÿåˆ—çš„è¿›ç¨‹ï¼Œä¹Ÿä¸èƒ½ç­‰å¤ªä¹…ï¼Œå½“ç„¶å¸Œæœ›è¿™ä¸ªç­‰å¾…çš„æ—¶é—´è¶ŠçŸ­è¶Šå¥½ï¼Œè¿™æ ·å¯ä»¥ä½¿å¾—è¿›ç¨‹æ›´å¿«çš„åœ¨ CPU ä¸­æ‰§è¡Œã€‚æ‰€ä»¥ï¼Œ</span><strong><span>å°±ç»ªé˜Ÿåˆ—ä¸­è¿›ç¨‹çš„ç­‰å¾…æ—¶é—´ä¹Ÿæ˜¯è°ƒåº¦ç¨‹åºæ‰€éœ€è¦è€ƒè™‘çš„åŸåˆ™ã€‚</span></strong></p><p><em><span>åŸåˆ™äº”</span></em><span>ï¼šå¯¹äºé¼ æ ‡ã€é”®ç›˜è¿™ç§äº¤äº’å¼æ¯”è¾ƒå¼ºçš„åº”ç”¨ï¼Œæˆ‘ä»¬å½“ç„¶å¸Œæœ›å®ƒçš„å“åº”æ—¶é—´è¶Šå¿«è¶Šå¥½ï¼Œå¦åˆ™å°±ä¼šå½±å“ç”¨æˆ·ä½“éªŒäº†ã€‚æ‰€ä»¥ï¼Œ</span><strong><span>å¯¹äºäº¤äº’å¼æ¯”è¾ƒå¼ºçš„åº”ç”¨ï¼Œå“åº”æ—¶é—´ä¹Ÿæ˜¯è°ƒåº¦ç¨‹åºéœ€è¦è€ƒè™‘çš„åŸåˆ™ã€‚</span></strong></p><p><span>é’ˆå¯¹ä¸Šé¢çš„äº”ç§è°ƒåº¦åŸåˆ™ï¼Œæ€»ç»“æˆå¦‚ä¸‹ï¼š</span></p><ul><li><p><strong><span>CPU åˆ©ç”¨ç‡</span></strong><span>ï¼šè°ƒåº¦ç¨‹åºåº”ç¡®ä¿ CPU æ˜¯å§‹ç»ˆåŒ†å¿™çš„çŠ¶æ€ï¼Œè¿™å¯æé«˜ CPU çš„åˆ©ç”¨ç‡ï¼›</span></p></li><li><p><strong><span>ç³»ç»Ÿååé‡</span></strong><span>ï¼šååé‡è¡¨ç¤ºçš„æ˜¯å•ä½æ—¶é—´å†… CPU å®Œæˆè¿›ç¨‹çš„æ•°é‡ï¼Œé•¿ä½œä¸šçš„è¿›ç¨‹ä¼šå ç”¨è¾ƒé•¿çš„ CPU èµ„æºï¼Œå› æ­¤ä¼šé™ä½ååé‡ï¼Œç›¸åï¼ŒçŸ­ä½œä¸šçš„è¿›ç¨‹ä¼šæå‡ç³»ç»Ÿååé‡ï¼›</span></p></li><li><p><strong><span>å‘¨è½¬æ—¶é—´</span></strong><span>ï¼šå‘¨è½¬æ—¶é—´æ˜¯è¿›ç¨‹è¿è¡Œ+é˜»å¡æ—¶é—´+ç­‰å¾…æ—¶é—´çš„æ€»å’Œï¼Œä¸€ä¸ªè¿›ç¨‹çš„å‘¨è½¬æ—¶é—´è¶Šå°è¶Šå¥½ï¼›</span></p></li><li><p><strong><span>ç­‰å¾…æ—¶é—´</span></strong><span>ï¼šè¿™ä¸ªç­‰å¾…æ—¶é—´ä¸æ˜¯é˜»å¡çŠ¶æ€çš„æ—¶é—´ï¼Œè€Œæ˜¯è¿›ç¨‹å¤„äºå°±ç»ªé˜Ÿåˆ—çš„æ—¶é—´ï¼Œç­‰å¾…çš„æ—¶é—´è¶Šé•¿ï¼Œç”¨æˆ·è¶Šä¸æ»¡æ„ï¼›</span></p></li><li><p><strong><span>å“åº”æ—¶é—´</span></strong><span>ï¼šç”¨æˆ·æäº¤è¯·æ±‚åˆ°ç³»ç»Ÿç¬¬ä¸€æ¬¡äº§ç”Ÿå“åº”æ‰€èŠ±è´¹çš„æ—¶é—´ï¼Œåœ¨äº¤äº’å¼ç³»ç»Ÿä¸­ï¼Œå“åº”æ—¶é—´æ˜¯è¡¡é‡è°ƒåº¦ç®—æ³•å¥½åçš„ä¸»è¦æ ‡å‡†ã€‚</span></p></li></ul><h2 id='è¿›ç¨‹è°ƒåº¦ç®—æ³•'><span>è¿›ç¨‹è°ƒåº¦ç®—æ³•</span></h2><ul><li><p><strong><span>å…ˆæ¥å…ˆæœåŠ¡è°ƒåº¦ç®—æ³•</span></strong><span>ï¼šé¡¾åæ€ä¹‰ï¼Œå…ˆæ¥ååˆ°ï¼Œæ¯æ¬¡ä»å°±ç»ªé˜Ÿåˆ—é€‰æ‹©æœ€å…ˆè¿›â¼Šé˜Ÿåˆ—çš„è¿›ç¨‹ï¼Œç„¶åâ¼€ç›´è¿â¾ï¼Œç›´åˆ°è¿›ç¨‹é€€å‡ºæˆ–è¢«é˜»å¡ï¼Œæ‰ä¼šç»§ç»­ä»é˜Ÿåˆ—ä¸­é€‰æ‹©ç¬¬â¼€ä¸ªè¿›ç¨‹æ¥ç€è¿â¾ã€‚</span></p></li><li><p><strong><span>æœ€çŸ­ä½œä¸šä¼˜å…ˆè°ƒåº¦ç®—æ³•</span></strong><span>ï¼šå®ƒä¼šä¼˜å…ˆé€‰æ‹©è¿â¾æ—¶é—´æœ€çŸ­çš„è¿› ç¨‹æ¥è¿â¾ï¼Œè¿™æœ‰åŠ©äºæâ¾¼ç³»ç»Ÿçš„ååé‡ã€‚ä½†æ˜¯å¯¹é•¿ä½œä¸šä¸åˆ©ã€‚</span></p></li><li><p><strong><span>â¾¼å“åº”â½ä¼˜å…ˆè°ƒåº¦ç®—æ³•</span></strong><span> ï¼šæ¯æ¬¡è¿›â¾è¿›ç¨‹è°ƒåº¦æ—¶ï¼Œå…ˆè®¡ç®—ã€Œå“åº”â½ä¼˜å…ˆçº§ã€ï¼Œç„¶åæŠŠã€Œå“åº”â½ä¼˜å…ˆçº§ã€æœ€â¾¼çš„è¿›ç¨‹æŠ•â¼Šè¿â¾ï¼Œã€Œå“åº” â½ä¼˜å…ˆçº§ã€çš„è®¡ç®—å…¬å¼ï¼šï¼ˆç­‰å¾…æ—¶é—´+è¦æ±‚æœåŠ¡æ—¶é—´ï¼‰/ è¦æ±‚æœåŠ¡æ—¶é—´ã€‚ä¸»è¦æ˜¯æƒè¡¡äº†é•¿ä½œä¸šå’ŒçŸ­ä½œä¸šã€‚ä»ä¸Šé¢çš„å…¬å¼ï¼Œå¯ä»¥å‘ç°ï¼š</span></p><ul><li><p><span>å¦‚æœä¸¤ä¸ªè¿›ç¨‹çš„ã€Œç­‰å¾…æ—¶é—´ã€ç›¸åŒæ—¶ï¼Œã€Œè¦æ±‚çš„æœåŠ¡æ—¶é—´ã€è¶ŠçŸ­ï¼Œã€Œå“åº”æ¯”ã€å°±è¶Šé«˜ï¼Œè¿™æ ·çŸ­ä½œä¸šçš„è¿›ç¨‹å®¹æ˜“è¢«é€‰ä¸­è¿è¡Œï¼›</span></p></li><li><p><span>å¦‚æœä¸¤ä¸ªè¿›ç¨‹ã€Œè¦æ±‚çš„æœåŠ¡æ—¶é—´ã€ç›¸åŒæ—¶ï¼Œã€Œç­‰å¾…æ—¶é—´ã€è¶Šé•¿ï¼Œã€Œå“åº”æ¯”ã€å°±è¶Šé«˜ï¼Œè¿™å°±å…¼é¡¾åˆ°äº†é•¿ä½œä¸šè¿›ç¨‹ï¼Œå› ä¸ºè¿›ç¨‹çš„å“åº”æ¯”å¯ä»¥éšæ—¶é—´ç­‰å¾…çš„å¢åŠ è€Œæé«˜ï¼Œå½“å…¶ç­‰å¾…æ—¶é—´è¶³å¤Ÿé•¿æ—¶ï¼Œå…¶å“åº”æ¯”ä¾¿å¯ä»¥å‡åˆ°å¾ˆé«˜ï¼Œä»è€Œè·å¾—è¿è¡Œçš„æœºä¼šï¼›</span></p></li></ul></li><li><p><strong><span>æ—¶é—´â½šè½®è½¬è°ƒåº¦ç®—æ³•</span></strong><span>ï¼šæ¯ä¸ªè¿›ç¨‹è¢«åˆ†é…â¼€ä¸ªæ—¶é—´æ®µï¼Œç§°ä¸ºæ—¶é—´â½šï¼ˆQuantumï¼‰ï¼Œå³å…è®¸è¯¥è¿›ç¨‹åœ¨è¯¥æ—¶é—´æ®µä¸­è¿â¾ã€‚é€šå¸¸æ—¶é—´â½šè®¾ä¸º 20ms~50ms é€šå¸¸æ˜¯â¼€ä¸ªâ½è¾ƒåˆç†çš„æŠ˜ä¸­å€¼ã€‚</span></p><ul><li><p><span>å¦‚æœæ—¶é—´ç‰‡è®¾å¾—å¤ªçŸ­ä¼šå¯¼è‡´è¿‡å¤šçš„è¿›ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œé™ä½äº† CPU æ•ˆç‡ï¼›</span></p></li><li><p><span>å¦‚æœè®¾å¾—å¤ªé•¿åˆå¯èƒ½å¼•èµ·å¯¹çŸ­ä½œä¸šè¿›ç¨‹çš„å“åº”æ—¶é—´å˜é•¿ã€‚</span></p></li></ul></li><li><p><strong><span>æœ€â¾¼ä¼˜å…ˆçº§è°ƒåº¦ç®—æ³•</span></strong><span>ï¼šè°ƒåº¦ç¨‹åºä»å°±ç»ªé˜Ÿåˆ—ä¸­é€‰æ‹©æœ€â¾¼ä¼˜å…ˆçº§çš„è¿›ç¨‹è¿›â¾è¿â¾ã€‚ä¼˜å…ˆçº§åˆ†ä¸ºé™æ€ä¼˜å…ˆçº§å’ŒåŠ¨æ€ä¼˜å…ˆçº§ã€‚</span></p><ul><li><p><span>é™æ€ä¼˜å…ˆçº§ï¼šåˆ›å»ºè¿›ç¨‹æ—¶å€™ï¼Œå°±å·²ç»ç¡®å®šäº†ä¼˜å…ˆçº§äº†ï¼Œç„¶åæ•´ä¸ªè¿â¾æ—¶é—´ä¼˜å…ˆçº§éƒ½ä¸ä¼šå˜åŒ–ï¼›</span></p></li><li><p><span>åŠ¨æ€ä¼˜å…ˆçº§ï¼šæ ¹æ®è¿›ç¨‹çš„åŠ¨æ€å˜åŒ–è°ƒæ•´ä¼˜å…ˆçº§ï¼Œâ½å¦‚å¦‚æœè¿›ç¨‹è¿â¾æ—¶é—´å¢åŠ ï¼Œåˆ™é™ä½å…¶ä¼˜å…ˆçº§ï¼Œå¦‚æœè¿›ç¨‹ç­‰å¾…æ—¶é—´ï¼ˆå°±ç»ªé˜Ÿåˆ—çš„ç­‰å¾…æ—¶é—´ï¼‰å¢åŠ ï¼Œåˆ™å‡â¾¼å…¶ä¼˜å…ˆçº§ï¼Œä¹Ÿå°±æ˜¯éšç€æ—¶é—´çš„æ¨ç§»å¢åŠ ç­‰å¾…è¿›ç¨‹çš„ä¼˜å…ˆçº§ã€‚</span></p></li><li><p><span>è¯¥ç®—æ³•ä¹Ÿæœ‰ä¸¤ç§å¤„ç†ä¼˜å…ˆçº§é«˜çš„æ–¹æ³•ï¼ŒéæŠ¢å å¼å’ŒæŠ¢å å¼ï¼š</span></p><ul><li><p><span>éæŠ¢å å¼ï¼šå½“å°±ç»ªé˜Ÿåˆ—ä¸­å‡ºç°ä¼˜å…ˆçº§é«˜çš„è¿›ç¨‹ï¼Œè¿è¡Œå®Œå½“å‰è¿›ç¨‹ï¼Œå†é€‰æ‹©ä¼˜å…ˆçº§é«˜çš„è¿›ç¨‹ã€‚</span></p></li><li><p><span>æŠ¢å å¼ï¼šå½“å°±ç»ªé˜Ÿåˆ—ä¸­å‡ºç°ä¼˜å…ˆçº§é«˜çš„è¿›ç¨‹ï¼Œå½“å‰è¿›ç¨‹æŒ‚èµ·ï¼Œè°ƒåº¦ä¼˜å…ˆçº§é«˜çš„è¿›ç¨‹è¿è¡Œã€‚</span></p></li></ul></li><li><p><span>å¯èƒ½ä¼šå¯¼è‡´ä½ä¼˜å…ˆçº§çš„è¿›ç¨‹æ°¸è¿œä¸ä¼šè¿è¡Œ</span></p></li></ul></li><li><p><strong><span>å¤šçº§åé¦ˆé˜Ÿåˆ—è°ƒåº¦ç®—æ³•ï¼š</span></strong><span>ã€Œå¤šçº§ã€è¡¨ç¤ºæœ‰å¤šä¸ªé˜Ÿåˆ—ï¼Œæ¯ä¸ªé˜Ÿåˆ—ä¼˜å…ˆçº§ä»â¾¼åˆ°ä½ï¼ŒåŒæ—¶ä¼˜å…ˆçº§è¶Šâ¾¼æ—¶é—´â½šè¶ŠçŸ­ã€‚ã€Œåé¦ˆã€è¡¨ç¤ºå¦‚æœæœ‰æ–°çš„è¿›ç¨‹åŠ â¼Šä¼˜å…ˆçº§â¾¼çš„é˜Ÿåˆ—æ—¶ï¼Œâ½´åˆ»åœâ½Œå½“å‰æ­£åœ¨è¿â¾çš„è¿›ç¨‹ï¼Œè½¬â½½å»è¿â¾ä¼˜ å…ˆçº§â¾¼çš„é˜Ÿåˆ—ï¼›</span></p><ul><li><p><span>è®¾ç½®äº†å¤šä¸ªé˜Ÿåˆ—ï¼Œèµ‹äºˆæ¯ä¸ªé˜Ÿåˆ—ä¸åŒçš„ä¼˜å…ˆçº§ï¼Œæ¯ä¸ª</span><strong><span>é˜Ÿåˆ—ä¼˜å…ˆçº§ä»é«˜åˆ°ä½</span></strong><span>ï¼ŒåŒæ—¶</span><strong><span>ä¼˜å…ˆçº§è¶Šé«˜æ—¶é—´ç‰‡è¶ŠçŸ­</span></strong><span>ï¼›</span></p></li><li><p><span>æ–°çš„è¿›ç¨‹ä¼šè¢«æ”¾å…¥åˆ°ç¬¬ä¸€çº§é˜Ÿåˆ—çš„æœ«å°¾ï¼ŒæŒ‰å…ˆæ¥å…ˆæœåŠ¡çš„åŸåˆ™æ’é˜Ÿç­‰å¾…è¢«è°ƒåº¦ï¼Œå¦‚æœåœ¨ç¬¬ä¸€çº§é˜Ÿåˆ—è§„å®šçš„æ—¶é—´ç‰‡æ²¡è¿è¡Œå®Œæˆï¼Œåˆ™å°†å…¶è½¬å…¥åˆ°ç¬¬äºŒçº§é˜Ÿåˆ—çš„æœ«å°¾ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´è‡³å®Œæˆï¼›</span></p></li><li><p><span>å½“è¾ƒé«˜ä¼˜å…ˆçº§çš„é˜Ÿåˆ—ä¸ºç©ºï¼Œæ‰è°ƒåº¦è¾ƒä½ä¼˜å…ˆçº§çš„é˜Ÿåˆ—ä¸­çš„è¿›ç¨‹è¿è¡Œã€‚å¦‚æœè¿›ç¨‹è¿è¡Œæ—¶ï¼Œæœ‰æ–°è¿›ç¨‹è¿›å…¥è¾ƒé«˜ä¼˜å…ˆçº§çš„é˜Ÿåˆ—ï¼Œåˆ™åœæ­¢å½“å‰è¿è¡Œçš„è¿›ç¨‹å¹¶å°†å…¶ç§»å…¥åˆ°åŸé˜Ÿåˆ—æœ«å°¾ï¼Œæ¥ç€è®©è¾ƒé«˜ä¼˜å…ˆçº§çš„è¿›ç¨‹è¿è¡Œï¼›</span></p></li><li><p><span>å¯¹äºçŸ­ä½œä¸šå¯èƒ½å¯ä»¥åœ¨ç¬¬ä¸€çº§é˜Ÿåˆ—å¾ˆå¿«è¢«å¤„ç†å®Œã€‚å¯¹äºé•¿ä½œä¸šï¼Œå¦‚æœåœ¨ç¬¬ä¸€çº§é˜Ÿåˆ—å¤„ç†ä¸å®Œï¼Œå¯ä»¥ç§»å…¥ä¸‹æ¬¡é˜Ÿåˆ—ç­‰å¾…è¢«æ‰§è¡Œï¼Œè™½ç„¶ç­‰å¾…çš„æ—¶é—´å˜é•¿äº†ï¼Œä½†æ˜¯è¿è¡Œæ—¶é—´ä¹Ÿä¼šæ›´é•¿äº†ï¼Œæ‰€ä»¥è¯¥ç®—æ³•å¾ˆå¥½çš„</span><strong><span>å…¼é¡¾äº†é•¿çŸ­ä½œä¸šï¼ŒåŒæ—¶æœ‰è¾ƒå¥½çš„å“åº”æ—¶é—´ã€‚</span></strong></p></li></ul></li></ul><h2 id='å†…å­˜é¡µé¢ç½®æ¢ç®—æ³•'><span>å†…å­˜é¡µé¢ç½®æ¢ç®—æ³•</span></h2><p><span>å½“CPUè®¿é—®çš„é¡µé¢ä¸åœ¨ç‰©ç†å†…å­˜æ—¶ï¼Œä¾¿ä¼šäº§ç”Ÿä¸€ä¸ªç¼ºé¡µä¸­æ–­ï¼Œè¯·æ±‚æ“ä½œç³»ç»Ÿå°†æ‰€ç¼ºé¡µä»ç£ç›˜è°ƒå…¥åˆ°ç‰©ç†å†…å­˜ä¸­ï¼Œä½†æ˜¯åœ¨æ¢å…¥ä¹‹å‰ï¼Œéœ€è¦åœ¨ç‰©ç†å†…å­˜ä¸­æ‰¾ç©ºé—²é¡µï¼Œå¦‚æœæ‰¾åˆ°ç©ºé—²é¡µï¼Œå°±æŠŠé¡µé¢æ¢å…¥åˆ°ç‰©ç†å†…å­˜ä¸­ã€‚ä½†æ˜¯å¦‚æœæ‰¾ä¸åˆ°ï¼Œå°±éœ€è¦é€‰æ‹©ä¸€ä¸ªç‰©ç†é¡µé¢æ¢å‡ºåˆ°ç£ç›˜ä¸­ï¼Œç„¶åå†å°†éœ€è¦è®¿é—®çš„é¡µé¢æ¢å…¥åˆ°ç‰©ç†é¡µã€‚</span></p><p><span>é‚£å®ƒä¸ä¸€èˆ¬ä¸­æ–­çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼š</span></p><ul><li><p><span>ç¼ºé¡µä¸­æ–­åœ¨æŒ‡ä»¤æ‰§è¡Œã€ŒæœŸé—´ã€äº§ç”Ÿå’Œå¤„ç†ä¸­æ–­ä¿¡å·ï¼Œè€Œä¸€èˆ¬ä¸­æ–­åœ¨ä¸€æ¡æŒ‡ä»¤æ‰§è¡Œã€Œå®Œæˆã€åæ£€æŸ¥å’Œå¤„ç†ä¸­æ–­ä¿¡å·ã€‚</span></p></li><li><p><span>ç¼ºé¡µä¸­æ–­è¿”å›åˆ°è¯¥æŒ‡ä»¤çš„å¼€å§‹é‡æ–°æ‰§è¡Œã€Œè¯¥æŒ‡ä»¤ã€ï¼Œè€Œä¸€èˆ¬ä¸­æ–­è¿”å›å›åˆ°è¯¥æŒ‡ä»¤çš„ã€Œä¸‹ä¸€ä¸ªæŒ‡ä»¤ã€æ‰§è¡Œã€‚</span></p></li></ul><p><strong><span>æµç¨‹</span></strong><span>ï¼š</span></p><ol start='' ><li><p><span>åœ¨ CPU é‡Œè®¿é—®ä¸€æ¡ Load M æŒ‡ä»¤ï¼Œç„¶å CPU ä¼šå»æ‰¾ M æ‰€å¯¹åº”çš„é¡µè¡¨é¡¹ã€‚</span></p></li><li><p><span>å¦‚æœè¯¥é¡µè¡¨é¡¹çš„çŠ¶æ€ä½æ˜¯ã€Œæœ‰æ•ˆçš„ã€ï¼Œé‚£ CPU å°±å¯ä»¥ç›´æ¥å»è®¿é—®ç‰©ç†å†…å­˜äº†ï¼Œå¦‚æœçŠ¶æ€ä½æ˜¯ã€Œæ— æ•ˆçš„ã€ï¼Œåˆ™ CPU åˆ™ä¼šå‘é€ç¼ºé¡µä¸­æ–­è¯·æ±‚ã€‚</span></p></li><li><p><span>æ“ä½œç³»ç»Ÿæ”¶åˆ°äº†ç¼ºé¡µä¸­æ–­ï¼Œåˆ™ä¼šæ‰§è¡Œç¼ºé¡µä¸­æ–­å¤„ç†å‡½æ•°ï¼Œå…ˆä¼šæŸ¥æ‰¾è¯¥é¡µé¢åœ¨ç£ç›˜ä¸­çš„é¡µé¢çš„ä½ç½®ã€‚</span></p></li><li><p><span>æ‰¾åˆ°ç£ç›˜ä¸­å¯¹åº”çš„é¡µé¢åï¼Œéœ€è¦æŠŠè¯¥é¡µé¢æ¢å…¥åˆ°ç‰©ç†å†…å­˜ä¸­ï¼Œä½†æ˜¯åœ¨æ¢å…¥å‰ï¼Œéœ€è¦åœ¨ç‰©ç†å†…å­˜ä¸­æ‰¾ç©ºé—²é¡µï¼Œå¦‚æœæ‰¾åˆ°ç©ºé—²é¡µï¼Œå°±æŠŠé¡µé¢æ¢å…¥åˆ°ç‰©ç†å†…å­˜ä¸­ã€‚</span></p></li><li><p><span>é¡µé¢ä»ç£ç›˜æ¢å…¥åˆ°ç‰©ç†å†…å­˜å®Œæˆåï¼Œåˆ™æŠŠé¡µè¡¨é¡¹ä¸­çš„çŠ¶æ€ä½ä¿®æ”¹ä¸ºã€Œæœ‰æ•ˆçš„ã€ã€‚</span></p></li><li><p><span>æœ€åï¼ŒCPU é‡æ–°æ‰§è¡Œå¯¼è‡´ç¼ºé¡µå¼‚å¸¸çš„æŒ‡ä»¤ã€‚</span></p></li></ol><p><img src="assets/image-20240614155539662.png" alt="image-20240614155539662" style="zoom:33%;" /></p><p><span>æ‰¾ä¸åˆ°ç©ºé—²é¡µçš„è¯ï¼Œå°±è¯´æ˜æ­¤æ—¶å†…å­˜å·²æ»¡äº†ï¼Œè¿™æ—¶å€™ï¼Œå°±éœ€è¦ã€Œé¡µé¢ç½®æ¢ç®—æ³•ã€é€‰æ‹©ä¸€ä¸ªç‰©ç†é¡µï¼Œå¦‚æœè¯¥ç‰©ç†é¡µæœ‰è¢«ä¿®æ”¹è¿‡ï¼ˆè„é¡µï¼‰ï¼Œåˆ™æŠŠå®ƒæ¢å‡ºåˆ°ç£ç›˜ï¼Œç„¶åæŠŠè¯¥è¢«ç½®æ¢å‡ºå»çš„é¡µè¡¨é¡¹çš„çŠ¶æ€æ”¹æˆã€Œæ— æ•ˆçš„ã€ï¼Œæœ€åæŠŠæ­£åœ¨è®¿é—®çš„é¡µé¢è£…å…¥åˆ°è¿™ä¸ªç‰©ç†é¡µä¸­ã€‚</span></p><p><span>è¿™é‡Œæä¸€ä¸‹ï¼Œé¡µè¡¨é¡¹é€šå¸¸æœ‰å¦‚ä¸‹å›¾çš„å­—æ®µï¼š</span></p><p><img src="assets/image-20240614155751406.png" alt="image-20240614155751406" style="zoom:30%;" /></p><p><span>é‚£å…¶ä¸­ï¼š</span></p><ul><li><p><em><span>çŠ¶æ€ä½</span></em><span>ï¼šç”¨äºè¡¨ç¤ºè¯¥é¡µæ˜¯å¦æœ‰æ•ˆï¼Œä¹Ÿå°±æ˜¯è¯´æ˜¯å¦åœ¨ç‰©ç†å†…å­˜ä¸­ï¼Œä¾›ç¨‹åºè®¿é—®æ—¶å‚è€ƒã€‚</span></p></li><li><p><em><span>è®¿é—®å­—æ®µ</span></em><span>ï¼šç”¨äºè®°å½•è¯¥é¡µåœ¨ä¸€æ®µæ—¶é—´è¢«è®¿é—®çš„æ¬¡æ•°ï¼Œä¾›é¡µé¢ç½®æ¢ç®—æ³•é€‰æ‹©å‡ºé¡µé¢æ—¶å‚è€ƒã€‚</span></p></li><li><p><em><span>ä¿®æ”¹ä½</span></em><span>ï¼šè¡¨ç¤ºè¯¥é¡µåœ¨è°ƒå…¥å†…å­˜åæ˜¯å¦æœ‰è¢«ä¿®æ”¹è¿‡ï¼Œç”±äºå†…å­˜ä¸­çš„æ¯ä¸€é¡µéƒ½åœ¨ç£ç›˜ä¸Šä¿ç•™ä¸€ä»½å‰¯æœ¬ï¼Œå› æ­¤ï¼Œå¦‚æœæ²¡æœ‰ä¿®æ”¹ï¼Œåœ¨ç½®æ¢è¯¥é¡µæ—¶å°±ä¸éœ€è¦å°†è¯¥é¡µå†™å›åˆ°ç£ç›˜ä¸Šï¼Œä»¥å‡å°‘ç³»ç»Ÿçš„å¼€é”€ï¼›å¦‚æœå·²ç»è¢«ä¿®æ”¹ï¼Œåˆ™å°†è¯¥é¡µé‡å†™åˆ°ç£ç›˜ä¸Šï¼Œä»¥ä¿è¯ç£ç›˜ä¸­æ‰€ä¿ç•™çš„å§‹ç»ˆæ˜¯æœ€æ–°çš„å‰¯æœ¬ã€‚</span></p></li><li><p><em><span>ç¡¬ç›˜åœ°å€</span></em><span>ï¼šç”¨äºæŒ‡å‡ºè¯¥é¡µåœ¨ç¡¬ç›˜ä¸Šçš„åœ°å€ï¼Œé€šå¸¸æ˜¯ç‰©ç†å—å·ï¼Œä¾›è°ƒå…¥è¯¥é¡µæ—¶ä½¿ç”¨ã€‚</span></p></li></ul><p><span>æ‰€ä»¥ï¼Œé¡µé¢ç½®æ¢ç®—æ³•çš„åŠŸèƒ½æ˜¯ï¼Œ</span><strong><span>å½“å‡ºç°ç¼ºé¡µå¼‚å¸¸ï¼Œéœ€è°ƒå…¥æ–°é¡µé¢è€Œå†…å­˜å·²æ»¡æ—¶ï¼Œé€‰æ‹©è¢«ç½®æ¢çš„ç‰©ç†é¡µé¢</span></strong><span>ï¼Œä¹Ÿå°±æ˜¯è¯´é€‰æ‹©ä¸€ä¸ªç‰©ç†é¡µé¢æ¢å‡ºåˆ°ç£ç›˜ï¼Œç„¶åæŠŠéœ€è¦è®¿é—®çš„é¡µé¢æ¢å…¥åˆ°ç‰©ç†é¡µã€‚</span></p><p><img src="assets/image-20240614160426640.png" alt="image-20240614160426640" style="zoom:20%;" /></p><p><strong><span>é¡µé¢ç½®æ¢ç®—æ³•ï¼š</span></strong></p><ul><li><p><span>æœ€ä½³â»šâ¾¯ç½®æ¢ç®—æ³•ï¼ˆOPTï¼‰ï¼šç½®æ¢åœ¨æœªæ¥æœ€é•¿æ—¶é—´ä¸è®¿é—®çš„é¡µé¢ã€‚è¿™ç§ç³»ç»Ÿæ— æ³•å®ç°ï¼Œæ‰€ä»¥ï¼Œæœ€ä½³â»šâ¾¯ç½®æ¢ç®—æ³•ä½œâ½¤æ˜¯ä¸ºäº†è¡¡é‡ç½®æ¢ç®—æ³•çš„æ•ˆç‡ï¼Œç®—æ³•æ•ˆç‡è¶Šæ¥è¿‘è¯¥ç®—æ³•çš„æ•ˆç‡ï¼Œé‚£ä¹ˆè¯´æ˜ç®—æ³•æ˜¯â¾¼æ•ˆçš„ã€‚</span></p></li><li><p><span>å…ˆè¿›å…ˆå‡ºç½®æ¢ç®—æ³•ï¼ˆFIFOï¼‰ï¼šé€‰æ‹©åœ¨å†…å­˜é©»ç•™å¾ˆé•¿çš„é¡µé¢è¿›è¡Œç½®æ¢ã€‚</span></p></li><li><p><span>æœ€è¿‘æœ€ä¹…æœªä½¿â½¤çš„ç½®æ¢ç®—æ³•ï¼ˆLRUï¼‰ï¼šé€‰æ‹©æœ€é•¿æ—¶é—´æ²¡æœ‰è®¿é—®çš„é¡µé¢è¿›è¡Œç½®æ¢ã€‚</span></p><ul><li><p><span>è™½ç„¶ LRU åœ¨ç†è®ºä¸Šæ˜¯å¯ä»¥å®ç°çš„ï¼Œä½†ä»£ä»·å¾ˆé«˜ã€‚ä¸ºäº†å®Œå…¨å®ç° LRUï¼Œéœ€è¦åœ¨å†…å­˜ä¸­ç»´æŠ¤ä¸€ä¸ªæ‰€æœ‰é¡µé¢çš„é“¾è¡¨ï¼Œæœ€è¿‘æœ€å¤šä½¿ç”¨çš„é¡µé¢åœ¨è¡¨å¤´ï¼Œæœ€è¿‘æœ€å°‘ä½¿ç”¨çš„é¡µé¢åœ¨è¡¨å°¾ã€‚</span></p></li><li><p><span>å›°éš¾çš„æ˜¯ï¼Œåœ¨æ¯æ¬¡è®¿é—®å†…å­˜æ—¶éƒ½å¿…é¡»è¦æ›´æ–°ã€Œæ•´ä¸ªé“¾è¡¨ã€ã€‚åœ¨é“¾è¡¨ä¸­æ‰¾åˆ°ä¸€ä¸ªé¡µé¢ï¼Œåˆ é™¤å®ƒï¼Œç„¶åæŠŠå®ƒç§»åŠ¨åˆ°è¡¨å¤´æ˜¯ä¸€ä¸ªéå¸¸è´¹æ—¶çš„æ“ä½œã€‚</span></p></li><li><p><span>ç”±äºå¼€é”€æ¯”è¾ƒå¤§ï¼Œå®é™…åº”ç”¨ä¸­æ¯”è¾ƒå°‘ä½¿ç”¨ã€‚</span></p></li></ul></li><li><p><span>æ—¶é’Ÿâ»šâ¾¯ç½®æ¢ç®—æ³•ï¼ˆLockï¼‰ï¼šæ—¶é’Ÿé¡µé¢ç½®æ¢ç®—æ³•ï¼Œå®ƒè·Ÿ LRU è¿‘ä¼¼ï¼Œåˆæ˜¯å¯¹ FIFO çš„ä¸€ç§æ”¹è¿›ã€‚ç®—æ³•çš„æ€è·¯æ˜¯ï¼ŒæŠŠæ‰€æœ‰çš„é¡µé¢éƒ½ä¿å­˜åœ¨ä¸€ä¸ªç±»ä¼¼é’Ÿé¢çš„ã€Œç¯å½¢é“¾è¡¨ã€ä¸­ï¼Œä¸€ä¸ªè¡¨é’ˆæŒ‡å‘æœ€è€çš„é¡µé¢ã€‚</span></p><ul><li><p><span>å½“ä¸€ä¸ªé¡µé¢è¢«è£…å…¥å†…å­˜æ—¶ï¼ŒæŠŠè¯¥ä½åˆå§‹åŒ–ä¸º0ï¼Œç„¶åå¦‚æœè¿™ä¸ªé¡µé¢è¢«è®¿é—®ï¼ˆè¯»/å†™ï¼‰ï¼Œåˆ™æŠŠè¯¥ä½ç½®ä¸º1ï¼›</span></p></li><li><p><span>æŠŠå„ä¸ªé¡µé¢ç»„ç»‡æˆç¯å½¢é“¾è¡¨ï¼ˆç±»ä¼¼äºé’Ÿè¡¨é¢ï¼‰ï¼ŒæŠŠæŒ‡é’ˆæŒ‡å‘æœ€è€çš„é¡µé¢ï¼ˆæœ€å…ˆè¿›æ¥ï¼‰ï¼›</span></p></li><li><p><span>å½“å‘ç”Ÿä¸€ä¸ªç¼ºé¡µä¸­æ–­æ—¶ï¼Œè€ƒå¯ŸæŒ‡é’ˆæ‰€æŒ‡å‘çš„æœ€è€é¡µé¢ï¼Œè‹¥å®ƒçš„è®¿é—®ä½ä¸º0ï¼Œç«‹å³æ·˜æ±°ï¼›è‹¥è®¿é—®ä½ä¸º1ï¼Œåˆ™æŠŠè¯¥ä½ç½®ä¸º0ï¼Œç„¶åæŒ‡é’ˆå¾€ä¸‹ç§»åŠ¨ä¸€æ ¼ã€‚å¦‚æ­¤ä¸‹å»ï¼Œç›´è‡³æ‰¾åˆ°è¢«æ·˜æ±°çš„é¡µé¢ï¼Œç„¶åæŠŠæŒ‡é’ˆç§»åŠ¨åˆ°å®ƒçš„ä¸‹ä¸€æ ¼ã€‚</span></p></li></ul></li><li><p><span>æœ€ä¸å¸¸â½¤ç½®æ¢ç®—æ³•ï¼ˆLFUï¼‰ï¼šé€‰æ‹©è®¿é—®æ¬¡æ•°æœ€å°‘çš„é¡µé¢è¿›è¡Œç½®æ¢ã€‚å¯¹æ¯ä¸ªé¡µé¢è®¾ç½®ä¸€ä¸ªã€Œè®¿é—®è®¡æ•°å™¨ã€ï¼Œæ¯å½“ä¸€ä¸ªé¡µé¢è¢«è®¿é—®æ—¶ï¼Œè¯¥é¡µé¢çš„è®¿é—®è®¡æ•°å™¨å°±ç´¯åŠ  1ã€‚åœ¨å‘ç”Ÿç¼ºé¡µä¸­æ–­æ—¶ï¼Œæ·˜æ±°è®¡æ•°å™¨å€¼æœ€å°çš„é‚£ä¸ªé¡µé¢ã€‚</span></p><ul><li><p><span>è¦å¢åŠ ä¸€ä¸ªè®¡æ•°å™¨æ¥å®ç°ï¼Œè¿™ä¸ªç¡¬ä»¶æˆæœ¬æ˜¯æ¯”è¾ƒé«˜çš„ï¼Œå¦å¤–å¦‚æœè¦å¯¹è¿™ä¸ªè®¡æ•°å™¨æŸ¥æ‰¾å“ªä¸ªé¡µé¢è®¿é—®æ¬¡æ•°æœ€å°ï¼ŒæŸ¥æ‰¾é“¾è¡¨æœ¬èº«ï¼Œå¦‚æœé“¾è¡¨é•¿åº¦å¾ˆå¤§ï¼Œæ˜¯éå¸¸è€—æ—¶çš„ï¼Œæ•ˆç‡ä¸é«˜ã€‚</span></p></li><li><p><span>LFU ç®—æ³•åªè€ƒè™‘äº†é¢‘ç‡é—®é¢˜ï¼Œæ²¡è€ƒè™‘æ—¶é—´çš„é—®é¢˜ï¼Œæ¯”å¦‚æœ‰äº›é¡µé¢åœ¨è¿‡å»æ—¶é—´é‡Œè®¿é—®çš„é¢‘ç‡å¾ˆé«˜ï¼Œä½†æ˜¯ç°åœ¨å·²ç»æ²¡æœ‰è®¿é—®äº†ï¼Œè€Œå½“å‰é¢‘ç¹è®¿é—®çš„é¡µé¢ç”±äºæ²¡æœ‰è¿™äº›é¡µé¢è®¿é—®çš„æ¬¡æ•°é«˜ï¼Œåœ¨å‘ç”Ÿç¼ºé¡µä¸­æ–­æ—¶ï¼Œå°±ä¼šå¯èƒ½ä¼šè¯¯ä¼¤å½“å‰åˆšå¼€å§‹é¢‘ç¹è®¿é—®ï¼Œä½†è®¿é—®æ¬¡æ•°è¿˜ä¸é«˜çš„é¡µé¢ã€‚</span></p></li><li><p><span>é‚£è¿™ä¸ªé—®é¢˜çš„è§£å†³çš„åŠæ³•è¿˜æ˜¯æœ‰çš„ï¼Œå¯ä»¥å®šæœŸå‡å°‘è®¿é—®çš„æ¬¡æ•°ï¼Œâ½å¦‚å½“å‘â½£æ—¶é—´ä¸­æ–­æ—¶ï¼ŒæŠŠè¿‡å»æ—¶é—´è®¿é—® çš„â»šâ¾¯çš„è®¿é—®æ¬¡æ•°é™¤ä»¥ 2ï¼Œä¹Ÿå°±è¯´ï¼Œéšç€æ—¶é—´çš„æµå¤±ï¼Œä»¥å‰çš„â¾¼è®¿é—®æ¬¡æ•°çš„â»šâ¾¯ä¼šæ…¢æ…¢å‡å°‘ï¼Œç›¸å½“äºåŠ â¼¤äº†è¢«ç½®æ¢çš„æ¦‚ç‡ã€‚</span></p></li></ul></li></ul><h2 id='ç£ç›˜è°ƒåº¦ç®—æ³•'><span>ç£ç›˜è°ƒåº¦ç®—æ³•</span></h2><p><span>ç£ç›˜è°ƒåº¦ç®—æ³•çš„â½¬çš„å¾ˆç®€å•ï¼Œå°±æ˜¯ä¸ºäº†æâ¾¼ç£ç›˜çš„è®¿é—®æ€§èƒ½ï¼Œâ¼€èˆ¬æ˜¯é€šè¿‡ä¼˜åŒ–ç£ç›˜çš„è®¿é—®è¯·æ±‚é¡ºåºæ¥åšåˆ°çš„ã€‚å¯»é“çš„æ—¶é—´æ˜¯ç£ç›˜è®¿é—®æœ€è€—æ—¶çš„éƒ¨åˆ†ï¼Œå¦‚æœè¯·æ±‚é¡ºåºä¼˜åŒ–çš„å¾—å½“ï¼Œå¿…ç„¶å¯ä»¥èŠ‚çœâ¼€äº›ä¸å¿…è¦çš„å¯»é“æ—¶é—´ï¼Œ ä»â½½æâ¾¼ç£ç›˜çš„è®¿é—®æ€§èƒ½ã€‚</span></p><ul><li><p><strong><span>å…ˆæ¥å…ˆæœåŠ¡ç®—æ³•</span></strong><span> ï¼šå…ˆæ¥å…ˆæœåŠ¡ï¼ˆFirst-Comeï¼ŒFirst-Servedï¼ŒFCFSï¼‰ï¼Œé¡¾åæ€ä¹‰ï¼Œå…ˆåˆ°æ¥çš„è¯·æ±‚ï¼Œå…ˆè¢«æœåŠ¡ã€‚å½“è¯·æ±‚è®¿é—®çš„ç£é“å¾ˆåˆ†æ•£æ—¶ï¼Œæ€§èƒ½å°±ä¼šå¾ˆå·®ï¼Œå› ä¸ºå¯»é“çš„æ—¶é—´è¿‡é•¿ã€‚æ¯”å¦‚è¿™ä¸ªåºåˆ—ï¼š98ï¼Œ183ï¼Œ37ï¼Œ122ï¼Œ14ï¼Œ124ï¼Œ65ï¼Œ67ï¼Œä¼šæŒ‰ç…§é¡ºåºè¿›è¡Œè®¿é—®ã€‚</span></p></li><li><p><strong><span>æœ€çŸ­å¯»é“æ—¶é—´ä¼˜å…ˆç®—æ³•</span></strong><span> ï¼šä¼˜å…ˆé€‰æ‹©ä»å½“å‰ç£å¤´ä½ç½®æ‰€éœ€å¯»é“æ—¶é—´æœ€çŸ­çš„è¯·æ±‚ã€‚æ¯”å¦‚ä¸Šé¢çš„åºåˆ—ï¼Œç£å¤´çš„åˆå§‹ä½ç½®æ˜¯ 53ï¼Œæ’åºåï¼š65ï¼Œ67ï¼Œ37ï¼Œ14ï¼Œ98ï¼Œ122ï¼Œ124ï¼Œ183ï¼Œæœ‰å¯èƒ½äº§ç”Ÿé¥¥é¥¿ç°è±¡ï¼Œå› ä¸ºç£å¤´ä¼šæœ‰å¯èƒ½åœ¨ä¸€å—åŒºåŸŸæ¥å›ç§»åŠ¨ã€‚å¦‚æœåç»­æ¥çš„è¯·æ±‚éƒ½æ˜¯å°äº 183 ç£é“çš„ï¼Œé‚£ä¹ˆ 183 ç£é“å¯èƒ½æ°¸è¿œä¸ä¼šè¢«å“åº”ï¼Œäºæ˜¯å°±äº§ç”Ÿäº†é¥¥é¥¿ç°è±¡ï¼Œè¿™é‡Œ</span><strong><span>äº§ç”Ÿé¥¥é¥¿çš„åŸå› æ˜¯ç£å¤´åœ¨ä¸€å°å—åŒºåŸŸæ¥å›ç§»åŠ¨</span></strong><span>ã€‚</span></p></li><li><p><strong><span>æ‰«æç®—æ³•ç®—æ³•</span></strong><span>ï¼šç£å¤´åœ¨â¼€ä¸ªâ½…å‘ä¸Šç§»åŠ¨ï¼Œè®¿é—®æ‰€æœ‰æœªå®Œæˆçš„è¯·æ±‚ï¼Œç›´åˆ°ç£å¤´åˆ°è¾¾è¯¥â½…å‘ä¸Š çš„æœ€åçš„ç£é“ï¼Œæ‰è°ƒæ¢â½…å‘ï¼Œè¿™å°±æ˜¯æ‰«æï¼ˆScanï¼‰ç®—æ³•ã€‚ä¸ä¼šäº§ç”Ÿé¥¥é¥¿ç°è±¡ï¼Œä½†æ˜¯ä¸­é—´çš„éƒ¨åˆ†ç£é“ä¼šæ¯”è¾ƒå ä¾¿å®œï¼Œå› ä¸ºä¸­é—´éƒ¨åˆ†ç›¸æ¯”äºå…¶ä»–éƒ¨åˆ†å“åº”çš„é¢‘ç‡ä¼šæ¯”è¾ƒå¤šã€‚</span></p><ul><li><p><span>è¿˜æ˜¯ä¸Šé¢çš„ä¾‹å­ï¼Œç£å¤´çš„åˆå§‹ä½ç½®æ˜¯ 53ï¼Œé‚£ä¹ˆï¼Œå‡è®¾æ‰«æè°ƒåº¦ç®—å…ˆæœç£é“å·å‡å°‘çš„æ–¹å‘ç§»åŠ¨ï¼Œå…·ä½“è¯·æ±‚åˆ™ä¼šæ˜¯ä¸‹åˆ—ä»å·¦åˆ°å³çš„é¡ºåºï¼š37ï¼Œ14ï¼Œ</span><code>0</code><span>ï¼Œ65ï¼Œ67ï¼Œ98ï¼Œ122ï¼Œ124ï¼Œ183ã€‚ç£å¤´å…ˆå“åº”å·¦è¾¹çš„è¯·æ±‚ï¼Œç›´åˆ°åˆ°è¾¾æœ€å·¦ç«¯ï¼ˆ 0 ç£é“ï¼‰åï¼Œæ‰å¼€å§‹åå‘ç§»åŠ¨ï¼Œå“åº”å³è¾¹çš„è¯·æ±‚ã€‚</span></p></li></ul></li><li><p><strong><span>å¾ªç¯æ‰«æç®—æ³•</span></strong><span>ï¼šåªæœ‰ç£å¤´æœæŸä¸ªç‰¹å®šâ½…å‘ç§»åŠ¨æ—¶ï¼Œæ‰å¤„ç†ç£é“è®¿é—®è¯·æ±‚ï¼Œâ½½è¿” å›æ—¶ç›´æ¥å¿«é€Ÿç§»åŠ¨â¾„æœ€é è¾¹ç¼˜çš„ç£é“ï¼Œä¹Ÿå°±æ˜¯å¤ä½ç£å¤´ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯å¾ˆå¿«çš„ï¼Œå¹¶ä¸”è¿”å›ä¸­é€”ä¸å¤„ç†ä»»ä½•è¯·æ±‚ï¼Œè¯¥ç®—æ³•çš„ç‰¹ç‚¹ï¼Œå°±æ˜¯ç£é“åªå“åº”â¼€ä¸ªâ½…å‘ä¸Šçš„è¯·æ±‚ã€‚</span></p><ul><li><p><span>å‡è®¾å¾ªç¯æ‰«æè°ƒåº¦ç®—å…ˆæœç£é“å¢åŠ çš„æ–¹å‘ç§»åŠ¨ï¼Œå…·ä½“è¯·æ±‚ä¼šæ˜¯ä¸‹åˆ—ä»å·¦åˆ°å³çš„é¡ºåºï¼š 65ï¼Œ67ï¼Œ98ï¼Œ122ï¼Œ124ï¼Œ183ï¼Œ</span><code>199</code><span>ï¼Œ</span><code>0</code><span>ï¼Œ14ï¼Œ37ã€‚</span></p></li><li><p><span>ç£å¤´å…ˆå“åº”äº†å³è¾¹çš„è¯·æ±‚ï¼Œç›´åˆ°ç¢°åˆ°äº†æœ€å³ç«¯çš„ç£é“ 199ï¼Œå°±ç«‹å³å›åˆ°ç£ç›˜çš„å¼€å§‹å¤„ï¼ˆç£é“ 0ï¼‰ï¼Œä½†è¿™ä¸ªè¿”å›çš„é€”ä¸­æ˜¯ä¸å“åº”ä»»ä½•è¯·æ±‚çš„ï¼Œç›´åˆ°åˆ°è¾¾æœ€å¼€å§‹çš„ç£é“åï¼Œæ‰ç»§ç»­é¡ºåºå“åº”å³è¾¹çš„è¯·æ±‚ã€‚</span></p></li></ul></li><li><p><strong><span>LOOK ä¸ C-LOOK ç®—æ³•</span></strong><span>ï¼šæ‰«æç®—æ³•å’Œå¾ªç¯æ‰«æç®—æ³•ï¼Œéƒ½æ˜¯ç£å¤´ç§»åŠ¨åˆ°ç£ç›˜ã€Œæœ€å§‹ç«¯æˆ–æœ€æœ«ç«¯ã€æ‰å¼€å§‹è°ƒæ¢â½…å‘ã€‚é‚£è¿™å…¶å®æ˜¯å¯ä»¥ä¼˜åŒ–çš„ï¼Œä¼˜åŒ–çš„æ€è·¯å°±æ˜¯ç£å¤´åœ¨ç§»åŠ¨åˆ°ã€Œæœ€è¿œçš„è¯·æ±‚ã€ä½ç½®ï¼Œç„¶åâ½´å³åå‘ç§»åŠ¨ã€‚</span></p><ul><li><p><span>é‚£é’ˆå¯¹ SCAN ç®—æ³•çš„ä¼˜åŒ–åˆ™å« LOOK ç®—æ³•ï¼Œå®ƒçš„â¼¯ä½œâ½…å¼ï¼Œç£å¤´åœ¨æ¯ä¸ªâ½…å‘ä¸Šä»…ä»…ç§»åŠ¨åˆ°æœ€è¿œçš„è¯·æ±‚ä½ ç½®ï¼Œç„¶åâ½´å³åå‘ç§»åŠ¨ï¼Œâ½½ä¸éœ€è¦ç§»åŠ¨åˆ°ç£ç›˜çš„æœ€å§‹ç«¯æˆ–æœ€æœ«ç«¯ï¼Œ</span><strong><span>åå‘ç§»åŠ¨çš„é€”ä¸­ä¼šå“åº”è¯·æ±‚ã€‚</span></strong></p></li></ul><p><img src="assets/image-20240614162213508.png" alt="image-20240614162213508" style="zoom:20%;" /></p><ul><li><p><span>â½½é’ˆ C-SCAN ç®—æ³•çš„ä¼˜åŒ–åˆ™å« C-LOOKï¼Œå®ƒçš„â¼¯ä½œâ½…å¼ï¼Œç£å¤´åœ¨æ¯ä¸ªâ½…å‘ä¸Šä»…ä»…ç§»åŠ¨åˆ°æœ€è¿œçš„è¯·æ±‚ä½ç½®ï¼Œ ç„¶åâ½´å³åå‘ç§»åŠ¨ï¼Œâ½½ä¸éœ€è¦ç§»åŠ¨åˆ°ç£ç›˜çš„æœ€å§‹ç«¯æˆ–æœ€æœ«ç«¯ï¼Œ</span><strong><span>åå‘ç§»åŠ¨çš„é€”ä¸­ä¸ä¼šå“åº”è¯·æ±‚ã€‚</span></strong></p></li></ul></li></ul><p><img src="assets/image-20240614162155304.png" alt="image-20240614162155304" style="zoom:20%;" /></p><h1 id='æ–‡ä»¶ç³»ç»Ÿ'><span>æ–‡ä»¶ç³»ç»Ÿ</span></h1><ul><li><p><strong><span>æ–‡ä»¶ç³»ç»Ÿæ˜¯æ“ä½œç³»ç»Ÿä¸­è´Ÿè´£ç®¡ç†æŒä¹…æ•°æ®çš„å­ç³»ç»Ÿ</span></strong><span>ï¼Œè¯´ç®€å•ç‚¹ï¼Œå°±æ˜¯</span><strong><span>è´Ÿè´£æŠŠç”¨æˆ·çš„æ–‡ä»¶å­˜åˆ°ç£ç›˜ç¡¬ä»¶ä¸­</span></strong><span>ï¼Œå› ä¸ºå³ä½¿è®¡ç®—æœºæ–­ç”µäº†ï¼Œç£ç›˜é‡Œçš„æ•°æ®å¹¶ä¸ä¼šä¸¢å¤±ï¼Œæ‰€ä»¥å¯ä»¥æŒä¹…åŒ–çš„ä¿å­˜æ–‡ä»¶ã€‚</span></p></li><li><p><span>Linux æœ€ç»å…¸çš„ä¸€å¥è¯æ˜¯ï¼šã€Œ</span><strong><span>ä¸€åˆ‡çš†æ–‡ä»¶</span></strong><span>ã€ï¼Œä¸ä»…æ™®é€šçš„æ–‡ä»¶å’Œç›®å½•ï¼Œå°±è¿å—è®¾å¤‡ã€ç®¡é“ã€socket ç­‰ï¼Œä¹Ÿéƒ½æ˜¯ç»Ÿä¸€äº¤ç»™æ–‡ä»¶ç³»ç»Ÿç®¡ç†çš„ã€‚</span></p></li><li><p><strong><span>æ–‡ä»¶ç³»ç»Ÿçš„åŸºæœ¬æ“ä½œå•ä½æ˜¯æ•°æ®å—</span></strong><span>ã€‚</span></p></li></ul><h2 id='æ–‡ä»¶ç³»ç»Ÿçš„åŸºæœ¬ç»„æˆ'><span>æ–‡ä»¶ç³»ç»Ÿçš„åŸºæœ¬ç»„æˆ</span></h2><ul><li><p><span>æ–‡ä»¶ç³»ç»Ÿçš„åŸºæœ¬æ•°æ®å•ä½æ˜¯æ–‡ä»¶ï¼Œå®ƒçš„</span><strong><span>ç›®çš„æ˜¯å¯¹ç£ç›˜ä¸Šçš„æ–‡ä»¶è¿›è¡Œç»„ç»‡ç®¡ç†ï¼Œé‚£ç»„ç»‡çš„æ–¹å¼ä¸åŒï¼Œå°±ä¼šå½¢æˆä¸åŒçš„æ–‡ä»¶ç³»ç»Ÿ</span></strong><span>ã€‚</span></p></li><li><p><span>Linux æ–‡ä»¶ç³»ç»Ÿä¼šä¸ºæ¯ä¸ªæ–‡ä»¶åˆ†é…ä¸¤ä¸ªæ•°æ®ç»“æ„ï¼š</span><strong><span>ç´¢å¼•èŠ‚ç‚¹ï¼ˆindex nodeï¼‰å’Œç›®å½•é¡¹ï¼ˆdirectory entryï¼‰</span></strong><span>ï¼Œå®ƒä»¬ä¸»è¦ç”¨æ¥è®°å½•æ–‡ä»¶çš„å…ƒä¿¡æ¯å’Œç›®å½•å±‚æ¬¡ç»“æ„ã€‚</span></p><ul><li><p><span>ç´¢å¼•èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯ </span><em><span>inode</span></em><span>ï¼Œç”¨æ¥è®°å½•æ–‡ä»¶çš„å…ƒä¿¡æ¯ï¼Œæ¯”å¦‚ inode ç¼–å·ã€æ–‡ä»¶å¤§å°ã€è®¿é—®æƒé™ã€åˆ›å»ºæ—¶é—´ã€ä¿®æ”¹æ—¶é—´ã€</span><strong><span>æ•°æ®åœ¨ç£ç›˜çš„ä½ç½®</span></strong><span>ç­‰ç­‰ã€‚ç´¢å¼•èŠ‚ç‚¹æ˜¯æ–‡ä»¶çš„</span><strong><span>å”¯ä¸€</span></strong><span>æ ‡è¯†ï¼Œå®ƒä»¬ä¹‹é—´ä¸€ä¸€å¯¹åº”ï¼Œä¹ŸåŒæ ·éƒ½ä¼šè¢«å­˜å‚¨åœ¨ç¡¬ç›˜ä¸­ï¼Œæ‰€ä»¥</span><strong><span>ç´¢å¼•èŠ‚ç‚¹åŒæ ·å ç”¨ç£ç›˜ç©ºé—´</span></strong><span>ã€‚</span></p></li><li><p><span>ç›®å½•é¡¹ï¼Œä¹Ÿå°±æ˜¯ </span><em><span>dentry</span></em><span>ï¼Œç”¨æ¥è®°å½•æ–‡ä»¶çš„åå­—ã€</span><strong><span>ç´¢å¼•èŠ‚ç‚¹æŒ‡é’ˆ</span></strong><span>ä»¥åŠä¸å…¶ä»–ç›®å½•é¡¹çš„å±‚çº§å…³è”å…³ç³»ã€‚å¤šä¸ªç›®å½•é¡¹å…³è”èµ·æ¥ï¼Œå°±ä¼šå½¢æˆç›®å½•ç»“æ„ï¼Œä½†å®ƒä¸ç´¢å¼•èŠ‚ç‚¹ä¸åŒçš„æ˜¯ï¼Œ</span><strong><span>ç›®å½•é¡¹æ˜¯ç”±å†…æ ¸ç»´æŠ¤çš„ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œä¸å­˜æ”¾äºç£ç›˜ï¼Œè€Œæ˜¯ç¼“å­˜åœ¨å†…å­˜</span></strong><span>ã€‚</span></p></li></ul></li><li><p><span>ç”±äºç´¢å¼•èŠ‚ç‚¹å”¯ä¸€æ ‡è¯†ä¸€ä¸ªæ–‡ä»¶ï¼Œè€Œç›®å½•é¡¹è®°å½•ç€æ–‡ä»¶çš„åå­—ï¼Œæ‰€ä»¥ç›®å½•é¡¹å’Œç´¢å¼•èŠ‚ç‚¹çš„å…³ç³»æ˜¯å¤šå¯¹ä¸€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªæ–‡ä»¶å¯ä»¥æœ‰å¤šä¸ªåˆ«åã€‚æ¯”å¦‚ï¼Œç¡¬é“¾æ¥çš„å®ç°å°±æ˜¯å¤šä¸ªç›®å½•é¡¹ä¸­çš„ç´¢å¼•èŠ‚ç‚¹æŒ‡å‘åŒä¸€ä¸ªæ–‡ä»¶ã€‚</span></p></li><li><p><span>ç›®å½•ä¹Ÿæ˜¯æ–‡ä»¶ï¼Œä¹Ÿæ˜¯ç”¨ç´¢å¼•èŠ‚ç‚¹å”¯ä¸€æ ‡è¯†ï¼Œå’Œæ™®é€šæ–‡ä»¶ä¸åŒçš„æ˜¯ï¼Œæ™®é€šæ–‡ä»¶åœ¨ç£ç›˜é‡Œé¢ä¿å­˜çš„æ˜¯æ–‡ä»¶æ•°æ®ï¼Œè€Œç›®å½•æ–‡ä»¶åœ¨ç£ç›˜é‡Œé¢ä¿å­˜å­ç›®å½•æˆ–æ–‡ä»¶ã€‚</span></p></li><li><p><strong><span>ç›®å½•é¡¹å’Œç›®å½•æ˜¯ä¸€ä¸ªä¸œè¥¿å—ï¼Ÿ</span></strong></p><ul><li><p><span>ç›®å½•æ˜¯ä¸ªæ–‡ä»¶ï¼ŒæŒä¹…åŒ–å­˜å‚¨åœ¨ç£ç›˜ï¼Œè€Œç›®å½•é¡¹æ˜¯å†…æ ¸ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œç¼“å­˜åœ¨å†…å­˜ã€‚</span></p></li><li><p><span>å¦‚æœæŸ¥è¯¢ç›®å½•é¢‘ç¹ä»ç£ç›˜è¯»ï¼Œæ•ˆç‡ä¼šå¾ˆä½ï¼Œæ‰€ä»¥å†…æ ¸ä¼šæŠŠå·²ç»è¯»è¿‡çš„ç›®å½•ç”¨ç›®å½•é¡¹è¿™ä¸ªæ•°æ®ç»“æ„ç¼“å­˜åœ¨å†…å­˜ï¼Œä¸‹æ¬¡å†æ¬¡è¯»åˆ°ç›¸åŒçš„ç›®å½•æ—¶ï¼Œåªéœ€ä»å†…å­˜è¯»å°±å¯ä»¥ï¼Œå¤§å¤§æé«˜äº†æ–‡ä»¶ç³»ç»Ÿçš„æ•ˆç‡ã€‚</span></p></li><li><p><span>ç›®å½•é¡¹è¿™ä¸ªæ•°æ®ç»“æ„ä¸åªæ˜¯è¡¨ç¤ºç›®å½•ï¼Œä¹Ÿæ˜¯å¯ä»¥è¡¨ç¤ºæ–‡ä»¶çš„ã€‚</span></p></li></ul></li><li><p><strong><span>æ–‡ä»¶æ•°æ®æ˜¯å¦‚ä½•å­˜å‚¨åœ¨ç£ç›˜çš„å‘¢ï¼Ÿ</span></strong></p><ul><li><p><span>ç£ç›˜è¯»å†™çš„æœ€å°å•ä½æ˜¯</span><strong><span>æ‰‡åŒº</span></strong><span>ï¼Œæ‰‡åŒºçš„å¤§å°åªæœ‰ </span><code>512B</code><span> å¤§å°ï¼Œæ–‡ä»¶ç³»ç»ŸæŠŠå¤šä¸ªæ‰‡åŒºç»„æˆäº†ä¸€ä¸ª</span><strong><span>é€»è¾‘å—</span></strong><span>ï¼Œæ¯æ¬¡è¯»å†™çš„æœ€å°å•ä½å°±æ˜¯é€»è¾‘å—ï¼ˆæ•°æ®å—ï¼‰ï¼ŒLinux ä¸­çš„é€»è¾‘å—å¤§å°ä¸º </span><code>4KB</code><span>ï¼Œä¹Ÿå°±æ˜¯ä¸€æ¬¡æ€§è¯»å†™ 8 ä¸ªæ‰‡åŒºï¼Œè¿™å°†å¤§å¤§æé«˜äº†ç£ç›˜çš„è¯»å†™çš„æ•ˆç‡ã€‚</span></p></li></ul><p><img src="assets/image-20240614163558018.png" alt="image-20240614163558018" style="zoom:30%;" /></p><ul><li><p><span>ç´¢å¼•èŠ‚ç‚¹æ˜¯å­˜å‚¨åœ¨ç¡¬ç›˜ä¸Šçš„æ•°æ®ï¼Œé‚£ä¹ˆä¸ºäº†åŠ é€Ÿæ–‡ä»¶çš„è®¿é—®ï¼Œé€šå¸¸ä¼šæŠŠç´¢å¼•èŠ‚ç‚¹åŠ è½½åˆ°å†…å­˜ä¸­ã€‚</span></p></li><li><p><span>ç£ç›˜è¿›è¡Œæ ¼å¼åŒ–çš„æ—¶å€™ï¼Œä¼šè¢«åˆ†æˆä¸‰ä¸ªå­˜å‚¨åŒºåŸŸï¼Œåˆ†åˆ«æ˜¯è¶…çº§å—ã€ç´¢å¼•èŠ‚ç‚¹åŒºå’Œæ•°æ®å—åŒºã€‚</span></p><ul><li><p><em><span>è¶…çº§å—</span></em><span>ï¼Œç”¨æ¥å­˜å‚¨æ–‡ä»¶ç³»ç»Ÿçš„è¯¦ç»†ä¿¡æ¯ï¼Œæ¯”å¦‚å—ä¸ªæ•°ã€å—å¤§å°ã€ç©ºé—²å—ç­‰ç­‰ã€‚</span></p></li><li><p><em><span>ç´¢å¼•èŠ‚ç‚¹åŒº</span></em><span>ï¼Œç”¨æ¥å­˜å‚¨ç´¢å¼•èŠ‚ç‚¹ï¼›</span></p></li><li><p><em><span>æ•°æ®å—åŒº</span></em><span>ï¼Œç”¨æ¥å­˜å‚¨æ–‡ä»¶æˆ–ç›®å½•æ•°æ®ï¼›</span></p></li></ul></li><li><p><span>æˆ‘ä»¬ä¸å¯èƒ½æŠŠè¶…çº§å—å’Œç´¢å¼•èŠ‚ç‚¹åŒºå…¨éƒ¨åŠ è½½åˆ°å†…å­˜ï¼Œè¿™æ ·å†…å­˜è‚¯å®šæ’‘ä¸ä½ï¼Œæ‰€ä»¥åªæœ‰å½“éœ€è¦ä½¿ç”¨çš„æ—¶å€™ï¼Œæ‰å°†å…¶åŠ è½½è¿›å†…å­˜ï¼Œå®ƒä»¬åŠ è½½è¿›å†…å­˜çš„æ—¶æœºæ˜¯ä¸åŒçš„ï¼š</span></p><ul><li><p><span>è¶…çº§å—ï¼šå½“æ–‡ä»¶ç³»ç»ŸæŒ‚è½½æ—¶è¿›å…¥å†…å­˜ï¼›</span></p></li><li><p><span>ç´¢å¼•èŠ‚ç‚¹åŒºï¼šå½“æ–‡ä»¶è¢«è®¿é—®æ—¶è¿›å…¥å†…å­˜ï¼›</span></p></li></ul></li></ul></li></ul><h2 id='è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ'><span>è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ</span></h2><p><span>æ–‡ä»¶ç³»ç»Ÿçš„ç§ç±»ä¼—å¤šï¼Œè€Œæ“ä½œç³»ç»Ÿå¸Œæœ›</span><strong><span>å¯¹ç”¨æˆ·æä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£</span></strong><span>ï¼Œäºæ˜¯åœ¨ç”¨æˆ·å±‚ä¸æ–‡ä»¶ç³»ç»Ÿå±‚å¼•å…¥äº†ä¸­é—´å±‚ï¼Œè¿™ä¸ªä¸­é—´å±‚å°±ç§°ä¸º</span><strong><span>è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼ˆVirtual File Systemï¼ŒVFSï¼‰ã€‚</span></strong></p><p><span>VFS å®šä¹‰äº†ä¸€ç»„æ‰€æœ‰æ–‡ä»¶ç³»ç»Ÿéƒ½æ”¯æŒçš„æ•°æ®ç»“æ„å’Œæ ‡å‡†æ¥å£ï¼Œè¿™æ ·ç¨‹åºå‘˜ä¸éœ€è¦äº†è§£æ–‡ä»¶ç³»ç»Ÿçš„å·¥ä½œåŸç†ï¼Œåªéœ€è¦äº†è§£ VFS æä¾›çš„ç»Ÿä¸€æ¥å£å³å¯ã€‚</span></p><p><span>Linux æ”¯æŒçš„æ–‡ä»¶ç³»ç»Ÿä¹Ÿä¸å°‘ï¼Œæ ¹æ®å­˜å‚¨ä½ç½®çš„ä¸åŒï¼Œå¯ä»¥æŠŠæ–‡ä»¶ç³»ç»Ÿåˆ†ä¸ºä¸‰ç±»ï¼š</span></p><ul><li><p><em><span>ç£ç›˜çš„æ–‡ä»¶ç³»ç»Ÿ</span></em><span>ï¼Œå®ƒæ˜¯ç›´æ¥æŠŠæ•°æ®å­˜å‚¨åœ¨ç£ç›˜ä¸­ï¼Œæ¯”å¦‚ Ext 2/3/4ã€XFS ç­‰éƒ½æ˜¯è¿™ç±»æ–‡ä»¶ç³»ç»Ÿã€‚</span></p></li><li><p><em><span>å†…å­˜çš„æ–‡ä»¶ç³»ç»Ÿ</span></em><span>ï¼Œè¿™ç±»æ–‡ä»¶ç³»ç»Ÿçš„æ•°æ®ä¸æ˜¯å­˜å‚¨åœ¨ç¡¬ç›˜çš„ï¼Œè€Œæ˜¯å ç”¨å†…å­˜ç©ºé—´ï¼Œæˆ‘ä»¬ç»å¸¸ç”¨åˆ°çš„ </span><code>/proc</code><span> å’Œ </span><code>/sys</code><span> æ–‡ä»¶ç³»ç»Ÿéƒ½å±äºè¿™ä¸€ç±»ï¼Œè¯»å†™è¿™ç±»æ–‡ä»¶ï¼Œå®é™…ä¸Šæ˜¯è¯»å†™å†…æ ¸ä¸­ç›¸å…³çš„æ•°æ®ã€‚</span></p></li><li><p><em><span>ç½‘ç»œçš„æ–‡ä»¶ç³»ç»Ÿ</span></em><span>ï¼Œç”¨æ¥è®¿é—®å…¶ä»–è®¡ç®—æœºä¸»æœºæ•°æ®çš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ¯”å¦‚ NFSã€SMB ç­‰ç­‰ã€‚</span></p></li></ul><p><span>æ–‡ä»¶ç³»ç»Ÿé¦–å…ˆè¦å…ˆæŒ‚è½½åˆ°æŸä¸ªç›®å½•æ‰å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼Œæ¯”å¦‚ Linux ç³»ç»Ÿåœ¨å¯åŠ¨æ—¶ï¼Œä¼šæŠŠæ–‡ä»¶ç³»ç»ŸæŒ‚è½½åˆ°æ ¹ç›®å½•ã€‚</span></p><p><span>åœ¨ Linux æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œç”¨æˆ·ç©ºé—´ã€ç³»ç»Ÿè°ƒç”¨ã€è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿã€ç¼“å­˜ã€æ–‡ä»¶ç³»ç»Ÿä»¥åŠå­˜å‚¨ä¹‹é—´çš„å…³ç³»å¦‚ä¸‹å›¾ï¼š</span></p><p><img src="assets/image-20240614164000198.png" alt="image-20240614164000198" style="zoom:25%;" /></p><h2 id='æ–‡ä»¶çš„ä½¿ç”¨'><span>æ–‡ä»¶çš„ä½¿ç”¨</span></h2><p><span>æˆ‘ä»¬ä»ç”¨æˆ·è§’åº¦æ¥çœ‹æ–‡ä»¶çš„è¯ï¼Œå°±æ˜¯æˆ‘ä»¬è¦æ€ä¹ˆä½¿ç”¨æ–‡ä»¶ï¼Ÿé¦–å…ˆï¼Œæˆ‘ä»¬å¾—é€šè¿‡ç³»ç»Ÿè°ƒç”¨æ¥æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ã€‚</span></p><p><img src="assets/image-20240614164142100.png" alt="image-20240614164142100" style="zoom:30%;" /></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="c"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="c"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: currentcolor;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">fd</span> <span class="cm-operator">=</span> <span class="cm-variable">open</span>(<span class="cm-variable">name</span>, <span class="cm-variable">flag</span>); <span class="cm-variable">#</span> <span class="cm-variable">æ‰“å¼€æ–‡ä»¶</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">write</span>(<span class="cm-variable">fd</span>,...); &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">#</span> <span class="cm-variable">å†™æ•°æ®</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">...</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">close</span>(<span class="cm-variable">fd</span>); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="cm-variable">#</span> <span class="cm-variable">å…³é—­æ–‡ä»¶</span></span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 115px;"></div><div class="CodeMirror-gutters" style="display: none; height: 115px;"></div></div></div></pre><p><strong><span>ä¸Šé¢ç®€å•çš„ä»£ç æ˜¯è¯»å–ä¸€ä¸ªæ–‡ä»¶çš„è¿‡ç¨‹ï¼š</span></strong></p><ul><li><p><span>é¦–å…ˆç”¨ </span><code>open</code><span> ç³»ç»Ÿè°ƒç”¨æ‰“å¼€æ–‡ä»¶ï¼Œ</span><code>open</code><span> çš„å‚æ•°ä¸­åŒ…å«æ–‡ä»¶çš„è·¯å¾„åå’Œæ–‡ä»¶åã€‚</span></p></li><li><p><span>ä½¿ç”¨ </span><code>write</code><span> å†™æ•°æ®ï¼Œå…¶ä¸­ </span><code>write</code><span> ä½¿ç”¨ </span><code>open</code><span> æ‰€è¿”å›çš„</span><strong><span>æ–‡ä»¶æè¿°ç¬¦</span></strong><span>ï¼Œå¹¶ä¸ä½¿ç”¨æ–‡ä»¶åä½œä¸ºå‚æ•°ã€‚</span></p></li><li><p><span>ä½¿ç”¨å®Œæ–‡ä»¶åï¼Œè¦ç”¨ </span><code>close</code><span> ç³»ç»Ÿè°ƒç”¨å…³é—­æ–‡ä»¶ï¼Œé¿å…èµ„æºçš„æ³„éœ²ã€‚</span></p></li></ul><p><span>æˆ‘ä»¬æ‰“å¼€äº†ä¸€ä¸ªæ–‡ä»¶åï¼Œæ“ä½œç³»ç»Ÿä¼šè·Ÿè¸ªè¿›ç¨‹æ‰“å¼€çš„æ‰€æœ‰æ–‡ä»¶ï¼Œæ‰€è°“çš„è·Ÿè¸ªå‘¢ï¼Œå°±æ˜¯æ“ä½œç³»ç»Ÿä¸ºæ¯ä¸ªè¿›ç¨‹ç»´æŠ¤ä¸€ä¸ªæ‰“å¼€æ–‡ä»¶è¡¨ï¼Œæ–‡ä»¶è¡¨é‡Œçš„æ¯ä¸€é¡¹ä»£è¡¨ã€Œ</span><strong><span>æ–‡ä»¶æè¿°ç¬¦</span></strong><span>ã€ï¼Œæ‰€ä»¥è¯´æ–‡ä»¶æè¿°ç¬¦æ˜¯æ‰“å¼€æ–‡ä»¶çš„æ ‡è¯†ã€‚</span></p><p><strong><span>æ“ä½œç³»ç»Ÿåœ¨æ‰“å¼€æ–‡ä»¶è¡¨ä¸­ç»´æŠ¤ç€æ‰“å¼€æ–‡ä»¶çš„çŠ¶æ€å’Œä¿¡æ¯ï¼š</span></strong></p><ul><li><p><strong><span>æ–‡ä»¶æŒ‡é’ˆ</span></strong><span>ï¼šç³»ç»Ÿè·Ÿè¸ªä¸Šæ¬¡è¯»å†™ä½ç½®ä½œä¸ºå½“å‰æ–‡ä»¶ä½ç½®æŒ‡é’ˆï¼Œè¿™ç§æŒ‡é’ˆå¯¹æ‰“å¼€æ–‡ä»¶çš„æŸä¸ªè¿›ç¨‹æ¥è¯´æ˜¯å”¯ä¸€çš„ï¼›</span></p></li><li><p><strong><span>æ–‡ä»¶æ‰“å¼€è®¡æ•°å™¨</span></strong><span>ï¼šæ–‡ä»¶å…³é—­æ—¶ï¼Œæ“ä½œç³»ç»Ÿå¿…é¡»é‡ç”¨å…¶æ‰“å¼€æ–‡ä»¶è¡¨æ¡ç›®ï¼Œå¦åˆ™è¡¨å†…ç©ºé—´ä¸å¤Ÿç”¨ã€‚å› ä¸ºå¤šä¸ªè¿›ç¨‹å¯èƒ½æ‰“å¼€åŒä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥ç³»ç»Ÿåœ¨åˆ é™¤æ‰“å¼€æ–‡ä»¶æ¡ç›®ä¹‹å‰ï¼Œå¿…é¡»ç­‰å¾…æœ€åä¸€ä¸ªè¿›ç¨‹å…³é—­æ–‡ä»¶ï¼Œè¯¥è®¡æ•°å™¨è·Ÿè¸ªæ‰“å¼€å’Œå…³é—­çš„æ•°é‡ï¼Œå½“è¯¥è®¡æ•°ä¸º 0 æ—¶ï¼Œç³»ç»Ÿå…³é—­æ–‡ä»¶ï¼Œåˆ é™¤è¯¥æ¡ç›®ï¼›</span></p></li><li><p><strong><span>æ–‡ä»¶ç£ç›˜ä½ç½®</span></strong><span>ï¼šç»å¤§å¤šæ•°æ–‡ä»¶æ“ä½œéƒ½è¦æ±‚ç³»ç»Ÿä¿®æ”¹æ–‡ä»¶æ•°æ®ï¼Œè¯¥ä¿¡æ¯ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œä»¥å…æ¯ä¸ªæ“ä½œéƒ½ä»ç£ç›˜ä¸­è¯»å–ï¼›</span></p></li><li><p><strong><span>è®¿é—®æƒé™</span></strong><span>ï¼šæ¯ä¸ªè¿›ç¨‹æ‰“å¼€æ–‡ä»¶éƒ½éœ€è¦æœ‰ä¸€ä¸ªè®¿é—®æ¨¡å¼ï¼ˆåˆ›å»ºã€åªè¯»ã€è¯»å†™ã€æ·»åŠ ç­‰ï¼‰ï¼Œè¯¥ä¿¡æ¯ä¿å­˜åœ¨è¿›ç¨‹çš„æ‰“å¼€æ–‡ä»¶è¡¨ä¸­ï¼Œä»¥ä¾¿æ“ä½œç³»ç»Ÿèƒ½å…è®¸æˆ–æ‹’ç»ä¹‹åçš„ I/O è¯·æ±‚ï¼›</span></p></li></ul><p><strong><span>è¯»æ–‡ä»¶å’Œå†™æ–‡ä»¶çš„è¿‡ç¨‹ï¼š</span></strong></p><ul><li><p><span>å½“ç”¨æˆ·è¿›ç¨‹ä»æ–‡ä»¶è¯»å– 1 ä¸ªå­—èŠ‚å¤§å°çš„æ•°æ®æ—¶ï¼Œæ–‡ä»¶ç³»ç»Ÿåˆ™éœ€è¦è·å–å­—èŠ‚æ‰€åœ¨çš„æ•°æ®å—ï¼Œå†è¿”å›æ•°æ®å—å¯¹åº”çš„ç”¨æˆ·è¿›ç¨‹æ‰€éœ€çš„æ•°æ®éƒ¨åˆ†ã€‚</span></p></li><li><p><span>å½“ç”¨æˆ·è¿›ç¨‹æŠŠ 1 ä¸ªå­—èŠ‚å¤§å°çš„æ•°æ®å†™è¿›æ–‡ä»¶æ—¶ï¼Œæ–‡ä»¶ç³»ç»Ÿåˆ™æ‰¾åˆ°éœ€è¦å†™å…¥æ•°æ®çš„æ•°æ®å—çš„ä½ç½®ï¼Œç„¶åä¿®æ”¹æ•°æ®å—ä¸­å¯¹åº”çš„éƒ¨åˆ†ï¼Œæœ€åå†æŠŠæ•°æ®å—å†™å›ç£ç›˜ã€‚</span></p></li></ul><h2 id='æ–‡ä»¶çš„å­˜å‚¨'><span>æ–‡ä»¶çš„å­˜å‚¨</span></h2><p><span>æ–‡ä»¶çš„æ•°æ®æ˜¯è¦å­˜å‚¨åœ¨ç¡¬ç›˜ä¸Šé¢çš„ï¼Œæ•°æ®åœ¨ç£ç›˜ä¸Šçš„å­˜æ”¾æ–¹å¼ï¼Œå°±åƒç¨‹åºåœ¨å†…å­˜ä¸­å­˜æ”¾çš„æ–¹å¼é‚£æ ·ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§ï¼š</span><strong><span>è¿ç»­ç©ºé—´å­˜æ”¾æ–¹å¼</span></strong><span>å’Œ</span><strong><span>éè¿ç»­ç©ºé—´å­˜æ”¾æ–¹å¼</span></strong><span>ã€‚ä¸­ï¼Œéè¿ç»­ç©ºé—´å­˜æ”¾æ–¹å¼åˆå¯ä»¥åˆ†ä¸ºã€Œé“¾è¡¨æ–¹å¼ã€å’Œã€Œç´¢å¼•æ–¹å¼ã€ã€‚ä¸åŒçš„å­˜å‚¨æ–¹å¼ï¼Œæœ‰å„è‡ªçš„ç‰¹ç‚¹ï¼Œé‡ç‚¹æ˜¯è¦åˆ†æå®ƒä»¬çš„å­˜å‚¨æ•ˆç‡å’Œè¯»å†™æ€§èƒ½ã€‚</span></p><p><img src="assets/image-20240614171258413.png" alt="image-20240614171258413" style="zoom:30%;" /></p><ul><li><p><strong><span>è¿ç»­ç©ºé—´å­˜æ”¾æ–¹å¼</span></strong></p><p><img src="assets/image-20240614170618325.png" alt="image-20240614170618325" style="zoom:20%;" /></p><ul><li><p><span>è¿ç»­ç©ºé—´å­˜æ”¾æ–¹å¼é¡¾åæ€ä¹‰ï¼Œ</span><strong><span>æ–‡ä»¶å­˜æ”¾åœ¨ç£ç›˜ã€Œè¿ç»­çš„ã€ç‰©ç†ç©ºé—´ä¸­</span></strong><span>ã€‚è¿™ç§æ¨¡å¼ä¸‹ï¼Œæ–‡ä»¶çš„æ•°æ®éƒ½æ˜¯ç´§å¯†ç›¸è¿ï¼Œ</span><strong><span>è¯»å†™æ•ˆç‡å¾ˆé«˜</span></strong><span>ï¼Œå› ä¸ºä¸€æ¬¡ç£ç›˜å¯»é“å°±å¯ä»¥è¯»å‡ºæ•´ä¸ªæ–‡ä»¶ã€‚</span></p></li><li><p><span>ä½¿ç”¨è¿ç»­å­˜æ”¾çš„æ–¹å¼æœ‰ä¸€ä¸ªå‰æï¼Œå¿…é¡»å…ˆçŸ¥é“ä¸€ä¸ªæ–‡ä»¶çš„å¤§å°ï¼Œè¿™æ ·æ–‡ä»¶ç³»ç»Ÿæ‰ä¼šæ ¹æ®æ–‡ä»¶çš„å¤§å°åœ¨ç£ç›˜ä¸Šæ‰¾åˆ°ä¸€å—è¿ç»­çš„ç©ºé—´åˆ†é…ç»™æ–‡ä»¶ã€‚æ‰€ä»¥ï¼Œ</span><strong><span>æ–‡ä»¶å¤´é‡Œéœ€è¦æŒ‡å®šã€Œèµ·å§‹å—çš„ä½ç½®ã€å’Œã€Œé•¿åº¦ã€</span></strong><span>ï¼Œæœ‰äº†è¿™ä¸¤ä¸ªä¿¡æ¯å°±å¯ä»¥å¾ˆå¥½çš„è¡¨ç¤ºæ–‡ä»¶å­˜æ”¾æ–¹å¼æ˜¯ä¸€å—è¿ç»­çš„ç£ç›˜ç©ºé—´ã€‚(æ­¤å¤„è¯´çš„æ–‡ä»¶å¤´ï¼Œå°±ç±»ä¼¼äº Linux çš„ inodeã€‚)</span></p></li><li><p><span>è¿ç»­ç©ºé—´å­˜æ”¾çš„æ–¹å¼è™½ç„¶è¯»å†™æ•ˆç‡é«˜ï¼Œ</span><strong><span>ä½†æ˜¯æœ‰ã€Œç£ç›˜ç©ºé—´ç¢ç‰‡ã€å’Œã€Œæ–‡ä»¶é•¿åº¦ä¸æ˜“æ‰©å±•ã€çš„ç¼ºé™·ã€‚</span></strong></p><ul><li><p><span>ç£ç›˜ç©ºé—´ç¢ç‰‡ï¼šæ–‡ä»¶åˆ é™¤åç•™ä¸‹çš„ç©ºä½ï¼Œä¸è¶³ä»¥æ”¾ä¸‹åé¢çš„æ–°æ–‡ä»¶ã€‚</span></p></li><li><p><span>æ–‡ä»¶é•¿åº¦ä¸æ˜“æ‰©å±•ï¼šå½“æ–‡ä»¶éœ€è¦æ‰©å¤§æ—¶ï¼Œéœ€è¦æ›´å¤šçš„ç£ç›˜ç©ºé—´ï¼Œå”¯ä¸€çš„åŠæ³•å°±åªèƒ½æ˜¯æŒªåŠ¨çš„æ–¹å¼ï¼Œè¿™ç§æ–¹å¼æ•ˆç‡éå¸¸ä½ã€‚</span></p></li></ul></li></ul></li><li><p><strong><span>éè¿ç»­ç©ºé—´å­˜æ”¾æ–¹å¼</span></strong></p><ul><li><p><span>é“¾è¡¨æ–¹å¼</span></p><p><img src="assets/image-20240614170637893.png" alt="image-20240614170637893" style="zoom:25%;" /><img src="assets/image-20240614170817015.png" alt="image-20240614170817015" style="zoom:15%;" /></p><ul><li><p><span>é“¾è¡¨çš„æ–¹å¼å­˜æ”¾æ˜¯</span><strong><span>ç¦»æ•£çš„ï¼Œä¸ç”¨è¿ç»­çš„</span></strong><span>ï¼Œäºæ˜¯å°±å¯ä»¥</span><strong><span>æ¶ˆé™¤ç£ç›˜ç¢ç‰‡</span></strong><span>ï¼Œå¯å¤§å¤§æé«˜ç£ç›˜ç©ºé—´çš„åˆ©ç”¨ç‡ï¼ŒåŒæ—¶</span><strong><span>æ–‡ä»¶çš„é•¿åº¦å¯ä»¥åŠ¨æ€æ‰©å±•</span></strong><span>ã€‚æ ¹æ®å®ç°çš„æ–¹å¼çš„ä¸åŒï¼Œé“¾è¡¨å¯åˆ†ä¸ºã€Œ</span><strong><span>éšå¼é“¾è¡¨</span></strong><span>ã€å’Œã€Œ</span><strong><span>æ˜¾å¼é“¾æ¥</span></strong><span>ã€ä¸¤ç§å½¢å¼ã€‚</span></p></li><li><p><span>æ–‡ä»¶è¦ä»¥ã€Œ</span><strong><span>éšå¼é“¾è¡¨</span></strong><span>ã€çš„æ–¹å¼å­˜æ”¾çš„è¯ï¼Œ</span><strong><span>å®ç°çš„æ–¹å¼æ˜¯æ–‡ä»¶å¤´è¦åŒ…å«ã€Œç¬¬ä¸€å—ã€å’Œã€Œæœ€åä¸€å—ã€çš„ä½ç½®ï¼Œå¹¶ä¸”æ¯ä¸ªæ•°æ®å—é‡Œé¢ç•™å‡ºä¸€ä¸ªæŒ‡é’ˆç©ºé—´ï¼Œç”¨æ¥å­˜æ”¾ä¸‹ä¸€ä¸ªæ•°æ®å—çš„ä½ç½®</span></strong><span>ï¼Œè¿™æ ·ä¸€ä¸ªæ•°æ®å—è¿ç€ä¸€ä¸ªæ•°æ®å—ï¼Œä»é“¾å¤´å¼€å§‹å°±å¯ä»¥é¡ºç€æŒ‡é’ˆæ‰¾åˆ°æ‰€æœ‰çš„æ•°æ®å—ï¼Œæ‰€ä»¥å­˜æ”¾çš„æ–¹å¼å¯ä»¥æ˜¯ä¸è¿ç»­çš„ã€‚</span></p></li><li><p><span>éšå¼é“¾è¡¨çš„å­˜æ”¾æ–¹å¼çš„</span><strong><span>ç¼ºç‚¹åœ¨äºæ— æ³•ç›´æ¥è®¿é—®æ•°æ®å—ï¼Œåªèƒ½é€šè¿‡æŒ‡é’ˆé¡ºåºè®¿é—®æ–‡ä»¶ï¼Œä»¥åŠæ•°æ®å—æŒ‡é’ˆæ¶ˆè€—äº†ä¸€å®šçš„å­˜å‚¨ç©ºé—´</span></strong><span>ã€‚éšå¼é“¾æ¥åˆ†é…çš„</span><strong><span>ç¨³å®šæ€§è¾ƒå·®</span></strong><span>ï¼Œç³»ç»Ÿåœ¨è¿è¡Œè¿‡ç¨‹ä¸­ç”±äºè½¯ä»¶æˆ–è€…ç¡¬ä»¶é”™è¯¯</span><strong><span>å¯¼è‡´é“¾è¡¨ä¸­çš„æŒ‡é’ˆä¸¢å¤±æˆ–æŸåï¼Œä¼šå¯¼è‡´æ–‡ä»¶æ•°æ®çš„ä¸¢å¤±ã€‚</span></strong></p></li><li><p><span>å¦‚æœå–å‡ºæ¯ä¸ªç£ç›˜å—çš„æŒ‡é’ˆï¼ŒæŠŠå®ƒæ”¾åœ¨å†…å­˜çš„ä¸€ä¸ªè¡¨ä¸­ï¼Œå°±å¯ä»¥è§£å†³ä¸Šè¿°éšå¼é“¾è¡¨çš„ä¸¤ä¸ªä¸è¶³ã€‚é‚£ä¹ˆï¼Œè¿™ç§å®ç°æ–¹å¼æ˜¯ã€Œ</span><strong><span>æ˜¾å¼é“¾æ¥</span></strong><span>ã€ï¼Œå®ƒæŒ‡</span><strong><span>æŠŠç”¨äºé“¾æ¥æ–‡ä»¶å„æ•°æ®å—çš„æŒ‡é’ˆï¼Œæ˜¾å¼åœ°å­˜æ”¾åœ¨å†…å­˜çš„ä¸€å¼ é“¾æ¥è¡¨ä¸­</span></strong><span>ï¼Œè¯¥è¡¨åœ¨æ•´ä¸ªç£ç›˜ä»…è®¾ç½®ä¸€å¼ ï¼Œ</span><strong><span>æ¯ä¸ªè¡¨é¡¹ä¸­å­˜æ”¾é“¾æ¥æŒ‡é’ˆï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªæ•°æ®å—å·</span></strong><span>ã€‚å†…å­˜ä¸­çš„è¿™æ ·ä¸€ä¸ªè¡¨æ ¼ç§°ä¸º</span><strong><span>æ–‡ä»¶åˆ†é…è¡¨ï¼ˆFile Allocation Tableï¼ŒFATï¼‰</span></strong><span>ã€‚ï¼ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰</span></p></li><li><p><span>ç”±äºæŸ¥æ‰¾è®°å½•çš„è¿‡ç¨‹æ˜¯åœ¨å†…å­˜ä¸­è¿›è¡Œçš„ï¼Œå› è€Œä¸ä»…æ˜¾è‘—åœ°</span><strong><span>æé«˜äº†æ£€ç´¢é€Ÿåº¦</span></strong><span>ï¼Œè€Œä¸”</span><strong><span>å¤§å¤§å‡å°‘äº†è®¿é—®ç£ç›˜çš„æ¬¡æ•°</span></strong><span>ã€‚ä½†ä¹Ÿæ­£æ˜¯æ•´ä¸ªè¡¨éƒ½å­˜æ”¾åœ¨å†…å­˜ä¸­çš„å…³ç³»ï¼Œå®ƒçš„ä¸»è¦çš„ç¼ºç‚¹æ˜¯</span><strong><span>ä¸é€‚ç”¨äºå¤§ç£ç›˜</span></strong><span>ã€‚(æ¯”å¦‚ï¼Œå¯¹äº 200GB çš„ç£ç›˜å’Œ 1KB å¤§å°çš„å—ï¼Œè¿™å¼ è¡¨éœ€è¦æœ‰ 2 äº¿é¡¹ï¼Œæ¯ä¸€é¡¹å¯¹åº”äºè¿™ 2 äº¿ä¸ªç£ç›˜å—ä¸­çš„ä¸€ä¸ªå—ï¼Œæ¯é¡¹å¦‚æœéœ€è¦ 4 ä¸ªå­—èŠ‚ï¼Œé‚£è¿™å¼ è¡¨è¦å ç”¨ 800MB å†…å­˜ï¼Œå¾ˆæ˜¾ç„¶ FAT æ–¹æ¡ˆå¯¹äºå¤§ç£ç›˜è€Œè¨€ä¸å¤ªåˆé€‚ã€‚)</span></p></li></ul></li><li><p><strong><span>ç´¢å¼•çš„æ–¹å¼</span></strong><span>     </span></p><p><span>                                                            </span><img src="assets/image-20240614170345482.png" alt="image-20240614170345482" style="zoom:25%;" /><span>    </span></p><ul><li><p><span>é“¾è¡¨çš„æ–¹å¼è§£å†³äº†è¿ç»­åˆ†é…çš„ç£ç›˜ç¢ç‰‡å’Œæ–‡ä»¶åŠ¨æ€æ‰©å±•çš„é—®é¢˜ï¼Œä½†æ˜¯ä¸èƒ½æœ‰æ•ˆæ”¯æŒç›´æ¥è®¿é—®ï¼ˆFATé™¤å¤–ï¼‰ï¼Œç´¢å¼•çš„æ–¹å¼å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</span></p></li><li><p><span>ç´¢å¼•çš„å®ç°æ˜¯ä¸ºæ¯ä¸ªæ–‡ä»¶åˆ›å»ºä¸€ä¸ªã€Œ</span><strong><span>ç´¢å¼•æ•°æ®å—</span></strong><span>ã€ï¼Œé‡Œé¢å­˜æ”¾çš„æ˜¯</span><strong><span>æŒ‡å‘æ–‡ä»¶æ•°æ®å—çš„æŒ‡é’ˆåˆ—è¡¨</span></strong><span>ï¼Œè¯´ç™½äº†å°±åƒä¹¦çš„ç›®å½•ä¸€æ ·ï¼Œè¦æ‰¾å“ªä¸ªç« èŠ‚çš„å†…å®¹ï¼Œçœ‹ç›®å½•æŸ¥å°±å¯ä»¥ã€‚</span></p></li><li><p><strong><span>æ–‡ä»¶å¤´éœ€è¦åŒ…å«æŒ‡å‘ã€Œç´¢å¼•æ•°æ®å—ã€çš„æŒ‡é’ˆ</span></strong><span>ï¼Œè¿™æ ·å°±å¯ä»¥é€šè¿‡æ–‡ä»¶å¤´çŸ¥é“ç´¢å¼•æ•°æ®å—çš„ä½ç½®ï¼Œå†é€šè¿‡ç´¢å¼•æ•°æ®å—é‡Œçš„ç´¢å¼•ä¿¡æ¯æ‰¾åˆ°å¯¹åº”çš„æ•°æ®å—ã€‚</span></p></li><li><p><span>åˆ›å»ºæ–‡ä»¶æ—¶ï¼Œç´¢å¼•å—çš„æ‰€æœ‰æŒ‡é’ˆéƒ½è®¾ä¸ºç©ºã€‚å½“é¦–æ¬¡å†™å…¥ç¬¬ i å—æ—¶ï¼Œå…ˆä»ç©ºé—²ç©ºé—´ä¸­å–å¾—ä¸€ä¸ªå—ï¼Œå†å°†å…¶åœ°å€å†™åˆ°ç´¢å¼•å—çš„ç¬¬ i ä¸ªæ¡ç›®ã€‚</span></p></li><li><p><span>ç´¢å¼•çš„æ–¹å¼ä¼˜ç‚¹åœ¨äºï¼šæ–‡ä»¶çš„åˆ›å»ºã€å¢å¤§ã€ç¼©å°å¾ˆæ–¹ä¾¿ï¼›ä¸ä¼šæœ‰ç¢ç‰‡çš„é—®é¢˜ï¼›æ”¯æŒé¡ºåºè¯»å†™å’Œéšæœºè¯»å†™ã€‚</span></p></li><li><p><span>ç”±äºç´¢å¼•æ•°æ®ä¹Ÿæ˜¯å­˜æ”¾åœ¨ç£ç›˜å—çš„ï¼Œå¦‚æœæ–‡ä»¶å¾ˆå°ï¼Œæ˜æ˜åªéœ€ä¸€å—å°±å¯ä»¥å­˜æ”¾çš„ä¸‹ï¼Œä½†è¿˜æ˜¯éœ€è¦é¢å¤–åˆ†é…ä¸€å—æ¥å­˜æ”¾ç´¢å¼•æ•°æ®ï¼Œæ‰€ä»¥ç¼ºé™·ä¹‹ä¸€å°±æ˜¯å­˜å‚¨ç´¢å¼•å¸¦æ¥çš„å¼€é”€ã€‚</span></p></li><li><p><span>å¦‚æœæ–‡ä»¶å¾ˆå¤§ï¼Œå¤§åˆ°ä¸€ä¸ªç´¢å¼•æ•°æ®å—æ”¾ä¸ä¸‹ç´¢å¼•ä¿¡æ¯ï¼Œè¿™æ—¶åˆè¦å¦‚ä½•å¤„ç†å¤§æ–‡ä»¶çš„å­˜æ”¾å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥é€šè¿‡ç»„åˆçš„æ–¹å¼ï¼Œæ¥å¤„ç†å¤§æ–‡ä»¶çš„å­˜ã€‚</span></p><ul><li><p><span>ä¸€ç§æ˜¯é“¾è¡¨ + ç´¢å¼•çš„ç»„åˆï¼Œè¿™ç§ç»„åˆç§°ä¸ºã€Œ</span><strong><span>é“¾å¼ç´¢å¼•å—</span></strong><span>ã€ï¼Œå®ƒçš„å®ç°æ–¹å¼æ˜¯</span><strong><span>åœ¨ç´¢å¼•æ•°æ®å—ç•™å‡ºä¸€ä¸ªå­˜æ”¾ä¸‹ä¸€ä¸ªç´¢å¼•æ•°æ®å—çš„æŒ‡é’ˆ</span></strong><span>ï¼Œäºæ˜¯å½“ä¸€ä¸ªç´¢å¼•æ•°æ®å—çš„ç´¢å¼•ä¿¡æ¯ç”¨å®Œäº†ï¼Œå°±å¯ä»¥é€šè¿‡æŒ‡é’ˆçš„æ–¹å¼ï¼Œæ‰¾åˆ°ä¸‹ä¸€ä¸ªç´¢å¼•æ•°æ®å—çš„ä¿¡æ¯ã€‚é‚£è¿™ç§æ–¹å¼ä¹Ÿä¼šå‡ºç°å‰é¢æåˆ°çš„é“¾è¡¨æ–¹å¼çš„é—®é¢˜ï¼Œä¸‡ä¸€æŸä¸ªæŒ‡é’ˆæŸåäº†ï¼Œåé¢çš„æ•°æ®ä¹Ÿå°±ä¼šæ— æ³•è¯»å–äº†ã€‚</span></p><p><img src="assets/image-20240614171123315.png" alt="image-20240614171123315" style="zoom:15%;" /></p></li><li><p><span>å¦å¤–ä¸€ç§ç»„åˆæ–¹å¼æ˜¯ç´¢å¼• + ç´¢å¼•çš„æ–¹å¼ï¼Œè¿™ç§ç»„åˆç§°ä¸ºã€Œ</span><strong><span>å¤šçº§ç´¢å¼•å—</span></strong><span>ã€ï¼Œå®ç°æ–¹å¼æ˜¯</span><strong><span>é€šè¿‡ä¸€ä¸ªç´¢å¼•å—æ¥å­˜æ”¾å¤šä¸ªç´¢å¼•æ•°æ®å—</span></strong><span>ï¼Œä¸€å±‚å¥—ä¸€å±‚ç´¢å¼•ã€‚</span></p></li></ul><p><span>                                                        </span><img src="assets/image-20240614171204898.png" alt="image-20240614171204898" style="zoom:25%;" /></p></li></ul></li></ul><p><span>æ—©æœŸ Unix æ–‡ä»¶ç³»ç»Ÿæ˜¯æ ¹æ®æ–‡ä»¶çš„å¤§å°ï¼Œå­˜æ”¾çš„æ–¹å¼ä¼šæœ‰æ‰€å˜åŒ–ï¼š</span></p><ul><li><p><span>å¦‚æœå­˜æ”¾æ–‡ä»¶æ‰€éœ€çš„æ•°æ®å—å°äº 10 å—ï¼Œåˆ™é‡‡ç”¨ç›´æ¥æŸ¥æ‰¾çš„æ–¹å¼ï¼›</span></p></li><li><p><span>å¦‚æœå­˜æ”¾æ–‡ä»¶æ‰€éœ€çš„æ•°æ®å—è¶…è¿‡ 10 å—ï¼Œåˆ™é‡‡ç”¨ä¸€çº§é—´æ¥ç´¢å¼•æ–¹å¼ï¼›</span></p></li><li><p><span>å¦‚æœå‰é¢ä¸¤ç§æ–¹å¼éƒ½ä¸å¤Ÿå­˜æ”¾å¤§æ–‡ä»¶ï¼Œåˆ™é‡‡ç”¨äºŒçº§é—´æ¥ç´¢å¼•æ–¹å¼ï¼›</span></p></li><li><p><span>å¦‚æœäºŒçº§é—´æ¥ç´¢å¼•ä¹Ÿä¸å¤Ÿå­˜æ”¾å¤§æ–‡ä»¶ï¼Œè¿™é‡‡ç”¨ä¸‰çº§é—´æ¥ç´¢å¼•æ–¹å¼ï¼›</span></p></li></ul><p><span>é‚£ä¹ˆï¼Œæ–‡ä»¶å¤´ï¼ˆ</span><em><span>Inode</span></em><span>ï¼‰å°±éœ€è¦åŒ…å« 13 ä¸ªæŒ‡é’ˆï¼š</span></p><ul><li><p><span>10 ä¸ªæŒ‡å‘æ•°æ®å—çš„æŒ‡é’ˆï¼›</span></p></li><li><p><span>ç¬¬ 11 ä¸ªæŒ‡å‘ç´¢å¼•å—çš„æŒ‡é’ˆï¼›</span></p></li><li><p><span>ç¬¬ 12 ä¸ªæŒ‡å‘äºŒçº§ç´¢å¼•å—çš„æŒ‡é’ˆï¼›</span></p></li><li><p><span>ç¬¬ 13 ä¸ªæŒ‡å‘ä¸‰çº§ç´¢å¼•å—çš„æŒ‡é’ˆï¼›</span></p></li></ul><p><span>æ‰€ä»¥ï¼Œè¿™ç§æ–¹å¼èƒ½å¾ˆçµæ´»åœ°æ”¯æŒå°æ–‡ä»¶å’Œå¤§æ–‡ä»¶çš„å­˜æ”¾ï¼š</span></p><ul><li><p><span>å¯¹äºå°æ–‡ä»¶ä½¿ç”¨ç›´æ¥æŸ¥æ‰¾çš„æ–¹å¼å¯å‡å°‘ç´¢å¼•æ•°æ®å—çš„å¼€é”€ï¼›</span></p></li><li><p><span>å¯¹äºå¤§æ–‡ä»¶åˆ™ä»¥å¤šçº§ç´¢å¼•çš„æ–¹å¼æ¥æ”¯æŒï¼Œæ‰€ä»¥å¤§æ–‡ä»¶åœ¨è®¿é—®æ•°æ®å—æ—¶éœ€è¦å¤§é‡æŸ¥è¯¢ï¼›</span></p></li></ul><p><span>è¿™ä¸ªæ–¹æ¡ˆå°±ç”¨åœ¨äº† Linux Ext 2/3 æ–‡ä»¶ç³»ç»Ÿé‡Œï¼Œè™½ç„¶è§£å†³å¤§æ–‡ä»¶çš„å­˜å‚¨ï¼Œä½†æ˜¯å¯¹äºå¤§æ–‡ä»¶çš„è®¿é—®ï¼Œéœ€è¦å¤§é‡çš„æŸ¥è¯¢ï¼Œæ•ˆç‡æ¯”è¾ƒä½ã€‚</span></p><p><span>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒExt 4 åšäº†ä¸€å®šçš„æ”¹å˜ï¼Œå…·ä½“æ€ä¹ˆè§£å†³çš„ï¼Œæœ¬æ–‡å°±ä¸å±•å¼€äº†ã€‚</span></p></li></ul><h2 id='ç©ºé—²ç©ºé—´ç®¡ç†'><span>ç©ºé—²ç©ºé—´ç®¡ç†</span></h2><p><span>å‰é¢è¯´åˆ°çš„æ–‡ä»¶çš„å­˜å‚¨æ˜¯é’ˆå¯¹å·²ç»è¢«å ç”¨çš„æ•°æ®å—ç»„ç»‡å’Œç®¡ç†ï¼Œæ¥ä¸‹æ¥çš„é—®é¢˜æ˜¯ï¼Œå¦‚æœæˆ‘è¦ä¿å­˜ä¸€ä¸ªæ•°æ®å—ï¼Œæˆ‘åº”è¯¥æ”¾åœ¨ç¡¬ç›˜ä¸Šçš„å“ªä¸ªä½ç½®å‘¢ï¼Ÿéš¾é“éœ€è¦å°†æ‰€æœ‰çš„å—æ‰«æä¸€éï¼Œæ‰¾ä¸ªç©ºçš„åœ°æ–¹éšä¾¿æ”¾å—ï¼Ÿ</span></p><p><span>é‚£è¿™ç§æ–¹å¼æ•ˆç‡å°±å¤ªä½äº†ï¼Œæ‰€ä»¥é’ˆå¯¹ç£ç›˜çš„ç©ºé—²ç©ºé—´ä¹Ÿæ˜¯è¦å¼•å…¥ç®¡ç†çš„æœºåˆ¶ï¼Œæ¥ä¸‹æ¥ä»‹ç»å‡ ç§å¸¸è§çš„æ–¹æ³•ï¼š</span></p><ul><li><p><strong><span>ç©ºé—²è¡¨æ³•</span></strong></p><p><img src="assets/image-20240614171757362.png" alt="image-20240614171757362" style="zoom:25%;" /></p><ul><li><p><span>ç©ºé—²è¡¨æ³•å°±æ˜¯ä¸ºæ‰€æœ‰ç©ºé—²ç©ºé—´å»ºç«‹ä¸€å¼ è¡¨ï¼Œè¡¨å†…å®¹åŒ…æ‹¬ç©ºé—²åŒºçš„ç¬¬ä¸€ä¸ªå—å·å’Œè¯¥ç©ºé—²åŒºçš„å—ä¸ªæ•°ï¼Œæ³¨æ„ï¼Œè¿™ä¸ªæ–¹å¼æ˜¯è¿ç»­åˆ†é…çš„ã€‚</span></p></li><li><p><span>å½“è¯·æ±‚åˆ†é…ç£ç›˜ç©ºé—´æ—¶ï¼Œç³»ç»Ÿä¾æ¬¡æ‰«æç©ºé—²è¡¨é‡Œçš„å†…å®¹ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„ç©ºé—²åŒºåŸŸä¸ºæ­¢ã€‚å½“ç”¨æˆ·æ’¤é”€ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œç³»ç»Ÿå›æ”¶æ–‡ä»¶ç©ºé—´ã€‚è¿™æ—¶ï¼Œä¹Ÿéœ€é¡ºåºæ‰«æç©ºé—²è¡¨ï¼Œå¯»æ‰¾ä¸€ä¸ªç©ºé—²è¡¨æ¡ç›®å¹¶å°†é‡Šæ”¾ç©ºé—´çš„ç¬¬ä¸€ä¸ªç‰©ç†å—å·åŠå®ƒå ç”¨çš„å—æ•°å¡«åˆ°è¿™ä¸ªæ¡ç›®ä¸­</span></p></li><li><p><span>è¿™ç§æ–¹æ³•ä»…å½“æœ‰å°‘é‡çš„ç©ºé—²åŒºæ—¶æ‰æœ‰è¾ƒå¥½çš„æ•ˆæœã€‚å› ä¸ºï¼Œå¦‚æœå­˜å‚¨ç©ºé—´ä¸­æœ‰ç€å¤§é‡çš„å°çš„ç©ºé—²åŒºï¼Œåˆ™ç©ºé—²è¡¨å˜å¾—å¾ˆå¤§ï¼Œè¿™æ ·æŸ¥è¯¢æ•ˆç‡ä¼šå¾ˆä½ã€‚å¦å¤–ï¼Œè¿™ç§åˆ†é…æŠ€æœ¯é€‚ç”¨äºå»ºç«‹è¿ç»­æ–‡ä»¶ã€‚</span></p></li></ul></li><li><p><strong><span>ç©ºé—²é“¾è¡¨æ³•</span></strong></p><p><img src="assets/image-20240614171808031.png" alt="image-20240614171808031" style="zoom:25%;" /></p><ul><li><p><span>æ¯ä¸€ä¸ªç©ºé—²å—é‡Œæœ‰ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªç©ºé—²å—ï¼Œè¿™æ ·ä¹Ÿèƒ½å¾ˆæ–¹ä¾¿çš„æ‰¾åˆ°ç©ºé—²å—å¹¶ç®¡ç†èµ·æ¥</span></p></li><li><p><span>å½“åˆ›å»ºæ–‡ä»¶éœ€è¦ä¸€å—æˆ–å‡ å—æ—¶ï¼Œå°±ä»é“¾å¤´ä¸Šä¾æ¬¡å–ä¸‹ä¸€å—æˆ–å‡ å—ã€‚åä¹‹ï¼Œå½“å›æ”¶ç©ºé—´æ—¶ï¼ŒæŠŠè¿™äº›ç©ºé—²å—ä¾æ¬¡æ¥åˆ°é“¾å¤´ä¸Šã€‚</span></p></li><li><p><span>è¿™ç§æŠ€æœ¯åªè¦åœ¨ä¸»å­˜ä¸­ä¿å­˜ä¸€ä¸ªæŒ‡é’ˆï¼Œä»¤å®ƒæŒ‡å‘ç¬¬ä¸€ä¸ªç©ºé—²å—ã€‚å…¶ç‰¹ç‚¹æ˜¯ç®€å•ï¼Œä½†ä¸èƒ½éšæœºè®¿é—®ï¼Œå·¥ä½œæ•ˆç‡ä½ï¼Œå› ä¸ºæ¯å½“åœ¨é“¾ä¸Šå¢åŠ æˆ–ç§»åŠ¨ç©ºé—²å—æ—¶éœ€è¦åšå¾ˆå¤š I/O æ“ä½œï¼ŒåŒæ—¶æ•°æ®å—çš„æŒ‡é’ˆæ¶ˆè€—äº†ä¸€å®šçš„å­˜å‚¨ç©ºé—´ã€‚</span></p></li><li><p><span>ç©ºé—²è¡¨æ³•å’Œç©ºé—²é“¾è¡¨æ³•éƒ½ä¸é€‚åˆç”¨äºå¤§å‹æ–‡ä»¶ç³»ç»Ÿï¼Œå› ä¸ºè¿™ä¼šä½¿ç©ºé—²è¡¨æˆ–ç©ºé—²é“¾è¡¨å¤ªå¤§ã€‚</span></p></li></ul></li><li><p><strong><span>ä½å›¾æ³•</span></strong></p><ul><li><p><span>ä½å›¾æ˜¯åˆ©ç”¨äºŒè¿›åˆ¶çš„ä¸€ä½æ¥è¡¨ç¤ºç£ç›˜ä¸­ä¸€ä¸ªç›˜å—çš„ä½¿ç”¨æƒ…å†µï¼Œç£ç›˜ä¸Šæ‰€æœ‰çš„ç›˜å—éƒ½æœ‰ä¸€ä¸ªäºŒè¿›åˆ¶ä½ä¸ä¹‹å¯¹åº”ã€‚å½“å€¼ä¸º 0 æ—¶ï¼Œè¡¨ç¤ºå¯¹åº”çš„ç›˜å—ç©ºé—²ï¼Œå€¼ä¸º 1 æ—¶ï¼Œè¡¨ç¤ºå¯¹åº”çš„ç›˜å—å·²åˆ†é…ã€‚å®ƒå½¢å¼å¦‚ä¸‹ï¼š</span></p></li><li><p><span>åœ¨ Linux æ–‡ä»¶ç³»ç»Ÿå°±é‡‡ç”¨äº†ä½å›¾çš„æ–¹å¼æ¥ç®¡ç†ç©ºé—²ç©ºé—´ï¼Œä¸ä»…ç”¨äºæ•°æ®ç©ºé—²å—çš„ç®¡ç†ï¼Œè¿˜ç”¨äº inode ç©ºé—²å—çš„ç®¡ç†ï¼Œå› ä¸º inode ä¹Ÿæ˜¯å­˜å‚¨åœ¨ç£ç›˜çš„ï¼Œè‡ªç„¶ä¹Ÿè¦æœ‰å¯¹å…¶ç®¡ç†ã€‚</span></p></li></ul><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="text"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="text"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: currentcolor;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">1111110011111110001110110111111100111 ...</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 23px;"></div><div class="CodeMirror-gutters" style="display: none; height: 23px;"></div></div></div></pre></li></ul><h2 id='æ–‡ä»¶ç³»ç»Ÿçš„ç»“æ„'><span>æ–‡ä»¶ç³»ç»Ÿçš„ç»“æ„</span></h2><ul><li><p><span>Linux æ˜¯ç”¨ä½å›¾çš„æ–¹å¼ç®¡ç†ç©ºé—²ç©ºé—´ï¼Œç”¨æˆ·åœ¨åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶æ—¶ï¼ŒLinux å†…æ ¸ä¼šé€šè¿‡ inode çš„ä½å›¾æ‰¾åˆ°ç©ºé—²å¯ç”¨çš„ inodeï¼Œå¹¶è¿›è¡Œåˆ†é…ã€‚</span></p></li><li><p><span>æ•°æ®å—çš„ä½å›¾æ˜¯æ”¾åœ¨ç£ç›˜å—é‡Œçš„ï¼Œå‡è®¾æ˜¯æ”¾åœ¨ä¸€ä¸ªå—é‡Œï¼Œä¸€ä¸ªå— 4Kï¼Œæ¯ä½è¡¨ç¤ºä¸€ä¸ªæ•°æ®å—ï¼Œå…±å¯ä»¥è¡¨ç¤º </span><code>4 * 1024 * 8 = 2^15</code><span> ä¸ªç©ºé—²å—ï¼Œç”±äº 1 ä¸ªæ•°æ®å—æ˜¯ 4K å¤§å°ï¼Œé‚£ä¹ˆæœ€å¤§å¯ä»¥è¡¨ç¤ºçš„ç©ºé—´ä¸º </span><code>2^15 * 4 * 1024 = 2^27</code><span> ä¸ª byteï¼Œä¹Ÿå°±æ˜¯ 128Mã€‚</span></p></li><li><p><span>ä¹Ÿå°±æ˜¯è¯´æŒ‰ç…§ä¸Šé¢çš„ç»“æ„ï¼Œå¦‚æœé‡‡ç”¨ã€Œä¸€ä¸ªå—çš„ä½å›¾ + ä¸€ç³»åˆ—çš„å—ã€ï¼Œå¤–åŠ ã€Œä¸€ä¸ªå—çš„ inode çš„ä½å›¾ + ä¸€ç³»åˆ—çš„ inode çš„ç»“æ„ã€èƒ½è¡¨ç¤ºçš„æœ€å¤§ç©ºé—´ä¹Ÿå°± 128Mï¼Œè¿™å¤ªå°‘äº†ï¼Œç°åœ¨å¾ˆå¤šæ–‡ä»¶éƒ½æ¯”è¿™ä¸ªå¤§ã€‚</span></p></li><li><p><span>åœ¨ Linux æ–‡ä»¶ç³»ç»Ÿï¼ŒæŠŠè¿™ä¸ªç»“æ„ç§°ä¸ºä¸€ä¸ª</span><strong><span>å—ç»„</span></strong><span>ï¼Œé‚£ä¹ˆæœ‰ N å¤šçš„å—ç»„ï¼Œå°±èƒ½å¤Ÿè¡¨ç¤º N å¤§çš„æ–‡ä»¶ã€‚</span></p><p><img src="assets/image-20240614172556869.png" alt="image-20240614172556869" style="zoom:33%;" /></p><p><span>æœ€å‰é¢çš„ç¬¬ä¸€ä¸ªå—æ˜¯å¼•å¯¼å—ï¼Œåœ¨ç³»ç»Ÿå¯åŠ¨æ—¶ç”¨äºå¯ç”¨å¼•å¯¼ï¼Œæ¥ç€åé¢å°±æ˜¯ä¸€ä¸ªä¸€ä¸ªè¿ç»­çš„å—ç»„äº†ï¼Œå—ç»„çš„å†…å®¹å¦‚ä¸‹ï¼š</span></p><ul><li><p><em><span>è¶…çº§å—</span></em><span>ï¼ŒåŒ…å«çš„æ˜¯æ–‡ä»¶ç³»ç»Ÿçš„é‡è¦ä¿¡æ¯ï¼Œæ¯”å¦‚ inode æ€»ä¸ªæ•°ã€å—æ€»ä¸ªæ•°ã€æ¯ä¸ªå—ç»„çš„ inode ä¸ªæ•°ã€æ¯ä¸ªå—ç»„çš„å—ä¸ªæ•°ç­‰ç­‰ã€‚</span></p></li><li><p><em><span>å—ç»„æè¿°ç¬¦</span></em><span>ï¼ŒåŒ…å«æ–‡ä»¶ç³»ç»Ÿä¸­å„ä¸ªå—ç»„çš„çŠ¶æ€ï¼Œæ¯”å¦‚å—ç»„ä¸­ç©ºé—²å—å’Œ inode çš„æ•°ç›®ç­‰ï¼Œæ¯ä¸ªå—ç»„éƒ½åŒ…å«äº†æ–‡ä»¶ç³»ç»Ÿä¸­ã€Œæ‰€æœ‰å—ç»„çš„ç»„æè¿°ç¬¦ä¿¡æ¯ã€ã€‚</span></p></li><li><p><em><span>æ•°æ®ä½å›¾å’Œ inode ä½å›¾</span></em><span>ï¼Œ ç”¨äºè¡¨ç¤ºå¯¹åº”çš„æ•°æ®å—æˆ– inode æ˜¯ç©ºé—²çš„ï¼Œè¿˜æ˜¯è¢«ä½¿ç”¨ä¸­ã€‚</span></p></li><li><p><em><span>inode åˆ—è¡¨</span></em><span>ï¼ŒåŒ…å«äº†å—ç»„ä¸­æ‰€æœ‰çš„ inodeï¼Œinode ç”¨äºä¿å­˜æ–‡ä»¶ç³»ç»Ÿä¸­ä¸å„ä¸ªæ–‡ä»¶å’Œç›®å½•ç›¸å…³çš„æ‰€æœ‰å…ƒæ•°æ®ã€‚</span></p></li><li><p><em><span>æ•°æ®å—</span></em><span>ï¼ŒåŒ…å«æ–‡ä»¶çš„æœ‰ç”¨æ•°æ®ã€‚</span></p></li></ul></li><li><p><span>æ¯ä¸ªå—ç»„é‡Œæœ‰å¾ˆå¤šé‡å¤çš„ä¿¡æ¯ï¼Œæ¯”å¦‚</span><strong><span>è¶…çº§å—å’Œå—ç»„æè¿°ç¬¦è¡¨ï¼Œè¿™ä¸¤ä¸ªéƒ½æ˜¯å…¨å±€ä¿¡æ¯ï¼Œè€Œä¸”éå¸¸çš„é‡è¦</span></strong><span>ï¼Œè¿™ä¹ˆåšæ˜¯æœ‰ä¸¤ä¸ªåŸå› ï¼š</span></p><ul><li><p><span>å¦‚æœç³»ç»Ÿå´©æºƒç ´åäº†è¶…çº§å—æˆ–å—ç»„æè¿°ç¬¦ï¼Œæœ‰å…³æ–‡ä»¶ç³»ç»Ÿç»“æ„å’Œå†…å®¹çš„æ‰€æœ‰ä¿¡æ¯éƒ½ä¼šä¸¢å¤±ã€‚å¦‚æœæœ‰å†—ä½™çš„å‰¯æœ¬ï¼Œè¯¥ä¿¡æ¯æ˜¯å¯èƒ½æ¢å¤çš„ã€‚</span></p></li><li><p><span>é€šè¿‡ä½¿æ–‡ä»¶å’Œç®¡ç†æ•°æ®å°½å¯èƒ½æ¥è¿‘ï¼Œå‡å°‘äº†ç£å¤´å¯»é“å’Œæ—‹è½¬ï¼Œè¿™å¯ä»¥æé«˜æ–‡ä»¶ç³»ç»Ÿçš„æ€§èƒ½ã€‚</span></p></li><li><p><span>ä¸è¿‡ï¼ŒExt2 çš„åç»­ç‰ˆæœ¬é‡‡ç”¨äº†ç¨€ç–æŠ€æœ¯ã€‚è¯¥åšæ³•æ˜¯ï¼Œè¶…çº§å—å’Œå—ç»„æè¿°ç¬¦è¡¨ä¸å†å­˜å‚¨åˆ°æ–‡ä»¶ç³»ç»Ÿçš„æ¯ä¸ªå—ç»„ä¸­ï¼Œè€Œæ˜¯åªå†™å…¥åˆ°å—ç»„ 0ã€å—ç»„ 1 å’Œå…¶ä»– ID å¯ä»¥è¡¨ç¤ºä¸º 3ã€ 5ã€7 çš„å¹‚çš„å—ç»„ä¸­ã€‚</span></p></li></ul></li></ul><h2 id='ç›®å½•çš„å­˜å‚¨'><span>ç›®å½•çš„å­˜å‚¨</span></h2><ul><li><p><strong><span>æ™®é€šæ–‡ä»¶çš„å—é‡Œé¢ä¿å­˜çš„æ˜¯æ–‡ä»¶æ•°æ®ï¼Œè€Œç›®å½•æ–‡ä»¶çš„å—é‡Œé¢ä¿å­˜çš„æ˜¯ç›®å½•é‡Œé¢ä¸€é¡¹ä¸€é¡¹çš„æ–‡ä»¶ä¿¡æ¯ã€‚</span></strong></p></li><li><p><span>åœ¨ç›®å½•æ–‡ä»¶çš„å—ä¸­ï¼Œæœ€ç®€å•çš„ä¿å­˜æ ¼å¼å°±æ˜¯</span><strong><span>åˆ—è¡¨</span></strong><span>ï¼Œå°±æ˜¯ä¸€é¡¹ä¸€é¡¹åœ°å°†ç›®å½•ä¸‹çš„æ–‡ä»¶ä¿¡æ¯ï¼ˆå¦‚æ–‡ä»¶åã€æ–‡ä»¶ inodeã€æ–‡ä»¶ç±»å‹ç­‰ï¼‰åˆ—åœ¨è¡¨é‡Œã€‚</span></p></li><li><p><span>åˆ—è¡¨ä¸­æ¯ä¸€é¡¹å°±ä»£è¡¨è¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶çš„æ–‡ä»¶åå’Œå¯¹åº”çš„ inodeï¼Œé€šè¿‡è¿™ä¸ª inodeï¼Œå°±å¯ä»¥æ‰¾åˆ°çœŸæ­£çš„æ–‡ä»¶ã€‚</span></p><p><img src="assets/image-20240614172749551.png" alt="image-20240614172749551" style="zoom:33%;" /></p><p><span>é€šå¸¸ï¼Œç¬¬ä¸€é¡¹æ˜¯ã€Œ</span><code>.</code><span>ã€ï¼Œè¡¨ç¤ºå½“å‰ç›®å½•ï¼Œç¬¬äºŒé¡¹æ˜¯ã€Œ</span><code>..</code><span>ã€ï¼Œè¡¨ç¤ºä¸Šä¸€çº§ç›®å½•ï¼Œæ¥ä¸‹æ¥å°±æ˜¯ä¸€é¡¹ä¸€é¡¹çš„æ–‡ä»¶åå’Œ inodeã€‚</span></p><p><span>å¦‚æœä¸€ä¸ªç›®å½•æœ‰è¶…çº§å¤šçš„æ–‡ä»¶ï¼Œæˆ‘ä»¬è¦æƒ³åœ¨è¿™ä¸ªç›®å½•ä¸‹æ‰¾æ–‡ä»¶ï¼ŒæŒ‰ç…§åˆ—è¡¨ä¸€é¡¹ä¸€é¡¹çš„æ‰¾ï¼Œæ•ˆç‡å°±ä¸é«˜äº†ã€‚</span></p><p><span>äºæ˜¯ï¼Œä¿å­˜ç›®å½•çš„æ ¼å¼æ”¹æˆ</span><strong><span>å“ˆå¸Œè¡¨</span></strong><span>ï¼Œå¯¹æ–‡ä»¶åè¿›è¡Œå“ˆå¸Œè®¡ç®—ï¼ŒæŠŠå“ˆå¸Œå€¼ä¿å­˜èµ·æ¥ï¼Œå¦‚æœæˆ‘ä»¬è¦æŸ¥æ‰¾ä¸€ä¸ªç›®å½•ä¸‹é¢çš„æ–‡ä»¶åï¼Œå¯ä»¥é€šè¿‡åç§°å–å“ˆå¸Œã€‚å¦‚æœå“ˆå¸Œèƒ½å¤ŸåŒ¹é…ä¸Šï¼Œå°±è¯´æ˜è¿™ä¸ªæ–‡ä»¶çš„ä¿¡æ¯åœ¨ç›¸åº”çš„å—é‡Œé¢ã€‚</span></p><p><span>Linux ç³»ç»Ÿçš„ ext æ–‡ä»¶ç³»ç»Ÿå°±æ˜¯é‡‡ç”¨äº†å“ˆå¸Œè¡¨ï¼Œæ¥ä¿å­˜ç›®å½•çš„å†…å®¹ï¼Œè¿™ç§æ–¹æ³•çš„ä¼˜ç‚¹æ˜¯æŸ¥æ‰¾éå¸¸è¿…é€Ÿï¼Œæ’å…¥å’Œåˆ é™¤ä¹Ÿè¾ƒç®€å•ï¼Œä¸è¿‡éœ€è¦ä¸€äº›é¢„å¤‡æªæ–½æ¥é¿å…å“ˆå¸Œå†²çªã€‚</span></p><p><span>ç›®å½•æŸ¥è¯¢æ˜¯é€šè¿‡åœ¨ç£ç›˜ä¸Šåå¤æœç´¢å®Œæˆï¼Œéœ€è¦ä¸æ–­åœ°è¿›è¡Œ I/O æ“ä½œï¼Œå¼€é”€è¾ƒå¤§ã€‚æ‰€ä»¥ï¼Œä¸ºäº†å‡å°‘ I/O æ“ä½œï¼ŒæŠŠå½“å‰ä½¿ç”¨çš„æ–‡ä»¶ç›®å½•ç¼“å­˜åœ¨å†…å­˜ï¼Œä»¥åè¦ä½¿ç”¨è¯¥æ–‡ä»¶æ—¶åªè¦åœ¨å†…å­˜ä¸­æ“ä½œï¼Œä»è€Œé™ä½äº†ç£ç›˜æ“ä½œæ¬¡æ•°ï¼Œæé«˜äº†æ–‡ä»¶ç³»ç»Ÿçš„è®¿é—®é€Ÿåº¦ã€‚</span></p></li></ul><h2 id='è½¯é“¾æ¥å’Œç¡¬é“¾æ¥'><span>è½¯é“¾æ¥å’Œç¡¬é“¾æ¥</span></h2><p><span>æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›ç»™æŸä¸ªæ–‡ä»¶å–ä¸ªåˆ«åï¼Œé‚£ä¹ˆåœ¨ Linux ä¸­å¯ä»¥é€šè¿‡</span><strong><span>ç¡¬é“¾æ¥ï¼ˆHard Linkï¼‰</span></strong><span> å’Œ</span><strong><span>è½¯é“¾æ¥ï¼ˆSymbolic Linkï¼‰</span></strong><span> çš„æ–¹å¼æ¥å®ç°ï¼Œå®ƒä»¬éƒ½æ˜¯æ¯”è¾ƒç‰¹æ®Šçš„æ–‡ä»¶ï¼Œä½†æ˜¯å®ç°æ–¹å¼ä¹Ÿæ˜¯ä¸ç›¸åŒçš„ã€‚</span></p><ul><li><p><span>ç¡¬é“¾æ¥æ˜¯</span><strong><span>å¤šä¸ªç›®å½•é¡¹ä¸­çš„ã€Œç´¢å¼•èŠ‚ç‚¹ã€æŒ‡å‘ä¸€ä¸ªæ–‡ä»¶</span></strong><span>ï¼Œä¹Ÿå°±æ˜¯æŒ‡å‘åŒä¸€ä¸ª inodeï¼Œä½†æ˜¯ inode æ˜¯ä¸å¯èƒ½è·¨è¶Šæ–‡ä»¶ç³»ç»Ÿçš„ï¼Œæ¯ä¸ªæ–‡ä»¶ç³»ç»Ÿéƒ½æœ‰å„è‡ªçš„ inode æ•°æ®ç»“æ„å’Œåˆ—è¡¨ï¼Œæ‰€ä»¥</span><strong><span>ç¡¬é“¾æ¥æ˜¯ä¸å¯ç”¨äºè·¨æ–‡ä»¶ç³»ç»Ÿçš„</span></strong><span>ã€‚ç”±äºå¤šä¸ªç›®å½•é¡¹éƒ½æ˜¯æŒ‡å‘ä¸€ä¸ª inodeï¼Œé‚£ä¹ˆ</span><strong><span>åªæœ‰åˆ é™¤æ–‡ä»¶çš„æ‰€æœ‰ç¡¬é“¾æ¥ä»¥åŠæºæ–‡ä»¶æ—¶ï¼Œç³»ç»Ÿæ‰ä¼šå½»åº•åˆ é™¤è¯¥æ–‡ä»¶ã€‚</span></strong></p><p><img src="assets/image-20240614173005961.png" alt="image-20240614173005961" style="zoom:33%;" /></p></li><li><p><span>è½¯é“¾æ¥ç›¸å½“äºé‡æ–°åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æœ‰</span><strong><span>ç‹¬ç«‹çš„ inode</span></strong><span>ï¼Œä½†æ˜¯è¿™ä¸ª</span><strong><span>æ–‡ä»¶çš„å†…å®¹æ˜¯å¦å¤–ä¸€ä¸ªæ–‡ä»¶çš„è·¯å¾„</span></strong><span>ï¼Œæ‰€ä»¥è®¿é—®è½¯é“¾æ¥çš„æ—¶å€™ï¼Œå®é™…ä¸Šç›¸å½“äºè®¿é—®åˆ°äº†å¦å¤–ä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥</span><strong><span>è½¯é“¾æ¥æ˜¯å¯ä»¥è·¨æ–‡ä»¶ç³»ç»Ÿçš„</span></strong><span>ï¼Œç”šè‡³</span><strong><span>ç›®æ ‡æ–‡ä»¶è¢«åˆ é™¤äº†ï¼Œé“¾æ¥æ–‡ä»¶è¿˜æ˜¯åœ¨çš„ï¼Œåªä¸è¿‡æŒ‡å‘çš„æ–‡ä»¶æ‰¾ä¸åˆ°äº†è€Œå·²ã€‚</span></strong></p><p><img src="assets/image-20240614173039437.png" alt="image-20240614173039437" style="zoom:35%;" /></p></li></ul><h2 id='æ–‡ä»¶-io'><span>æ–‡ä»¶ I/O</span></h2><p><span>æ–‡ä»¶çš„è¯»å†™æ–¹å¼å„æœ‰åƒç§‹ï¼Œå¯¹äºæ–‡ä»¶çš„ I/O åˆ†ç±»ä¹Ÿéå¸¸å¤šï¼Œå¸¸è§çš„æœ‰</span></p><ul><li><p><span>ç¼“å†²ä¸éç¼“å†² I/O</span></p><ul><li><p><strong><span>æ ¹æ®ã€Œæ˜¯å¦åˆ©ç”¨æ ‡å‡†åº“ç¼“å†²ã€ï¼Œå¯ä»¥æŠŠæ–‡ä»¶ I/O åˆ†ä¸ºç¼“å†² I/O å’Œéç¼“å†² I/O</span></strong><span>ï¼š</span></p></li><li><p><span>ç¼“å†² I/Oï¼Œåˆ©ç”¨çš„æ˜¯æ ‡å‡†åº“çš„ç¼“å­˜å®ç°æ–‡ä»¶çš„åŠ é€Ÿè®¿é—®ï¼Œè€Œæ ‡å‡†åº“å†é€šè¿‡ç³»ç»Ÿè°ƒç”¨è®¿é—®æ–‡ä»¶ã€‚</span></p></li><li><p><span>éç¼“å†² I/Oï¼Œç›´æ¥é€šè¿‡ç³»ç»Ÿè°ƒç”¨è®¿é—®æ–‡ä»¶ï¼Œä¸ç»è¿‡æ ‡å‡†åº“ç¼“å­˜ã€‚</span></p></li><li><p><span>è¿™é‡Œæ‰€è¯´çš„ã€Œç¼“å†²ã€ç‰¹æŒ‡æ ‡å‡†åº“å†…éƒ¨å®ç°çš„ç¼“å†²ï¼Œæ¯”å¦‚å¾ˆå¤šç¨‹åºé‡åˆ°æ¢è¡Œæ—¶æ‰çœŸæ­£è¾“å‡ºï¼Œè€Œæ¢è¡Œå‰çš„å†…å®¹ï¼Œå…¶å®å°±æ˜¯è¢«æ ‡å‡†åº“æš‚æ—¶ç¼“å­˜äº†èµ·æ¥ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯ï¼Œå‡å°‘ç³»ç»Ÿè°ƒç”¨çš„æ¬¡æ•°ï¼Œæ¯•ç«Ÿç³»ç»Ÿè°ƒç”¨æ˜¯æœ‰ CPU ä¸Šä¸‹æ–‡åˆ‡æ¢çš„å¼€é”€çš„ã€‚</span></p></li></ul></li><li><p><span>ç›´æ¥ä¸éç›´æ¥ I/O</span></p><ul><li><p><strong><span>æ®æ˜¯ã€Œå¦åˆ©ç”¨æ“ä½œç³»ç»Ÿçš„ç¼“å­˜ã€ï¼Œå¯ä»¥æŠŠæ–‡ä»¶ I/O åˆ†ä¸ºç›´æ¥ I/O ä¸éç›´æ¥ I/O</span></strong></p></li><li><p><span>ç›´æ¥ I/Oï¼Œä¸ä¼šå‘ç”Ÿå†…æ ¸ç¼“å­˜å’Œç”¨æˆ·ç¨‹åºä¹‹é—´æ•°æ®å¤åˆ¶ï¼Œè€Œæ˜¯ç›´æ¥ç»è¿‡æ–‡ä»¶ç³»ç»Ÿè®¿é—®ç£ç›˜ã€‚</span></p></li><li><p><span>éç›´æ¥ I/Oï¼Œè¯»æ“ä½œæ—¶ï¼Œæ•°æ®ä»å†…æ ¸ç¼“å­˜ä¸­æ‹·è´ç»™ç”¨æˆ·ç¨‹åºï¼Œå†™æ“ä½œæ—¶ï¼Œæ•°æ®ä»ç”¨æˆ·ç¨‹åºæ‹·è´ç»™å†…æ ¸ç¼“å­˜ï¼Œå†ç”±å†…æ ¸å†³å®šä»€ä¹ˆæ—¶å€™å†™å…¥æ•°æ®åˆ°ç£ç›˜ã€‚</span></p></li></ul></li><li><p><span>é˜»å¡ä¸éé˜»å¡ I/O VS åŒæ­¥ä¸å¼‚æ­¥ I/O</span></p><ul><li><p><strong><span>é˜»å¡ I/O</span></strong><span>ï¼Œå½“ç”¨æˆ·ç¨‹åºæ‰§è¡Œ </span><code>read</code><span> ï¼Œçº¿ç¨‹ä¼šè¢«é˜»å¡ï¼Œä¸€ç›´ç­‰åˆ°å†…æ ¸æ•°æ®å‡†å¤‡å¥½ï¼Œå¹¶æŠŠæ•°æ®ä»å†…æ ¸ç¼“å†²åŒºæ‹·è´åˆ°åº”ç”¨ç¨‹åºçš„ç¼“å†²åŒºä¸­ï¼Œå½“æ‹·è´è¿‡ç¨‹å®Œæˆï¼Œ</span><code>read</code><span> æ‰ä¼šè¿”å›ã€‚</span><strong><span>é˜»å¡ç­‰å¾…çš„æ˜¯ã€Œå†…æ ¸æ•°æ®å‡†å¤‡å¥½ã€å’Œã€Œæ•°æ®ä»å†…æ ¸æ€æ‹·è´åˆ°ç”¨æˆ·æ€ã€è¿™ä¸¤ä¸ªè¿‡ç¨‹</span></strong></p></li><li><p><strong><span>éé˜»å¡ I/O</span></strong><span>ï¼Œéé˜»å¡çš„ read è¯·æ±‚åœ¨æ•°æ®æœªå‡†å¤‡å¥½çš„æƒ…å†µä¸‹ç«‹å³è¿”å›ï¼Œå¯ä»¥ç»§ç»­å¾€ä¸‹æ‰§è¡Œï¼Œæ­¤æ—¶åº”ç”¨ç¨‹åºä¸æ–­è½®è¯¢å†…æ ¸ï¼Œç›´åˆ°æ•°æ®å‡†å¤‡å¥½ï¼Œå†…æ ¸å°†æ•°æ®æ‹·è´åˆ°åº”ç”¨ç¨‹åºç¼“å†²åŒºï¼Œ</span><code>read</code><span> è°ƒç”¨æ‰å¯ä»¥è·å–åˆ°ç»“æœã€‚</span><strong><span>è¿™é‡Œæœ€åä¸€æ¬¡ read è°ƒç”¨ï¼Œè·å–æ•°æ®çš„è¿‡ç¨‹ï¼Œæ˜¯ä¸€ä¸ªåŒæ­¥çš„è¿‡ç¨‹ï¼Œæ˜¯éœ€è¦ç­‰å¾…çš„è¿‡ç¨‹ã€‚è¿™é‡Œçš„åŒæ­¥æŒ‡çš„æ˜¯å†…æ ¸æ€çš„æ•°æ®æ‹·è´åˆ°ç”¨æˆ·ç¨‹åºçš„ç¼“å­˜åŒºè¿™ä¸ªè¿‡ç¨‹</span></strong></p></li><li><p><strong><span>I/O å¤šè·¯å¤ç”¨æ¥å£æœ€å¤§çš„ä¼˜åŠ¿åœ¨äºï¼Œç”¨æˆ·å¯ä»¥åœ¨ä¸€ä¸ªçº¿ç¨‹å†…åŒæ—¶å¤„ç†å¤šä¸ª socket çš„ IO è¯·æ±‚</span></strong><span>ã€‚ç”¨æˆ·å¯ä»¥æ³¨å†Œå¤šä¸ª socketï¼Œç„¶åä¸æ–­åœ°è°ƒç”¨ I/O å¤šè·¯å¤ç”¨æ¥å£è¯»å–è¢«æ¿€æ´»çš„ socketï¼Œå³å¯è¾¾åˆ°åœ¨åŒä¸€ä¸ªçº¿ç¨‹å†…åŒæ—¶å¤„ç†å¤šä¸ª IO è¯·æ±‚çš„ç›®çš„ã€‚è€Œåœ¨åŒæ­¥é˜»å¡æ¨¡å‹ä¸­ï¼Œå¿…é¡»é€šè¿‡å¤šçº¿ç¨‹çš„æ–¹å¼æ‰èƒ½è¾¾åˆ°è¿™ä¸ªç›®çš„ã€‚</span></p></li><li><p><span>æ— è®ºæ˜¯é˜»å¡ I/Oã€éé˜»å¡ I/Oï¼Œè¿˜æ˜¯åŸºäºéé˜»å¡ I/O çš„å¤šè·¯å¤ç”¨</span><strong><span>éƒ½æ˜¯åŒæ­¥è°ƒç”¨ã€‚å› ä¸ºå®ƒä»¬åœ¨ read è°ƒç”¨æ—¶ï¼Œå†…æ ¸å°†æ•°æ®ä»å†…æ ¸ç©ºé—´æ‹·è´åˆ°åº”ç”¨ç¨‹åºç©ºé—´ï¼Œè¿‡ç¨‹éƒ½æ˜¯éœ€è¦ç­‰å¾…çš„ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªè¿‡ç¨‹æ˜¯åŒæ­¥çš„ï¼Œå¦‚æœå†…æ ¸å®ç°çš„æ‹·è´æ•ˆç‡ä¸é«˜ï¼Œread è°ƒç”¨å°±ä¼šåœ¨è¿™ä¸ªåŒæ­¥è¿‡ç¨‹ä¸­ç­‰å¾…æ¯”è¾ƒé•¿çš„æ—¶é—´ã€‚</span></strong></p></li></ul><p>&nbsp;</p><ul><li><p><span>è€ŒçœŸæ­£çš„</span><strong><span>å¼‚æ­¥ I/O</span></strong><span> æ˜¯ã€Œå†…æ ¸æ•°æ®å‡†å¤‡å¥½ã€å’Œã€Œæ•°æ®ä»å†…æ ¸æ€æ‹·è´åˆ°ç”¨æˆ·æ€ã€è¿™ä¸¤ä¸ªè¿‡ç¨‹éƒ½ä¸ç”¨ç­‰å¾…ã€‚</span></p></li><li><p><span>å½“æˆ‘ä»¬å‘èµ· </span><code>aio_read</code><span> ä¹‹åï¼Œå°±ç«‹å³è¿”å›ï¼Œå†…æ ¸è‡ªåŠ¨å°†æ•°æ®ä»å†…æ ¸ç©ºé—´æ‹·è´åˆ°åº”ç”¨ç¨‹åºç©ºé—´ï¼Œè¿™ä¸ªæ‹·è´è¿‡ç¨‹åŒæ ·æ˜¯å¼‚æ­¥çš„ï¼Œå†…æ ¸è‡ªåŠ¨å®Œæˆçš„ï¼Œå’Œå‰é¢çš„åŒæ­¥æ“ä½œä¸ä¸€æ ·ï¼Œåº”ç”¨ç¨‹åºå¹¶ä¸éœ€è¦ä¸»åŠ¨å‘èµ·æ‹·è´åŠ¨ä½œã€‚</span></p></li><li><p><span>I/O æ˜¯åˆ†ä¸ºä¸¤ä¸ªè¿‡ç¨‹çš„ï¼šæ•°æ®å‡†å¤‡çš„è¿‡ç¨‹å’Œæ•°æ®ä»å†…æ ¸ç©ºé—´æ‹·è´åˆ°ç”¨æˆ·è¿›ç¨‹ç¼“å†²åŒºçš„è¿‡ç¨‹ã€‚é˜»å¡ I/O ä¼šé˜»å¡åœ¨ã€Œè¿‡ç¨‹ 1 ã€å’Œã€Œè¿‡ç¨‹ 2ã€ï¼Œè€Œéé˜»å¡ I/O å’ŒåŸºäºéé˜»å¡ I/O çš„å¤šè·¯å¤ç”¨åªä¼šé˜»å¡åœ¨ã€Œè¿‡ç¨‹ 2ã€ï¼Œæ‰€ä»¥è¿™ä¸‰ä¸ªéƒ½å¯ä»¥è®¤ä¸ºæ˜¯åŒæ­¥ I/Oã€‚å¼‚æ­¥ I/O åˆ™ä¸åŒï¼Œã€Œè¿‡ç¨‹ 1 ã€å’Œã€Œè¿‡ç¨‹ 2 ã€éƒ½ä¸ä¼šé˜»å¡ã€‚</span></p></li></ul></li></ul><h1 id='è®¾å¤‡ç®¡ç†'><span>è®¾å¤‡ç®¡ç†</span></h1><h1 id='ç½‘ç»œç³»ç»Ÿ'><span>ç½‘ç»œç³»ç»Ÿ</span></h1><h2 id='é›¶æ‹·è´'><span>é›¶æ‹·è´</span></h2><h3 id='ä¸ºä»€ä¹ˆè¦æœ‰-dma-æŠ€æœ¯'><span>ä¸ºä»€ä¹ˆè¦æœ‰ DMA æŠ€æœ¯?</span></h3><p><span>åœ¨æ²¡æœ‰ DMA æŠ€æœ¯å‰ï¼ŒI/O çš„è¿‡ç¨‹æ˜¯è¿™æ ·çš„ï¼š</span></p><ul><li><p><span>CPU å‘å‡ºå¯¹åº”çš„æŒ‡ä»¤ç»™ç£ç›˜æ§åˆ¶å™¨ï¼Œç„¶åè¿”å›ï¼›</span></p></li><li><p><span>ç£ç›˜æ§åˆ¶å™¨æ”¶åˆ°æŒ‡ä»¤åï¼Œäºæ˜¯å°±å¼€å§‹å‡†å¤‡æ•°æ®ï¼Œä¼šæŠŠæ•°æ®æ”¾å…¥åˆ°ç£ç›˜æ§åˆ¶å™¨çš„å†…éƒ¨ç¼“å†²åŒºä¸­ï¼Œç„¶åäº§ç”Ÿä¸€ä¸ª</span><strong><span>ä¸­æ–­</span></strong><span>ï¼›</span></p></li><li><p><span>CPU æ”¶åˆ°ä¸­æ–­ä¿¡å·åï¼Œåœä¸‹æ‰‹å¤´çš„å·¥ä½œï¼Œæ¥ç€æŠŠç£ç›˜æ§åˆ¶å™¨çš„ç¼“å†²åŒºçš„æ•°æ®ä¸€æ¬¡ä¸€ä¸ªå­—èŠ‚åœ°è¯»è¿›è‡ªå·±çš„å¯„å­˜å™¨ï¼Œç„¶åå†æŠŠå¯„å­˜å™¨é‡Œçš„æ•°æ®å†™å…¥åˆ°å†…å­˜ï¼Œè€Œåœ¨æ•°æ®ä¼ è¾“çš„æœŸé—´ CPU æ˜¯æ— æ³•æ‰§è¡Œå…¶ä»–ä»»åŠ¡çš„ã€‚</span></p></li></ul><p><img src="assets/image-20240614202909850.png" alt="image-20240614202909850" style="zoom:33%;" /></p><p><span>å¯ä»¥çœ‹åˆ°ï¼Œæ•´ä¸ªæ•°æ®çš„ä¼ è¾“è¿‡ç¨‹ï¼Œéƒ½è¦éœ€è¦ CPU äº²è‡ªå‚ä¸æ¬è¿æ•°æ®çš„è¿‡ç¨‹ï¼Œè€Œä¸”è¿™ä¸ªè¿‡ç¨‹ï¼ŒCPU æ˜¯ä¸èƒ½åšå…¶ä»–äº‹æƒ…çš„ã€‚</span></p><p><strong><span>ç›´æ¥å†…å­˜è®¿é—®ï¼ˆDirect Memory Accessï¼‰</span></strong><span> æŠ€æœ¯ï¼š</span><strong><span>åœ¨è¿›è¡Œ I/O è®¾å¤‡å’Œå†…å­˜çš„æ•°æ®ä¼ è¾“çš„æ—¶å€™ï¼Œæ•°æ®æ¬è¿çš„å·¥ä½œå…¨éƒ¨äº¤ç»™ DMA æ§åˆ¶å™¨ï¼Œè€Œ CPU ä¸å†å‚ä¸ä»»ä½•ä¸æ•°æ®æ¬è¿ç›¸å…³çš„äº‹æƒ…ï¼Œè¿™æ · CPU å°±å¯ä»¥å»å¤„ç†åˆ«çš„äº‹åŠ¡</span></strong><span>ã€‚</span></p><p><span>DMA æ§åˆ¶å™¨è¿›è¡Œæ•°æ®ä¼ è¾“çš„è¿‡ç¨‹ï¼š</span></p><p><img src="assets/image-20240614203138428.png" alt="image-20240614203138428" style="zoom:25%;" /></p><p><span>å…·ä½“è¿‡ç¨‹ï¼š</span></p><ul><li><p><span>ç”¨æˆ·è¿›ç¨‹è°ƒç”¨ read æ–¹æ³•ï¼Œå‘æ“ä½œç³»ç»Ÿå‘å‡º I/O è¯·æ±‚ï¼Œè¯·æ±‚è¯»å–æ•°æ®åˆ°è‡ªå·±çš„å†…å­˜ç¼“å†²åŒºä¸­ï¼Œè¿›ç¨‹è¿›å…¥é˜»å¡çŠ¶æ€ï¼›</span></p></li><li><p><span>æ“ä½œç³»ç»Ÿæ”¶åˆ°è¯·æ±‚åï¼Œè¿›ä¸€æ­¥å°† I/O è¯·æ±‚å‘é€ DMAï¼Œç„¶åè®© CPU æ‰§è¡Œå…¶ä»–ä»»åŠ¡ï¼›</span></p></li><li><p><span>DMA è¿›ä¸€æ­¥å°† I/O è¯·æ±‚å‘é€ç»™ç£ç›˜ï¼›</span></p></li><li><p><span>ç£ç›˜æ”¶åˆ° DMA çš„ I/O è¯·æ±‚ï¼ŒæŠŠæ•°æ®ä»ç£ç›˜è¯»å–åˆ°ç£ç›˜æ§åˆ¶å™¨çš„ç¼“å†²åŒºä¸­ï¼Œå½“ç£ç›˜æ§åˆ¶å™¨çš„ç¼“å†²åŒºè¢«è¯»æ»¡åï¼Œå‘ DMA å‘èµ·ä¸­æ–­ä¿¡å·ï¼Œå‘ŠçŸ¥è‡ªå·±ç¼“å†²åŒºå·²æ»¡ï¼›</span></p></li><li><p><strong><span>DMA æ”¶åˆ°ç£ç›˜çš„ä¿¡å·ï¼Œå°†ç£ç›˜æ§åˆ¶å™¨ç¼“å†²åŒºä¸­çš„æ•°æ®æ‹·è´åˆ°å†…æ ¸ç¼“å†²åŒºä¸­ï¼Œæ­¤æ—¶ä¸å ç”¨ CPUï¼ŒCPU å¯ä»¥æ‰§è¡Œå…¶ä»–ä»»åŠ¡</span></strong><span>ï¼›</span></p></li><li><p><span>å½“ DMA è¯»å–äº†è¶³å¤Ÿå¤šçš„æ•°æ®ï¼Œå°±ä¼šå‘é€ä¸­æ–­ä¿¡å·ç»™ CPUï¼›</span></p></li><li><p><span>CPU æ”¶åˆ° DMA çš„ä¿¡å·ï¼ŒçŸ¥é“æ•°æ®å·²ç»å‡†å¤‡å¥½ï¼Œäºæ˜¯å°†æ•°æ®ä»å†…æ ¸æ‹·è´åˆ°ç”¨æˆ·ç©ºé—´ï¼Œç³»ç»Ÿè°ƒç”¨è¿”å›ï¼›</span></p></li></ul><p><span>å¯ä»¥çœ‹åˆ°ï¼Œ </span><strong><span>CPU ä¸å†å‚ä¸ã€Œå°†æ•°æ®ä»ç£ç›˜æ§åˆ¶å™¨ç¼“å†²åŒºæ¬è¿åˆ°å†…æ ¸ç©ºé—´ã€çš„å·¥ä½œï¼Œè¿™éƒ¨åˆ†å·¥ä½œå…¨ç¨‹ç”± DMA å®Œæˆ</span></strong><span>ã€‚ä½†æ˜¯ CPU åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„ï¼Œå› ä¸ºä¼ è¾“ä»€ä¹ˆæ•°æ®ï¼Œä»å“ªé‡Œä¼ è¾“åˆ°å“ªé‡Œï¼Œéƒ½éœ€è¦ CPU æ¥å‘Šè¯‰ DMA æ§åˆ¶å™¨ã€‚</span></p><h3 id='ä¼ ç»Ÿçš„æ–‡ä»¶ä¼ è¾“æœ‰å¤šç³Ÿç³•'><span>ä¼ ç»Ÿçš„æ–‡ä»¶ä¼ è¾“æœ‰å¤šç³Ÿç³•ï¼Ÿ</span></h3><p><span>å¦‚æœæœåŠ¡ç«¯è¦æä¾›æ–‡ä»¶ä¼ è¾“çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬èƒ½æƒ³åˆ°çš„æœ€ç®€å•çš„æ–¹å¼æ˜¯ï¼šå°†ç£ç›˜ä¸Šçš„æ–‡ä»¶è¯»å–å‡ºæ¥ï¼Œç„¶åé€šè¿‡ç½‘ç»œåè®®å‘é€ç»™å®¢æˆ·ç«¯ã€‚</span></p><p><span>ä¼ ç»Ÿ I/O çš„å·¥ä½œæ–¹å¼æ˜¯ï¼Œæ•°æ®è¯»å–å’Œå†™å…¥æ˜¯ä»ç”¨æˆ·ç©ºé—´åˆ°å†…æ ¸ç©ºé—´æ¥å›å¤åˆ¶ï¼Œè€Œå†…æ ¸ç©ºé—´çš„æ•°æ®æ˜¯é€šè¿‡æ“ä½œç³»ç»Ÿå±‚é¢çš„ I/O æ¥å£ä»ç£ç›˜è¯»å–æˆ–å†™å…¥ã€‚</span></p><p><span>ä»£ç é€šå¸¸å¦‚ä¸‹ï¼Œä¸€èˆ¬ä¼šéœ€è¦ä¸¤ä¸ªç³»ç»Ÿè°ƒç”¨ï¼š</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="c"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="c"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: currentcolor;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: currentcolor;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">read</span>(<span class="cm-variable">file</span>, <span class="cm-variable">tmp_buf</span>, <span class="cm-variable">len</span>);</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">write</span>(<span class="cm-variable">socket</span>, <span class="cm-variable">tmp_buf</span>, <span class="cm-variable">len</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom-width: 0px; border-bottom-style: solid; border-bottom-color: transparent; top: 46px;"></div><div class="CodeMirror-gutters" style="display: none; height: 46px;"></div></div></div></pre><p><span>ä»£ç å¾ˆç®€å•ï¼Œè™½ç„¶å°±ä¸¤è¡Œä»£ç ï¼Œä½†æ˜¯è¿™é‡Œé¢å‘ç”Ÿäº†ä¸å°‘çš„äº‹æƒ…ã€‚</span></p><p><img src="assets/image-20240614203605527.png" alt="image-20240614203605527" style="zoom:30%;" /></p><p><span>é¦–å…ˆï¼ŒæœŸé—´å…±</span><strong><span>å‘ç”Ÿäº† 4 æ¬¡ç”¨æˆ·æ€ä¸å†…æ ¸æ€çš„ä¸Šä¸‹æ–‡åˆ‡æ¢</span></strong><span>ï¼Œå› ä¸ºå‘ç”Ÿäº†ä¸¤æ¬¡ç³»ç»Ÿè°ƒç”¨ï¼Œä¸€æ¬¡æ˜¯ </span><code>read()</code><span> ï¼Œä¸€æ¬¡æ˜¯ </span><code>write()</code><span>ï¼Œæ¯æ¬¡ç³»ç»Ÿè°ƒç”¨éƒ½å¾—å…ˆä»ç”¨æˆ·æ€åˆ‡æ¢åˆ°å†…æ ¸æ€ï¼Œç­‰å†…æ ¸å®Œæˆä»»åŠ¡åï¼Œå†ä»å†…æ ¸æ€åˆ‡æ¢å›ç”¨æˆ·æ€ã€‚</span></p><p><span>ä¸Šä¸‹æ–‡åˆ‡æ¢åˆ°æˆæœ¬å¹¶ä¸å°ï¼Œä¸€æ¬¡åˆ‡æ¢éœ€è¦è€—æ—¶å‡ åçº³ç§’åˆ°å‡ å¾®ç§’ï¼Œè™½ç„¶æ—¶é—´çœ‹ä¸Šå»å¾ˆçŸ­ï¼Œä½†æ˜¯åœ¨é«˜å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œè¿™ç±»æ—¶é—´å®¹æ˜“è¢«ç´¯ç§¯å’Œæ”¾å¤§ï¼Œä»è€Œå½±å“ç³»ç»Ÿçš„æ€§èƒ½ã€‚</span></p><p><span>å…¶æ¬¡ï¼Œè¿˜</span><strong><span>å‘ç”Ÿäº† 4 æ¬¡æ•°æ®æ‹·è´</span></strong><span>ï¼Œå…¶ä¸­ä¸¤æ¬¡æ˜¯ DMA çš„æ‹·è´ï¼Œå¦å¤–ä¸¤æ¬¡åˆ™æ˜¯é€šè¿‡ CPU æ‹·è´çš„ï¼Œä¸‹é¢è¯´ä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹ï¼š</span></p><ul><li><p><em><span>ç¬¬ä¸€æ¬¡æ‹·è´</span></em><span>ï¼ŒæŠŠç£ç›˜ä¸Šçš„æ•°æ®æ‹·è´åˆ°æ“ä½œç³»ç»Ÿå†…æ ¸çš„ç¼“å†²åŒºé‡Œï¼Œè¿™ä¸ªæ‹·è´çš„è¿‡ç¨‹æ˜¯é€šè¿‡ DMA æ¬è¿çš„ã€‚</span></p></li><li><p><em><span>ç¬¬äºŒæ¬¡æ‹·è´</span></em><span>ï¼ŒæŠŠå†…æ ¸ç¼“å†²åŒºçš„æ•°æ®æ‹·è´åˆ°ç”¨æˆ·çš„ç¼“å†²åŒºé‡Œï¼Œäºæ˜¯æˆ‘ä»¬åº”ç”¨ç¨‹åºå°±å¯ä»¥ä½¿ç”¨è¿™éƒ¨åˆ†æ•°æ®äº†ï¼Œè¿™ä¸ªæ‹·è´åˆ°è¿‡ç¨‹æ˜¯ç”± CPU å®Œæˆçš„ã€‚</span></p></li><li><p><em><span>ç¬¬ä¸‰æ¬¡æ‹·è´</span></em><span>ï¼ŒæŠŠåˆšæ‰æ‹·è´åˆ°ç”¨æˆ·çš„ç¼“å†²åŒºé‡Œçš„æ•°æ®ï¼Œå†æ‹·è´åˆ°å†…æ ¸çš„ socket çš„ç¼“å†²åŒºé‡Œï¼Œè¿™ä¸ªè¿‡ç¨‹ä¾ç„¶è¿˜æ˜¯ç”± CPU æ¬è¿çš„ã€‚</span></p></li><li><p><em><span>ç¬¬å››æ¬¡æ‹·è´</span></em><span>ï¼ŒæŠŠå†…æ ¸çš„ socket ç¼“å†²åŒºé‡Œçš„æ•°æ®ï¼Œæ‹·è´åˆ°ç½‘å¡çš„ç¼“å†²åŒºé‡Œï¼Œè¿™ä¸ªè¿‡ç¨‹åˆæ˜¯ç”± DMA æ¬è¿çš„ã€‚</span></p></li></ul><p><span>æ‰€ä»¥ï¼Œ</span><strong><span>è¦æƒ³æé«˜æ–‡ä»¶ä¼ è¾“çš„æ€§èƒ½ï¼Œå°±éœ€è¦å‡å°‘ã€Œç”¨æˆ·æ€ä¸å†…æ ¸æ€çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ã€å’Œã€Œå†…å­˜æ‹·è´ã€çš„æ¬¡æ•°</span></strong><span>ã€‚</span></p><h2 id='å¦‚ä½•ä¼˜åŒ–æ–‡ä»¶ä¼ è¾“çš„æ€§èƒ½'><span>å¦‚ä½•ä¼˜åŒ–æ–‡ä»¶ä¼ è¾“çš„æ€§èƒ½ï¼Ÿ</span></h2><ul><li><p><span>å¦‚ä½•å‡å°‘ã€Œç”¨æˆ·æ€ä¸å†…æ ¸æ€çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ã€çš„æ¬¡æ•°å‘¢ï¼Ÿ</span></p><ul><li><p><span>è¯»å–ç£ç›˜æ•°æ®çš„æ—¶å€™ï¼Œä¹‹æ‰€ä»¥è¦å‘ç”Ÿä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œè¿™æ˜¯å› ä¸ºç”¨æˆ·ç©ºé—´æ²¡æœ‰æƒé™æ“ä½œç£ç›˜æˆ–ç½‘å¡ï¼Œå†…æ ¸çš„æƒé™æœ€é«˜ï¼Œè¿™äº›æ“ä½œè®¾å¤‡çš„è¿‡ç¨‹éƒ½éœ€è¦äº¤ç”±æ“ä½œç³»ç»Ÿå†…æ ¸æ¥å®Œæˆï¼Œæ‰€ä»¥ä¸€èˆ¬è¦é€šè¿‡å†…æ ¸å»å®ŒæˆæŸäº›ä»»åŠ¡çš„æ—¶å€™ï¼Œå°±éœ€è¦ä½¿ç”¨æ“ä½œç³»ç»Ÿæä¾›çš„ç³»ç»Ÿè°ƒç”¨å‡½æ•°ã€‚</span></p></li><li><p><span>è€Œä¸€æ¬¡ç³»ç»Ÿè°ƒç”¨å¿…ç„¶ä¼šå‘ç”Ÿ 2 æ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼šé¦–å…ˆä»ç”¨æˆ·æ€åˆ‡æ¢åˆ°å†…æ ¸æ€ï¼Œå½“å†…æ ¸æ‰§è¡Œå®Œä»»åŠ¡åï¼Œå†åˆ‡æ¢å›ç”¨æˆ·æ€äº¤ç”±è¿›ç¨‹ä»£ç æ‰§è¡Œã€‚</span><strong><span>è¦æƒ³å‡å°‘ä¸Šä¸‹æ–‡åˆ‡æ¢åˆ°æ¬¡æ•°ï¼Œå°±è¦å‡å°‘ç³»ç»Ÿè°ƒç”¨çš„æ¬¡æ•°</span></strong><span>ã€‚</span></p></li></ul></li><li><p><span>å¦‚ä½•å‡å°‘ã€Œæ•°æ®æ‹·è´ã€çš„æ¬¡æ•°ï¼Ÿ</span></p><ul><li><p><span>ä¼ ç»Ÿçš„æ–‡ä»¶ä¼ è¾“æ–¹å¼ä¼šå†ç» 4 æ¬¡æ•°æ®æ‹·è´ï¼Œè€Œä¸”è¿™é‡Œé¢ï¼Œã€Œä»å†…æ ¸çš„è¯»ç¼“å†²åŒºæ‹·è´åˆ°ç”¨æˆ·çš„ç¼“å†²åŒºé‡Œï¼Œå†ä»ç”¨æˆ·çš„ç¼“å†²åŒºé‡Œæ‹·è´åˆ° socket çš„ç¼“å†²åŒºé‡Œã€ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯æ²¡æœ‰å¿…è¦çš„ã€‚</span></p></li><li><p>&nbsp;</p></li></ul></li></ul><h1 id='linuxå¸¸ç”¨æŒ‡ä»¤'><span>Linuxå¸¸ç”¨æŒ‡ä»¤</span></h1><h2 id='ç›®å½•åˆ‡æ¢å‘½ä»¤'><span>ç›®å½•åˆ‡æ¢å‘½ä»¤</span></h2><ul><li><p><strong><code>cd usr</code><span>ï¼š</span></strong><span> åˆ‡æ¢åˆ°è¯¥ç›®å½•ä¸‹ usr ç›®å½•</span></p></li><li><p><strong><code>cd ..ï¼ˆæˆ–cd../ï¼‰</code><span>ï¼š</span></strong><span> åˆ‡æ¢åˆ°ä¸Šä¸€å±‚ç›®å½•</span></p></li><li><p><strong><code>cd /</code><span>ï¼š</span></strong><span> åˆ‡æ¢åˆ°ç³»ç»Ÿæ ¹ç›®å½•</span></p></li><li><p><strong><code>cd ~</code><span>ï¼š</span></strong><span> åˆ‡æ¢åˆ°ç”¨æˆ·ä¸»ç›®å½•</span></p></li><li><p><strong><code>cd -</code><span>ï¼š</span></strong><span> åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªæ“ä½œæ‰€åœ¨ç›®å½•</span></p></li></ul><h2 id='ç›®å½•çš„æ“ä½œå‘½ä»¤å¢åˆ æ”¹æŸ¥'><span>ç›®å½•çš„æ“ä½œå‘½ä»¤(å¢åˆ æ”¹æŸ¥)</span></h2><ul><li><p><strong><code>mkdir ç›®å½•åç§°</code><span>ï¼š</span></strong><span> å¢åŠ ç›®å½•ã€‚</span></p></li><li><p><strong><code>ls/ll</code></strong><span>ï¼ˆll æ˜¯ ls -l çš„åˆ«åï¼Œll å‘½ä»¤å¯ä»¥çœ‹åˆ°è¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰ç›®å½•å’Œæ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ï¼‰ï¼šæŸ¥çœ‹ç›®å½•ä¿¡æ¯ã€‚</span></p></li><li><p><strong><code>find ç›®å½• å‚æ•°</code><span>ï¼š</span></strong><span> å¯»æ‰¾ç›®å½•ï¼ˆæŸ¥ï¼‰ã€‚ç¤ºä¾‹ï¼šâ‘  åˆ—å‡ºå½“å‰ç›®å½•åŠå­ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹: </span><code>find .</code><span>ï¼›â‘¡ åœ¨</span><code>/home</code><span>ç›®å½•ä¸‹æŸ¥æ‰¾ä»¥.txt ç»“å°¾çš„æ–‡ä»¶å:</span><code>find /home -name &quot;*.txt&quot;</code><span> ,å¿½ç•¥å¤§å°å†™: </span><code>find /home -iname &quot;*.txt&quot;</code><span> ï¼›â‘¢ å½“å‰ç›®å½•åŠå­ç›®å½•ä¸‹æŸ¥æ‰¾æ‰€æœ‰ä»¥.txt å’Œ.pdf ç»“å°¾çš„æ–‡ä»¶:</span><code>find . \( -name &quot;*.txt&quot; -o -name &quot;*.pdf&quot; \)</code><span>æˆ–</span><code>find . -name &quot;*.txt&quot; -o -name &quot;*.pdf&quot;</code><span>ã€‚</span></p></li><li><p><strong><code>mv ç›®å½•åç§° æ–°ç›®å½•åç§°</code><span>ï¼š</span></strong><span> ä¿®æ”¹ç›®å½•çš„åç§°ï¼ˆæ”¹ï¼‰ã€‚æ³¨æ„ï¼šmv çš„è¯­æ³•ä¸ä»…å¯ä»¥å¯¹ç›®å½•è¿›è¡Œé‡å‘½åè€Œä¸”ä¹Ÿå¯ä»¥å¯¹å„ç§æ–‡ä»¶ï¼Œå‹ç¼©åŒ…ç­‰è¿›è¡Œ é‡å‘½åçš„æ“ä½œã€‚mv å‘½ä»¤ç”¨æ¥å¯¹æ–‡ä»¶æˆ–ç›®å½•é‡æ–°å‘½åï¼Œæˆ–è€…å°†æ–‡ä»¶ä»ä¸€ä¸ªç›®å½•ç§»åˆ°å¦ä¸€ä¸ªç›®å½•ä¸­ã€‚åé¢ä¼šä»‹ç»åˆ° mv å‘½ä»¤çš„å¦ä¸€ä¸ªç”¨æ³•ã€‚</span></p></li><li><p><strong><code>mv ç›®å½•åç§° ç›®å½•çš„æ–°ä½ç½®</code><span>ï¼š</span></strong><span> ç§»åŠ¨ç›®å½•çš„ä½ç½®---å‰ªåˆ‡ï¼ˆæ”¹ï¼‰ã€‚æ³¨æ„ï¼šmv è¯­æ³•ä¸ä»…å¯ä»¥å¯¹ç›®å½•è¿›è¡Œå‰ªåˆ‡æ“ä½œï¼Œå¯¹æ–‡ä»¶å’Œå‹ç¼©åŒ…ç­‰éƒ½å¯æ‰§è¡Œå‰ªåˆ‡æ“ä½œã€‚å¦å¤– mv ä¸ cp çš„ç»“æœä¸åŒï¼Œmv å¥½åƒæ–‡ä»¶â€œæ¬å®¶â€ï¼Œæ–‡ä»¶ä¸ªæ•°å¹¶æœªå¢åŠ ã€‚è€Œ cp å¯¹æ–‡ä»¶è¿›è¡Œå¤åˆ¶ï¼Œæ–‡ä»¶ä¸ªæ•°å¢åŠ äº†ã€‚</span></p></li><li><p><strong><code>cp -r ç›®å½•åç§° ç›®å½•æ‹·è´çš„ç›®æ ‡ä½ç½®</code><span>ï¼š</span></strong><span> æ‹·è´ç›®å½•ï¼ˆæ”¹ï¼‰ï¼Œ-r ä»£è¡¨é€’å½’æ‹·è´ ã€‚æ³¨æ„ï¼šcp å‘½ä»¤ä¸ä»…å¯ä»¥æ‹·è´ç›®å½•è¿˜å¯ä»¥æ‹·è´æ–‡ä»¶ï¼Œå‹ç¼©åŒ…ç­‰ï¼Œæ‹·è´æ–‡ä»¶å’Œå‹ç¼©åŒ…æ—¶ä¸ ç”¨å†™-r é€’å½’ã€‚</span></p></li><li><p><strong><code>rm [-rf] ç›®å½•</code><span> :</span></strong><span> åˆ é™¤ç›®å½•ï¼ˆåˆ ï¼‰ã€‚æ³¨æ„ï¼šrm ä¸ä»…å¯ä»¥åˆ é™¤ç›®å½•ï¼Œä¹Ÿå¯ä»¥åˆ é™¤å…¶ä»–æ–‡ä»¶æˆ–å‹ç¼©åŒ…ï¼Œä¸ºäº†å¢å¼ºå¤§å®¶çš„è®°å¿†ï¼Œ æ— è®ºåˆ é™¤ä»»ä½•ç›®å½•æˆ–æ–‡ä»¶ï¼Œéƒ½ç›´æ¥ä½¿ç”¨</span><code>rm -rf</code><span> ç›®å½•/æ–‡ä»¶/å‹ç¼©åŒ…ã€‚</span></p></li></ul><h3 id='æ–‡ä»¶çš„æ“ä½œå‘½ä»¤å¢åˆ æ”¹æŸ¥'><span>æ–‡ä»¶çš„æ“ä½œå‘½ä»¤(å¢åˆ æ”¹æŸ¥)</span></h3><ul><li><p><strong><code>touch æ–‡ä»¶åç§°</code><span>:</span></strong><span> æ–‡ä»¶çš„åˆ›å»ºï¼ˆå¢ï¼‰ã€‚</span></p></li><li><p><strong><code>cat/more/less/tail æ–‡ä»¶åç§°</code></strong><span> ï¼šæ–‡ä»¶çš„æŸ¥çœ‹ï¼ˆæŸ¥ï¼‰ ã€‚å‘½ä»¤ </span><code>tail -f æ–‡ä»¶</code><span> å¯ä»¥å¯¹æŸä¸ªæ–‡ä»¶è¿›è¡ŒåŠ¨æ€ç›‘æ§ï¼Œä¾‹å¦‚ tomcat çš„æ—¥å¿—æ–‡ä»¶ï¼Œ ä¼šéšç€ç¨‹åºçš„è¿è¡Œï¼Œæ—¥å¿—ä¼šå˜åŒ–ï¼Œå¯ä»¥ä½¿ç”¨ </span><code>tail -f catalina-2016-11-11.log</code><span> ç›‘æ§ æ–‡ ä»¶çš„å˜åŒ– ã€‚</span></p></li><li><p><strong><code>vim æ–‡ä»¶</code><span>ï¼š</span></strong><span> ä¿®æ”¹æ–‡ä»¶çš„å†…å®¹ï¼ˆæ”¹ï¼‰ã€‚vim ç¼–è¾‘å™¨æ˜¯ Linux ä¸­çš„å¼ºå¤§ç»„ä»¶ï¼Œæ˜¯ vi ç¼–è¾‘å™¨çš„åŠ å¼ºç‰ˆï¼Œvim ç¼–è¾‘å™¨çš„å‘½ä»¤å’Œå¿«æ·æ–¹å¼æœ‰å¾ˆå¤šï¼Œä½†æ­¤å¤„ä¸ä¸€ä¸€é˜è¿°ï¼Œå¤§å®¶ä¹Ÿæ— éœ€ç ”ç©¶çš„å¾ˆé€å½»ï¼Œä½¿ç”¨ vim ç¼–è¾‘ä¿®æ”¹æ–‡ä»¶çš„æ–¹å¼åŸºæœ¬ä¼šä½¿ç”¨å°±å¯ä»¥äº†ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œä½¿ç”¨ vim ç¼–è¾‘å™¨ä¸»è¦ä½œç”¨å°±æ˜¯ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œä¸‹é¢æ˜¯ä¸€èˆ¬æ­¥éª¤ï¼š </span><code>vim æ–‡ä»¶------&gt;è¿›å…¥æ–‡ä»¶-----&gt;å‘½ä»¤æ¨¡å¼------&gt;æŒ‰iè¿›å…¥ç¼–è¾‘æ¨¡å¼-----&gt;ç¼–è¾‘æ–‡ä»¶ -------&gt;æŒ‰Escè¿›å…¥åº•è¡Œæ¨¡å¼-----&gt;è¾“å…¥ï¼šwq/q!</code><span> ï¼ˆè¾“å…¥ wq ä»£è¡¨å†™å…¥å†…å®¹å¹¶é€€å‡ºï¼Œå³ä¿å­˜ï¼›è¾“å…¥ q!ä»£è¡¨å¼ºåˆ¶é€€å‡ºä¸ä¿å­˜ï¼‰ã€‚</span></p></li><li><p><strong><code>rm -rf æ–‡ä»¶</code><span>ï¼š</span></strong><span> åˆ é™¤æ–‡ä»¶ï¼ˆåˆ ï¼‰ã€‚</span></p></li></ul><h2 id='å…¶ä»–å¸¸ç”¨å‘½ä»¤'><span>å…¶ä»–å¸¸ç”¨å‘½ä»¤</span></h2><ul><li><p><strong><code>pwd</code><span>ï¼š</span></strong><span> æ˜¾ç¤ºå½“å‰æ‰€åœ¨ä½ç½®</span></p></li><li><p><code>sudo + å…¶ä»–å‘½ä»¤</code><span>ï¼šä»¥ç³»ç»Ÿç®¡ç†è€…çš„èº«ä»½æ‰§è¡ŒæŒ‡ä»¤ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç»ç”± sudo æ‰€æ‰§è¡Œçš„æŒ‡ä»¤å°±å¥½åƒæ˜¯ root äº²è‡ªæ‰§è¡Œã€‚</span></p></li><li><p><strong><code>grep è¦æœç´¢çš„å­—ç¬¦ä¸² è¦æœç´¢çš„æ–‡ä»¶ --color</code><span>ï¼š</span></strong><span> æœç´¢å‘½ä»¤ï¼Œ--color ä»£è¡¨é«˜äº®æ˜¾ç¤º</span></p></li><li><p><strong><code>ps -ef</code><span>/</span><code>ps -aux</code><span>ï¼š</span></strong><span> è¿™ä¸¤ä¸ªå‘½ä»¤éƒ½æ˜¯æŸ¥çœ‹å½“å‰ç³»ç»Ÿæ­£åœ¨è¿è¡Œè¿›ç¨‹ï¼Œä¸¤è€…çš„åŒºåˆ«æ˜¯å±•ç¤ºæ ¼å¼ä¸åŒã€‚å¦‚æœæƒ³è¦æŸ¥çœ‹ç‰¹å®šçš„è¿›ç¨‹å¯ä»¥ä½¿ç”¨è¿™æ ·çš„æ ¼å¼ï¼š</span><strong><code>ps aux|grep redis</code></strong><span> ï¼ˆæŸ¥çœ‹åŒ…æ‹¬ redis å­—ç¬¦ä¸²çš„è¿›ç¨‹ï¼‰ï¼Œä¹Ÿå¯ä½¿ç”¨ </span><code>pgrep redis -a</code><span>ã€‚</span></p><p><span>æ³¨æ„ï¼šå¦‚æœç›´æ¥ç”¨ psï¼ˆï¼ˆProcess Statusï¼‰ï¼‰å‘½ä»¤ï¼Œä¼šæ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹çš„çŠ¶æ€ï¼Œé€šå¸¸ç»“åˆ grep å‘½ä»¤æŸ¥çœ‹æŸè¿›ç¨‹çš„çŠ¶æ€ã€‚</span></p></li><li><p><strong><code>kill -9 è¿›ç¨‹çš„pid</code><span>ï¼š</span></strong><span> æ€æ­»è¿›ç¨‹ï¼ˆ-9 è¡¨ç¤ºå¼ºåˆ¶ç»ˆæ­¢ã€‚ï¼‰</span></p><p><span>å…ˆç”¨ ps æŸ¥æ‰¾è¿›ç¨‹ï¼Œç„¶åç”¨ kill æ€æ‰</span></p></li><li><p><strong><span>ç½‘ç»œé€šä¿¡å‘½ä»¤ï¼š</span></strong></p><ul><li><p><span>æŸ¥çœ‹å½“å‰ç³»ç»Ÿçš„ç½‘å¡ä¿¡æ¯ï¼š</span><code>ifconfig</code></p></li><li><p><span>æŸ¥çœ‹ä¸æŸå°æœºå™¨çš„è¿æ¥æƒ…å†µï¼š</span><code>ping</code></p></li><li><p><span>æŸ¥çœ‹å½“å‰ç³»ç»Ÿçš„ç«¯å£ä½¿ç”¨ï¼š</span><code>netstat -an</code></p></li></ul></li><li><p><strong><span>net-tools å’Œ iproute2 ï¼š</span></strong><span> </span><code>net-tools</code><span>èµ·æºäº BSD çš„ TCP/IP å·¥å…·ç®±ï¼Œåæ¥æˆä¸ºè€ç‰ˆæœ¬ LinuxLinux ä¸­é…ç½®ç½‘ç»œåŠŸèƒ½çš„å·¥å…·ã€‚ä½†è‡ª 2001 å¹´èµ·ï¼ŒLinux ç¤¾åŒºå·²ç»å¯¹å…¶åœæ­¢ç»´æŠ¤ã€‚åŒæ—¶ï¼Œä¸€äº› Linux å‘è¡Œç‰ˆæ¯”å¦‚ Arch Linux å’Œ CentOS/RHEL 7 åˆ™å·²ç»å®Œå…¨æŠ›å¼ƒäº† net-toolsï¼Œåªæ”¯æŒ</span><code>iproute2</code><span>ã€‚linux ip å‘½ä»¤ç±»ä¼¼äº ifconfigï¼Œä½†åŠŸèƒ½æ›´å¼ºå¤§ï¼Œæ—¨åœ¨æ›¿ä»£å®ƒã€‚æ›´å¤šè¯¦æƒ…è¯·é˜…è¯»</span><a href='https://linoxide.com/linux-command/use-ip-command-linux'><span>å¦‚ä½•åœ¨ Linux ä¸­ä½¿ç”¨ IP å‘½ä»¤å’Œç¤ºä¾‹</span></a></p></li><li><p><strong><code>shutdown</code><span>ï¼š</span></strong><span> </span><code>shutdown -h now</code><span>ï¼š æŒ‡å®šç°åœ¨ç«‹å³å…³æœºï¼›</span><code>shutdown +5 &quot;System will shutdown after 5 minutes&quot;</code><span>ï¼šæŒ‡å®š 5 åˆ†é’Ÿåå…³æœºï¼ŒåŒæ—¶é€å‡ºè­¦å‘Šä¿¡æ¯ç»™ç™»å…¥ç”¨æˆ·ã€‚</span></p></li><li><p><strong><code>reboot</code><span>ï¼š</span></strong><span> </span><strong><code>reboot</code><span>ï¼š</span></strong><span> é‡å¼€æœºã€‚</span><strong><code>reboot -w</code><span>ï¼š</span></strong><span> åšä¸ªé‡å¼€æœºçš„æ¨¡æ‹Ÿï¼ˆåªæœ‰çºªå½•å¹¶ä¸ä¼šçœŸçš„é‡å¼€æœºï¼‰ã€‚</span></p></li></ul><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p><p>&nbsp;</p></div></div>

<script>(function(){var e=document.body.parentElement,t=[],n=null,i=document.body.classList.contains("typora-export-collapse-outline"),r=function(e,t,n){document.addEventListener(e,function(e){if(!e.defaultPrevented)for(var i=e.target;i&&i!=this;i=i.parentNode)if(i.matches(t)){!1===n.call(i,e)&&(e.preventDefault(),e.stopPropagation());break}},!1)};function o(){return e.scrollTop}r("click",".outline-expander",function(e){var t=this.closest(".outline-item-wrapper").classList;return t.contains("outline-item-open")?t.remove("outline-item-open"):t.add("outline-item-open"),d(),!1}),r("click",".outline-item",function(e){var t=this.querySelector(".outline-label");if(location.hash="#"+t.getAttribute("href"),i){var n=this.closest(".outline-item-wrapper").classList;n.contains("outline-item-open")||n.add("outline-item-open"),c(),n.add("outline-item-active")}});var a,s,l=function(){var e=o();n=null;for(var i=0;i<t.length&&t[i][1]-e<60;i++)n=t[i]},c=function(){document.querySelectorAll(".outline-item-active").forEach(e=>e.classList.remove("outline-item-active")),document.querySelectorAll(".outline-item-single.outline-item-open").forEach(e=>e.classList.remove("outline-item-open"))},d=function(){if(n){c();var e=document.querySelector('.outline-label[href="#'+(CSS.escape?CSS.escape(n[0]):n[0])+'"]');if(e)if(i){var t=e.closest(".outline-item-open>ul>.outline-item-wrapper");if(t)t.classList.add("outline-item-active");else{for(var r=(e=e.closest(".outline-item-wrapper")).parentElement.closest(".outline-item-wrapper");r;)r=(e=r).parentElement.closest(".outline-item-wrapper");e.classList.add("outline-item-active")}}else e.closest(".outline-item-wrapper").classList.add("outline-item-active")}};window.addEventListener("scroll",function(e){a&&clearTimeout(a),a=setTimeout(function(){l(),d()},300)});var u=function(){s=setTimeout(function(){!function(){t=[];var e=o();document.querySelector("#write").querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(n=>{var i=n.getAttribute("id");t.push([i,e+n.getBoundingClientRect().y])})}(),l(),d()},300)};window.addEventListener("resize",function(e){s&&clearTimeout(s),u()}),u()})();</script></body>
</html>